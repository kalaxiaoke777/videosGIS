// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.21/esri/copyright.txt for details.
//>>built
require({cache:{"esri/chunks/arcade":function(){define("require exports ../arcade/arcadeCompiler ../arcade/arcadeRuntime ../arcade/parser ../arcade/treeAnalysis ../core/has ../core/promiseUtils".split(" "),function(D,w,G,B,m,k,u,n){function e(ba,ia){return!0===ia.useAsync||!0===ba.isAsync?p(ba,ia):u("csp-restrictions")?function(wa){return B.executeScript(ba,wa)}:G.compileScript(ba,ia)}function p(ba,ia){if(null===V)throw Error("Async Arcade must be enabled for this script");return u("csp-restrictions")||
!1===la?function(wa){return V.executeScript(ba,wa)}:G.compileScript(ba,ia,!0)}function y(ba){B.extend(ba);G.extend(ba,"sync");null===V?U.push(ba):(G.extend(ba,"async"),V.extend(ba))}function b(ba,ia=[]){return m.parseScript(ba,ia)}function h(ba,ia,wa=""){return m.validateScript(ba,ia,wa)}function l(ba,ia,wa,J=""){return m.scriptCheck(ba,ia,wa,J)}function z(ba,ia,wa=[]){ba=m.parseScript(ba,wa);return A(ba,ia)}function A(ba,ia){if(!0===ia.useAsync||!0===ba.isAsync){if(null===V)throw Error("Async Arcade must be enabled for this script");
return V.executeScript(ba,ia)}return B.executeScript(ba,ia)}function F(ba,ia){return B.referencesMember(ba,ia)}function E(ba,ia){return B.referencesFunction(ba,ia)}function N(ba,ia){return m.extractFieldLiterals(ba)}function c(ba){return m.extractExpectedFieldLiterals(ba)}function q(ba,ia=[]){void 0===ba.usesGeometry&&k.findScriptDependencies(ba,ia);return!0===ba.usesGeometry}function d(){return W?W:W=n.all([new Promise(function(ba,ia){D(["../geometry/geometryEngine"],ba,ia)}),new Promise(function(ba,
ia){D(["../arcade/functions/geomsync"],ba,ia)})]).then(([ba,ia])=>{M=!0;ia.setGeometryEngine(ba);return!0})}function t(){return null!==ka?ka:ka=G.enableAsyncSupport().then(()=>new Promise(function(ba,ia){D(["../arcade/arcadeAsyncRuntime"],ba,ia)})).then(ba=>{V=ba;for(const ia of U)V.extend(ia),G.extend(ia,"async");U=null;return!0})}function f(){return ma}function S(){return V?!0:!1}function da(){return M}function aa(){return ra?ra:ra=t().then(()=>n.all([new Promise(function(ba,ia){D(["../arcade/featureSetUtils"],
ba,ia)}),new Promise(function(ba,ia){D(["../arcade/functions/featuresetbase"],ba,ia)}),new Promise(function(ba,ia){D(["../arcade/functions/featuresetgeom"],ba,ia)}),new Promise(function(ba,ia){D(["../arcade/functions/featuresetstats"],ba,ia)}),new Promise(function(ba,ia){D(["../arcade/functions/featuresetstring"],ba,ia)})]).then(([ba,ia,wa,J,H])=>{za=ba;V.extend([ia,wa,J,H]);G.extend([ia,wa,J,H],"async");return ma=!0}))}function Ja(ba,ia=[]){void 0===ba.usesFeatureSet&&k.findScriptDependencies(ba,
ia);return!0===ba.usesFeatureSet}function na(ba,ia=[]){void 0===ba.isAsync&&k.findScriptDependencies(ba,ia);return!0===ba.isAsync}function Ca(ba,ia){if(ia)for(const wa of ia)if(F(ba,wa))return!0;return!1}function Ua(ba,ia,wa=[],J=!1){return n.create((H,Q)=>{const R="string"===typeof ba?b(ba):ba,Z=[];R&&(!1===M&&(q(R)||J)&&Z.push(d()),!1===S()&&(!0===R.isAsync||ia)&&Z.push(t()),!1===ma&&(Ja(R)||Ca(R,wa))&&Z.push(aa()));Z.length?n.all(Z).then(()=>{H(!0)},Q):H(!0)})}function Qa(ba){if(q(ba))return!0;
ba=k.findFunctionCalls(ba);let ia=!1;for(let wa=0;wa<ba.length;wa++)if(-1<fa.indexOf(ba[wa])){ia=!0;break}return ia}function ha(){return za}const fa="feature angle bearing centroid envelopeintersects extent geometry isselfintersecting ringisclockwise".split(" "),la=function(){if(u("csp-restrictions"))return!1;try{return(new Function("function* test() {}; return true"))()}catch(ba){return!1}}();let ma=!1,M=!1,V=null,U=[],W=null,ka=null,ra=null,za=null;var qa=Object.freeze({__proto__:null,compileScript:e,
extend:y,parseScript:b,validateScript:h,scriptCheck:l,parseAndExecuteScript:z,executeScript:A,referencesMember:F,referencesFunction:E,extractFieldLiterals:N,extractExpectedFieldLiterals:c,scriptUsesGeometryEngine:q,enableGeometrySupport:d,enableAsyncSupport:t,isFeatureSetSupportEnabled:f,isAsyncEnabled:S,isGeometryEnabled:da,enableFeatureSetSupport:aa,scriptUsesFeatureSet:Ja,scriptIsAsync:na,loadScriptDependencies:Ua,scriptTouchesGeometry:Qa,featureSetUtils:ha});w.arcade=qa;w.compileScript=e;w.enableAsyncSupport=
t;w.enableFeatureSetSupport=aa;w.enableGeometrySupport=d;w.executeScript=A;w.extend=y;w.extractExpectedFieldLiterals=c;w.extractFieldLiterals=N;w.featureSetUtils=ha;w.isAsyncEnabled=S;w.isFeatureSetSupportEnabled=f;w.isGeometryEnabled=da;w.loadScriptDependencies=Ua;w.parseAndExecuteScript=z;w.parseScript=b;w.referencesFunction=E;w.referencesMember=F;w.scriptCheck=l;w.scriptIsAsync=na;w.scriptTouchesGeometry=Qa;w.scriptUsesFeatureSet=Ja;w.scriptUsesGeometryEngine=q;w.validateScript=h})},"esri/arcade/arcadeCompiler":function(){define("require exports ./ArcadePortal ./Attachment ./Dictionary ./Feature ./ImmutablePathArray ./ImmutablePointArray ../chunks/languageUtils ./treeAnalysis ./functions/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../core/promiseUtils ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/SpatialReference ../views/2d/layers/features/support/FeatureSetReader".split(" "),
function(D,w,G,B,m,k,u,n,e,p,y,b,h,l,z,A,F,E,N,c,q,d,t,f,S,da){function aa(r,v,L){try{return L(r,null,v)}catch(P){throw P;}}function Ja(r){return r instanceof Error?E.reject(r):E.reject(Error(r))}function na(r,v){try{switch(v.type){case "EmptyStatement":return"lc.voidOperation";case "VariableDeclarator":return fa(r,v);case "VariableDeclaration":var L,P=[];for(var Y=0;Y<v.declarations.length;Y++)P.push(na(r,v.declarations[Y]));return L=P.join("\n")+" \n lastStatement\x3d  lc.voidOperation; \n";case "BlockStatement":return ha(r,
v);case "FunctionDeclaration":{const oa=v.id.name.toLowerCase(),Fa={isAsync:r.isAsync,spatialReference:r.spatialReference,console:r.console,lrucache:r.lrucache,interceptor:r.interceptor,services:r.services,symbols:r.symbols,mangleMap:r.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:r.depthCounter+1,globalScope:r.globalScope};if(64<Fa.depthCounter)throw Error("Exceeded maximum function depth");P="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement \x3d lc.voidOperation; \n   var lscope \x3d runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";
for(L=0;L<v.params.length;L++){const x=v.params[L].name.toLowerCase(),K=za(r);Fa.localScope._SymbolsMap[x]=K;Fa.mangleMap[x]=K;P+="lscope['"+K+"']\x3darguments["+L.toString()+"];\n"}!0===r.isAsync?(P=P+"return lang.__awaiter(this, void 0, void 0, function* () {\n"+(ha(Fa,v.body)+"\n return lastStatement; "),P+="});  }, runtimeCtx))\n lastStatement \x3d lc.voidOperation; \n"):(P+=ha(Fa,v.body)+"\n return lastStatement; }, runtimeCtx))",P+="\n lastStatement \x3d lc.voidOperation; \n");if(void 0!==r.globalScope[oa])Y=
"gscope['"+oa+"']\x3d"+P;else if(void 0!==r.globalScope._SymbolsMap[oa])Y="gscope['"+r.globalScope._SymbolsMap[oa]+"']\x3d"+P;else{{const x=za(r);r.globalScope._SymbolsMap[oa]=x;r.mangleMap[oa]=x;Y="gscope['"+x+"']\x3d"+P}}}return Y;case "ReturnStatement":var va=null===v.argument?"return lc.voidOperation":"return "+na(r,v.argument);return va;case "IfStatement":{if("AssignmentExpression"===v.test.type||"UpdateExpression"===v.test.type)throw Error(p.nodeErrorMessage(v.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));
const oa=na(r,v.test),Fa=qa(r);let x="var "+Fa+" \x3d "+oa+";\n if ("+Fa+" \x3d\x3d\x3d true) {\n"+Qa(r,v.consequent)+"\n }\n";x=null!==v.alternate?x+("else if ("+Fa+"\x3d\x3d\x3dfalse)   { \n"+Qa(r,v.alternate)+"}\n"):x+("else if ("+Fa+"\x3d\x3d\x3dfalse) { \n lastStatement \x3d lc.voidOperation;\n }\n");var Da=x+="else { lang.error({type: '"+v.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n"}return Da;case "ExpressionStatement":var Ka="AssignmentExpression"===v.expression.type?"lastStatement \x3d lc.voidOperation; "+
na(r,v.expression)+"; \n ":"lastStatement \x3d "+na(r,v.expression)+"; ";return Ka;case "AssignmentExpression":return Ua(r,v);case "UpdateExpression":return Ca(r,v);case "BreakStatement":return"break";case "ContinueStatement":return"continue";case "TemplateLiteral":try{P=[];L=0;for(const oa of v.quasis)P.push(oa.value?JSON.stringify(oa.value.cooked):JSON.stringify("")),!1===oa.tail&&(P.push(v.expressions[L]?"lang.castString(lang.aCheck("+na(r,v.expressions[L])+", 'TemplateLiteral'))":""),L++);var ea=
"(["+P.join(",")+"]).join('')"}catch(oa){throw oa;}return ea;case "TemplateElement":return JSON.stringify(v.value?v.value.cooked:"");case "ForStatement":{P="lastStatement \x3d lc.voidOperation; \n";null!==v.init&&(P+=na(r,v.init)+"; ");const oa=qa(r),Fa=qa(r);P+="var "+oa+" \x3d true; \n do { ";null!==v.update&&(P+=" if ("+oa+"\x3d\x3d\x3dfalse) {\n "+na(r,v.update)+"  \n}\n "+oa+"\x3dfalse; \n");null!==v.test&&(P+="var "+Fa+" \x3d "+na(r,v.test)+"; ",P+="if ("+Fa+"\x3d\x3d\x3dfalse) { break; } else if ("+
Fa+"!\x3d\x3dtrue) { lang.error({type: '"+v.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n");P+=na(r,v.body);null!==v.update&&(P+="\n "+na(r,v.update));var ua=P+("\n"+oa+" \x3d true; \n} while(true);  lastStatement \x3d lc.voidOperation; ")}return ua;case "ForInStatement":{const oa=qa(r),Fa=qa(r),x=qa(r);let K="var "+oa+" \x3d "+na(r,v.right)+";\n";"VariableDeclaration"===v.left.type&&(K+=na(r,v.left));let X="VariableDeclaration"===v.left.type?v.left.declarations[0].id.name:v.left.name;
X=X.toLowerCase();P="";null!==r.localScope&&(void 0!==r.localScope[X]?P="lscope['"+X+"']":void 0!==r.localScope._SymbolsMap[X]&&(P="lscope['"+r.localScope._SymbolsMap[X]+"']"));""===P&&(void 0!==r.globalScope[X]?P="gscope['"+X+"']":void 0!==r.globalScope._SymbolsMap[X]&&(P="gscope['"+r.globalScope._SymbolsMap[X]+"']"));K=K+("if ("+oa+"\x3d\x3d\x3dnull) {  lastStatement \x3d lc.voidOperation; }\n else if (lc.isArray(")+(oa+") || lc.isString("+oa+")) {var ")+(Fa+"\x3d"+oa+".length; \nfor(var ")+(x+
"\x3d0; "+x+"\x3c"+Fa+"; "+x+"++) {\n");K+=P+"\x3d"+x+";\n";K+=na(r,v.body);K+="\n}\n";K+=" lastStatement \x3d lc.voidOperation; \n";K+=" \n}\n";K+="else if (lc.isImmutableArray("+oa+")) {";K=K+("var "+Fa+"\x3d"+oa+".length(); \nfor(var ")+(x+"\x3d0; "+x+"\x3c"+Fa+"; "+x+"++) {\n");K+=P+"\x3d"+x+";\n";K+=na(r,v.body);K+="\n}\n";K+=" lastStatement \x3d lc.voidOperation; \n";K+=" \n}\n";K+="else if (( "+oa+" instanceof lang.Dictionary) || ( "+oa+" instanceof lang.Feature)) {";K=K+("var "+Fa+"\x3d"+
oa+".keys(); \nfor(var ")+(x+"\x3d0; "+x+"\x3c"+Fa+".length; "+x+"++) {\n");K+=P+"\x3d"+Fa+"["+x+"];\n";K+=na(r,v.body);K+="\n}\n";K+=" lastStatement \x3d lc.voidOperation; \n";K+=" \n}\n";r.isAsync&&(K+="else if (lc.isFeatureSet("+oa+")) {",K=K+("var "+Fa+"\x3d"+oa+".iterator(runtimeCtx.abortSignal); \nfor(var ")+(x+"\x3dlang. graphicToFeature( yield "+Fa+".next(),"+oa+"); "+x+"!\x3dnull; "+x+"\x3dlang. graphicToFeature( yield "+Fa+".next(),"+oa+")) {\n")+(P+"\x3d"+x+";\n"),K+=na(r,v.body),K+="\n}\n",
K+=" lastStatement \x3d lc.voidOperation; \n",K+=" \n}\n");var ya=K+="else { lastStatement \x3d lc.voidOperation; } \n"}return ya;case "Identifier":return ma(r,v);case "MemberExpression":try{let oa;oa=!0===v.computed?na(r,v.property):"'"+v.property.name+"'";var db="lang.member("+na(r,v.object)+","+oa+")"}catch(oa){throw oa;}return db;case "Literal":return null===v.value||void 0===v.value?"null":JSON.stringify(v.value);case "ThisExpression":throw Error(p.nodeErrorMessage(v,"RUNTIME","NOTSUPPORTED"));
case "CallExpression":try{if("Identifier"!==v.callee.type)throw Error(p.nodeErrorMessage(v,"RUNTIME","ONLYNODESSUPPORTED"));const oa=v.callee.name.toLowerCase();L="";null!==r.localScope&&(void 0!==r.localScope[oa]?L="lscope['"+oa+"']":void 0!==r.localScope._SymbolsMap[oa]&&(L="lscope['"+r.localScope._SymbolsMap[oa]+"']"));""===L&&(void 0!==r.globalScope[oa]?L="gscope['"+oa+"']":void 0!==r.globalScope._SymbolsMap[oa]&&(L="gscope['"+r.globalScope._SymbolsMap[oa]+"']"));if(""!==L){Y="[";for(ea=0;ea<
v.arguments.length;ea++)0<ea&&(Y+=", "),Y+=na(r,v.arguments[ea]);Y+="]";P=r.isAsync?"(yield lang.callfunc("+L+","+Y+",runtimeCtx) )":"lang.callfunc("+L+","+Y+",runtimeCtx)"}else throw Error(p.nodeErrorMessage(v,"RUNTIME","NOTFOUND"));}catch(oa){throw oa;}return P;case "UnaryExpression":try{var kb="lang.unary("+na(r,v.argument)+",'"+v.operator+"')"}catch(oa){throw oa;}return kb;case "BinaryExpression":try{var lb="lang.binary("+na(r,v.left)+","+na(r,v.right)+",'"+v.operator+"')"}catch(oa){throw oa;
}return lb;case "LogicalExpression":try{if("AssignmentExpression"===v.left.type||"UpdateExpression"===v.left.type)throw Error(p.nodeErrorMessage(v.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===v.right.type||"UpdateExpression"===v.right.type)throw Error(p.nodeErrorMessage(v.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("\x26\x26"===v.operator||"||"===v.operator)var Va="(lang.logicalCheck("+na(r,v.left)+") "+v.operator+" lang.logicalCheck("+na(r,v.right)+
"))";else throw Error(p.nodeErrorMessage(v,"RUNTIME","ONLYORORAND"));}catch(oa){throw oa;}return Va;case "ConditionalExpression":throw Error(p.nodeErrorMessage(v,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{P=[];for(L=0;L<v.elements.length;L++)"Literal"===v.elements[L].type?P.push(na(r,v.elements[L])):P.push("lang.aCheck("+na(r,v.elements[L])+",'ArrayExpression')");var hb="["+P.join(",")+"]"}catch(oa){throw oa;}return hb;case "ObjectExpression":var Wa;P="lang.dictionary([";for(L=0;L<v.properties.length;L++){const oa=
v.properties[L],Fa="Identifier"===oa.key.type?"'"+oa.key.name+"'":na(r,oa.key),x=na(r,oa.value);0<L&&(P+=",");P+="lang.strCheck("+Fa+",'ObjectExpression'),lang.aCheck("+x+", 'ObjectExpression')"}return Wa=P+"])";case "Property":throw Error("Should not get here");case "Array":throw Error(p.nodeErrorMessage(v,"RUNTIME","NOTSUPPORTED"));default:throw Error(p.nodeErrorMessage(v,"RUNTIME","UNREOGNISED"));}}catch(oa){throw oa;}}function Ca(r,v){let L=null,P="";if("MemberExpression"===v.argument.type)return L=
na(r,v.argument.object),P=!0===v.argument.computed?na(r,v.argument.property):"'"+v.argument.property.name+"'","lang.memberupdate("+L+","+P+",'"+v.operator+"',"+v.prefix+")";L=v.argument.name.toLowerCase();if(null!==r.localScope){if(void 0!==r.localScope[L])return"lang.update(lscope, '"+L+"','"+v.operator+"',"+v.prefix+")";if(void 0!==r.localScope._SymbolsMap[L])return"lang.update(lscope, '"+r.localScope._SymbolsMap[L]+"','"+v.operator+"',"+v.prefix+")"}if(void 0!==r.globalScope[L])return"lang.update(gscope, '"+
L+"','"+v.operator+"',"+v.prefix+")";if(void 0!==r.globalScope._SymbolsMap[L])return"lang.update(gscope, '"+r.globalScope._SymbolsMap[L]+"','"+v.operator+"',"+v.prefix+")";throw Error("Variable not recognised");}function Ua(r,v){const L=na(r,v.right);let P=null,Y="";if("MemberExpression"===v.left.type)return P=na(r,v.left.object),Y=!0===v.left.computed?na(r,v.left.property):"'"+v.left.property.name+"'","lang.assignmember("+P+","+Y+",'"+v.operator+"',"+L+")";P=v.left.name.toLowerCase();if(null!==r.localScope){if(void 0!==
r.localScope[P])return"lscope['"+P+"']\x3dlang.assign("+L+",'"+v.operator+"', lscope['"+P+"'])";if(void 0!==r.localScope._SymbolsMap[P])return"lscope['"+r.localScope._SymbolsMap[P]+"']\x3dlang.assign("+L+",'"+v.operator+"', lscope['"+r.localScope._SymbolsMap[P]+"'])"}if(void 0!==r.globalScope[P])return"gscope['"+P+"']\x3dlang.assign("+L+",'"+v.operator+"', gscope['"+P+"'])";if(void 0!==r.globalScope._SymbolsMap[P])return"gscope['"+r.globalScope._SymbolsMap[P]+"']\x3dlang.assign("+L+",'"+v.operator+
"', gscope['"+r.globalScope._SymbolsMap[P]+"'])";throw Error("Variable not recognised");}function Qa(r,v){return"BlockStatement"===v.type?na(r,v):"ReturnStatement"===v.type||"BreakStatement"===v.type||"ContinueStatement"===v.type?na(r,v)+"; ":"UpdateExpression"===v.type?"lastStatement \x3d "+na(r,v)+"; ":"ExpressionStatement"===v.type?na(r,v):"ObjectExpression"===v.type?"lastStatement \x3d "+na(r,v)+"; ":na(r,v)+"; "}function ha(r,v){let L="";for(let P=0;P<v.body.length;P++)L="ReturnStatement"===
v.body[P].type?L+(na(r,v.body[P])+"; \n"):"BreakStatement"===v.body[P].type?L+(na(r,v.body[P])+"; \n"):"ContinueStatement"===v.body[P].type?L+(na(r,v.body[P])+"; \n"):"UpdateExpression"===v.body[P].type?L+("lastStatement \x3d "+na(r,v.body[P])+"; \n"):"ObjectExpression"===v.body[P].type?L+("lastStatement \x3d "+na(r,v.body[P])+"; \n"):L+(na(r,v.body[P])+" \n");return L}function fa(r,v){let L=null===v.init?null:na(r,v.init);L===e.voidOperation&&(L=null);v=v.id.name.toLowerCase();if(null!==r.localScope){if(void 0!==
r.localScope[v])return"lscope['"+v+"']\x3d"+L+"; ";if(void 0!==r.localScope._SymbolsMap[v])return"lscope['"+r.localScope._SymbolsMap[v]+"']\x3d"+L+"; ";var P=za(r);r.localScope._SymbolsMap[v]=P;r.mangleMap[v]=P;return"lscope['"+P+"']\x3d"+L+"; "}if(void 0!==r.globalScope[v])return"gscope['"+v+"']\x3d"+L+"; ";if(void 0!==r.globalScope._SymbolsMap[v])return"gscope['"+r.globalScope._SymbolsMap[v]+"']\x3d"+L+"; ";P=za(r);r.globalScope._SymbolsMap[v]=P;r.mangleMap[v]=P;return"gscope['"+P+"']\x3d"+L+"; "}
function la(r,v,L){v=v.toLowerCase();switch(v){case "hasz":return r=r.hasZ,void 0===r?!1:r;case "hasm":return r=r.hasM,void 0===r?!1:r;case "spatialreference":return v=r.spatialReference._arcadeCacheId,void 0===v&&(L=!0,Object.freeze&&Object.isFrozen(r.spatialReference)&&(L=!1),L&&(H++,v=r.spatialReference._arcadeCacheId=H)),r=new m({wkt:r.spatialReference.wkt,wkid:r.spatialReference.wkid}),void 0!==v&&(r._arcadeCacheId="SPREF"+v.toString()),r}switch(r.type){case "extent":switch(v){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return r=
r[v],void 0!==r?r:null;case "type":return"Extent"}break;case "polygon":switch(v){case "rings":return v=r.cache._arcadeCacheId,void 0===v&&(H++,v=H,r.cache._arcadeCacheId=v),new u(r.rings,r.spatialReference,!0===r.hasZ,!0===r.hasM,v);case "type":return"Polygon"}break;case "point":switch(v){case "x":case "y":case "z":case "m":return void 0!==r[v]?r[v]:null;case "type":return"Point"}break;case "polyline":switch(v){case "paths":return v=r.cache._arcadeCacheId,void 0===v&&(H++,v=H,r.cache._arcadeCacheId=
v),new u(r.paths,r.spatialReference,!0===r.hasZ,!0===r.hasM,v);case "type":return"Polyline"}break;case "multipoint":switch(v){case "points":return v=r.cache._arcadeCacheId,void 0===v&&(H++,v=H,r.cache._arcadeCacheId=v),new n(r.points,r.spatialReference,!0===r.hasZ,!0===r.hasM,v,1);case "type":return"Multipoint"}}throw Error(p.nodeErrorMessage(L,"RUNTIME","PROPERTYNOTFOUND"));}function ma(r,v){try{const L=v.name.toLowerCase();if(null!==r.localScope){if(void 0!==r.localScope[L])return"lscope['"+L+"']";
if(void 0!==r.localScope._SymbolsMap[L])return"lscope['"+r.localScope._SymbolsMap[L]+"']"}if(void 0!==r.globalScope[L])return"gscope['"+L+"']";if(void 0!==r.globalScope._SymbolsMap[L])return"gscope['"+r.globalScope._SymbolsMap[L]+"']";throw Error(p.nodeErrorMessage(v,"RUNTIME","VARIABLENOTFOUND"));}catch(L){throw L;}}function M(r){return null===r?"":e.isArray(r)||e.isImmutableArray(r)?"Array":e.isDate(r)?"Date":e.isString(r)?"String":e.isBoolean(r)?"Boolean":e.isNumber(r)?"Number":r instanceof B?
"Attachment":r instanceof G?"Portal":r instanceof m?"Dictionary":r instanceof k?"Feature":r instanceof d?"Point":r instanceof t?"Polygon":r instanceof f?"Polyline":r instanceof q?"Multipoint":r instanceof N?"Extent":e.isFunctionParameter(r)?"Function":e.isFeatureSet(r)?"FeatureSet":e.isFeatureSetCollection(r)?"FeatureSetCollection":r===e.voidOperation?"":"number"===typeof r&&isNaN(r)?"Number":"Unrecognised Type"}function V(r,v,L,P){try{if(e.equalityTest(v[L],P))return v[L+1];{const Y=v.length-L;return 1===
Y?v[L]:2===Y?null:3===Y?v[L+2]:V(r,v,L+2,P)}}catch(Y){throw Y;}}function U(r,v,L,P){try{if(!0===P)return v[L+1];if(3===v.length-L)return v[L+2];{const Y=v[L+2];if(!1===e.isBoolean(Y))throw Error("WHEN needs boolean test conditions");return U(r,v,L+2,Y)}}catch(Y){throw Y;}}function W(r,v){var L=r.length,P=Math.floor(L/2);if(0===L)return[];if(1===L)return[r[0]];var Y=W(r.slice(0,P),v);r=W(r.slice(P,L),v);for(L=[];0<Y.length||0<r.length;)0<Y.length&&0<r.length?(P=v(Y[0],r[0]),isNaN(P)&&(P=0),0>=P?(L.push(Y[0]),
Y=Y.slice(1)):(L.push(r[0]),r=r.slice(1))):0<Y.length?(L.push(Y[0]),Y=Y.slice(1)):0<r.length&&(L.push(r[0]),r=r.slice(1));return v=L}function ka(r,v){try{const L=r.length,P=Math.floor(L/2);if(0===L)return E.resolve([]);if(1===L)return E.resolve([r[0]]);const Y=[ka(r.slice(0,P),v),ka(r.slice(P,L),v)];return E.all(Y).then(va=>ra(va[0],va[1],v,[]))}catch(L){return E.reject(L)}}function ra(r,v,L,P){return E.create((Y,va)=>{0<r.length||0<v.length?0<r.length&&0<v.length?L(r[0],v[0]).then(Da=>{try{isNaN(Da)&&
(Da=1),0>=Da?(P.push(r[0]),r=r.slice(1)):(P.push(v[0]),v=v.slice(1)),ra(r,v,L,P).then(Ka=>{Y(Ka)},va)}catch(Ka){va(Ka)}},va):0<r.length?(P.push(r[0]),r=r.slice(1),ra(r,v,L,P).then(Da=>{Y(Da)},va)):0<v.length&&(P.push(v[0]),v=v.slice(1),ra(r,v,L,P).then(Da=>{Y(Da)},va)):Y(P)})}function za(r){r.symbols.symbolCounter++;return"_T"+r.symbols.symbolCounter.toString()}function qa(r){r.symbols.symbolCounter++;return"_Tvar"+r.symbols.symbolCounter.toString()}function ba(r,v,L){const P={};r||(r={});L||(L={});
P._SymbolsMap={};P.textformatting=1;P.infinity=1;P.pi=1;for(const Y in v)P[Y]=1;for(const Y in L)P[Y]=1;for(const Y in r)P[Y]=1;return P}function ia(r,v){const L={mode:v,compiled:!0,functions:{},signatures:[],failDefferred:Ja,standardFunction:aa,standardFunctionAsync:aa,evaluateIdentifier:wa};for(let P=0;P<r.length;P++)r[P].registerFunctions(L);if("sync"===v){for(const P in L.functions)Q[P]=new e.NativeFunction(L.functions[P]),Z.prototype[P]=Q[P];for(r=0;r<L.signatures.length;r++)p.addFunctionDeclaration(L.signatures[r],
"sync")}else{for(const P in L.functions)R[P]=new e.NativeFunction(L.functions[P]),xa.prototype[P]=R[P];for(r=0;r<L.signatures.length;r++)p.addFunctionDeclaration(L.signatures[r],"async")}}function wa(r,v){v=v.name;if("_SymbolsMap"===v)throw"Illegal";if(0<r.localStack.length){if("_t"!==v.substr(0,2).toLowerCase()&&void 0!==r.localStack[r.localStack.length-1][v])return r.localStack[r.localStack.length-1][v];const L=r.mangleMap[v];if(void 0!==L&&void 0!==r.localStack[r.localStack.length-1][L])return r.localStack[r.localStack.length-
1][L]}if("_t"!==v.substr(0,2).toLowerCase()&&void 0!==r.globalScope[v]||1===r.globalScope._SymbolsMap[v])return r.globalScope[v];v=r.mangleMap[v];if(void 0!==v)return r.globalScope[v]}function J(r){console.log(r)}let H=0;const Q={};y.registerFunctions(Q,aa);b.registerFunctions(Q,aa);F.registerFunctions(Q,aa);z.registerFunctions(Q,aa);h.registerFunctions(Q,aa);A.registerFunctions(Q,aa);Q["typeof"]=function(r,v){return aa(r,v,function(L,P,Y){e.pcCheck(Y,1,1);L=M(Y[0]);if("Unrecognised Type"===L)throw Error("Unrecognised Type");
return L})};Q.iif=function(r,v){try{return aa(r,v,function(L,P,Y){e.pcCheck(Y,3,3);if(!1===e.isBoolean(Y[0]))throw Error("IF Function must have a boolean test condition");return Y[0]?Y[1]:Y[2]})}catch(L){throw L;}};Q.decode=function(r,v){try{return aa(r,v,function(L,P,Y){if(2>Y.length)throw Error("Missing Parameters");if(2===Y.length)return Y[1];if(0===(Y.length-1)%2)throw Error("Must have a default value result.");return V(r,Y,1,Y[0])})}catch(L){throw L;}};Q.when=function(r,v){try{return aa(r,v,
function(L,P,Y){if(3>Y.length)throw Error("Missing Parameters");if(0===Y.length%2)throw Error("Must have a default value result.");L=Y[0];if(!1===e.isBoolean(L))throw Error("WHEN needs boolean test conditions");return U(r,Y,0,L)})}catch(L){throw L;}};Q.top=function(r,v){return aa(r,v,function(L,P,Y){e.pcCheck(Y,2,2);if(e.isArray(Y[0]))return e.toNumber(Y[1])>=Y[0].length?Y[0].slice(0):Y[0].slice(0,e.toNumber(Y[1]));if(e.isImmutableArray(Y[0]))return e.toNumber(Y[1])>=Y[0].length()?Y[0].slice(0):Y[0].slice(0,
e.toNumber(Y[1]));throw Error("Top cannot accept this parameter type");})};Q.first=function(r,v){return aa(r,v,function(L,P,Y){e.pcCheck(Y,1,1);return e.isArray(Y[0])?0===Y[0].length?null:Y[0][0]:e.isImmutableArray(Y[0])?0===Y[0].length()?null:Y[0].get(0):null})};Q.sort=function(r,v){return aa(r,v,function(L,P,Y){e.pcCheck(Y,1,2);P=Y[0];e.isImmutableArray(P)&&(P=P.toArray());if(!1===e.isArray(P))throw Error("Illegal Argument");if(1<Y.length){if(!1===e.isFunctionParameter(Y[1]))throw Error("Illegal Argument");
var va=P;const ea=function(ua,ya){return Ea.callfunc(Y[1],[ua,ya],L)};return r.isAsync?ka(va,ea):va=W(va,function(ua,ya){return ea(ua,ya)})}{if(0===P.length)return[];const ea={};for(var Da=0;Da<P.length;Da++){var Ka=M(P[Da]);""!==Ka&&(ea[Ka]=!0)}if(!0===ea.Array||!0===ea.Dictionary||!0===ea.Feature||!0===ea.Point||!0===ea.Polygon||!0===ea.Polyline||!0===ea.Multipoint||!0===ea.Extent||!0===ea.Function)return P.slice(0);Da=0;Ka="";for(va in ea)Da++,Ka=va;return P=1<Da||"String"===Ka?W(P,function(ua,
ya){if(null===ua||void 0===ua||ua===e.voidOperation)return null===ya||void 0===ya||ya===e.voidOperation?0:1;if(null===ya||void 0===ya||ya===e.voidOperation)return-1;ua=e.toString(ua);ya=e.toString(ya);return ua<ya?-1:ua===ya?0:1}):"Number"===Ka?W(P,function(ua,ya){return ua-ya}):"Boolean"===Ka?W(P,function(ua,ya){return ua===ya?0:ya?-1:1}):"Date"===Ka?W(P,function(ua,ya){return ya-ua}):P.slice(0)}})};const R={};for(const r in Q)R[r]=new e.NativeFunction(Q[r]);l.registerFunctions(Q,aa);for(const r in Q)Q[r]=
new e.NativeFunction(Q[r]);const Z=function(){};Z.prototype=Q;const xa=function(){};xa.prototype=R;y={fixSpatialReference:e.fixSpatialReference,parseArguments:function(r,v){const L=[];for(let P=0;P<v.arguments.length;P++)L.push(na(r,v.arguments[P]));return L},standardFunction:aa};let La=0;const Ea={error(r,v,L){throw Error(p.nodeErrorMessage(r,v,L));},__awaiter(r,v,L,P){return E.create((Y,va)=>{function Da(ua){try{ea(P.next(ua))}catch(ya){va(ya)}}function Ka(ua){try{ea(P["throw"](ua))}catch(ya){va(ya)}}
function ea(ua){ua.done?Y(ua.value):ua.value&&ua.value.then?ua.value.then(Da,Ka):(La++,0===La%100?setTimeout(()=>{La=0;Da(ua.value)},0):Da(ua.value))}ea((P=P.apply(r,v||[])).next())})},functionDepthchecker(r,v){return function(){v.depthCounter++;v.localStack.push([]);if(64<v.depthCounter)throw Error("Exceeded maximum function depth");const L=r.apply(this,arguments);if(E.isPromiseLike(L))return L.then(P=>{v.depthCounter--;--v.localStack.length;return P});v.depthCounter--;--v.localStack.length;return L}},
castString(r){return e.toString(r)},aCheck(r,v){if(e.isFunctionParameter(r))throw Error(p.nodeErrorMessage({type:v},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return r===e.voidOperation?null:r},Dictionary:m,Feature:k,dictionary(r){const v={};for(let L=0;L<r.length;L+=2){if(e.isFunctionParameter(r[L+1]))throw Error("Illegal Argument");if(!1===e.isString(r[L]))throw Error("Illegal Argument");v[r[L].toString()]=r[L+1]===e.voidOperation?null:r[L+1]}r=new m(v);r.immutable=!1;return r},strCheck(r){if(!1===e.isString(r))throw Error("Illegal Argument");
return r},unary(r,v){if(e.isBoolean(r)){if("!"===v)return!r;if("-"===v)return-1*e.toNumber(r);if("+"===v)return 1*e.toNumber(r);if("~"===v)return~e.toNumber(r);throw Error(p.nodeErrorMessage({type:"UnaryExpression",operator:v,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("-"===v)return-1*e.toNumber(r);if("+"===v)return 1*e.toNumber(r);if("~"===v)return~e.toNumber(r);throw Error(p.nodeErrorMessage({type:"UnaryExpression",operator:v,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));
},logicalCheck(r){if(!1===e.isBoolean(r))throw Error(p.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));return r},logical(r,v,L){if(e.isBoolean(r)&&e.isBoolean(v))switch(L){case "||":return r||v;case "\x26\x26":return r&&v}throw Error(p.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));},binary(r,v,L){switch(L){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return e.binaryOperator(e.toNumber(r),
e.toNumber(v),L);case "\x3d\x3d":return e.equalityTest(r,v);case "\x3d":return e.equalityTest(r,v);case "!\x3d":return!e.equalityTest(r,v);case "\x3c":return e.greaterThanLessThan(r,v,L);case "\x3e":return e.greaterThanLessThan(r,v,L);case "\x3c\x3d":return e.greaterThanLessThan(r,v,L);case "\x3e\x3d":return e.greaterThanLessThan(r,v,L);case "+":return e.isString(r)||e.isString(v)?e.toString(r)+e.toString(v):e.toNumber(r)+e.toNumber(v);case "-":return e.toNumber(r)-e.toNumber(v);case "*":return e.toNumber(r)*
e.toNumber(v);case "/":return e.toNumber(r)/e.toNumber(v);case "%":return e.toNumber(r)%e.toNumber(v);default:throw Error(p.nodeErrorMessage({type:"BinaryExpression",operator:L,left:r,right:v},"RUNTIME","OPERATORNOTRECOGNISED"));}},assign(r,v,L){switch(v){case "\x3d":return r===e.voidOperation?null:r;case "/\x3d":return e.toNumber(L)/e.toNumber(r);case "*\x3d":return e.toNumber(L)*e.toNumber(r);case "-\x3d":return e.toNumber(L)-e.toNumber(r);case "+\x3d":return e.isString(L)||e.isString(r)?e.toString(L)+
e.toString(r):e.toNumber(L)+e.toNumber(r);case "%\x3d":return e.toNumber(L)%e.toNumber(r);default:throw Error(p.nodeErrorMessage({type:"AssignmentExpression",operator:v,left:null,right:null},"RUNTIME","OPERATORNOTRECOGNISED"));}},update(r,v,L,P){const Y=e.toNumber(r[v]);r[v]="++"===L?Y+1:Y-1;return!1===P?Y:"++"===L?Y+1:Y-1},graphicToFeature(r,v){return null===r?null:k.createFromGraphicLikeObject(r.geometry,r.attributes,v)},memberupdate(r,v,L,P){let Y;if(e.isArray(r))if(e.isNumber(v)){0>v&&(v=r.length+
v);if(0>v||v>=r.length)throw Error("Assignment outside of array bounds");Y=e.toNumber(r[v]);r[v]="++"===L?Y+1:Y-1}else throw Error("Invalid Parameter");else if(r instanceof m){if(!1===e.isString(v))throw Error("Dictionary accessor must be a string");if(!0===r.hasField(v))Y=e.toNumber(r.field(v)),r.setField(v,"++"===L?Y+1:Y-1);else throw Error("Invalid Parameter");}else if(r instanceof k){if(!1===e.isString(v))throw Error("Feature accessor must be a string");if(!0===r.hasField(v))Y=e.toNumber(r.field(v)),
r.setField(v,"++"===L?Y+1:Y-1);else throw Error("Invalid Parameter");}else{if(e.isImmutableArray(r))throw Error("Array is Immutable");throw Error("Invalid Parameter");}return!1===P?Y:"++"===L?Y+1:Y-1},assignmember(r,v,L,P){if(e.isArray(r))if(e.isNumber(v)){0>v&&(v=r.length+v);if(0>v||v>r.length)throw Error("Assignment outside of array bounds");if(v===r.length&&"\x3d"!==L)throw Error("Invalid Parameter");r[v]=this.assign(P,L,r[v])}else throw Error("Invalid Parameter");else if(r instanceof m){if(!1===
e.isString(v))throw Error("Dictionary accessor must be a string");if(!0===r.hasField(v))r.setField(v,this.assign(P,L,r.field(v)));else{if("\x3d"!==L)throw Error("Invalid Parameter");r.setField(v,this.assign(P,L,null))}}else if(r instanceof k){if(!1===e.isString(v))throw Error("Feature accessor must be a string");if(!0===r.hasField(v))r.setField(v,this.assign(P,L,r.field(v)));else{if("\x3d"!==L)throw Error("Invalid Parameter");r.setField(v,this.assign(P,L,null))}}else{if(e.isImmutableArray(r))throw Error("Array is Immutable");
throw Error("Invalid Parameter");}},member(r,v){if(null===r)throw Error(p.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","NOTFOUND"));if(r instanceof da.FeatureSetReader){if(e.isString(v))return r.field(v);throw Error(p.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(r instanceof m||r instanceof k){if(e.isString(v))return r.field(v);throw Error(p.nodeErrorMessage({type:"MemberExpression",
object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(r instanceof c){if(e.isString(v))return la(r,v,"MemberExpression");throw Error(p.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(e.isArray(r)){if(e.isNumber(v)&&isFinite(v)&&Math.floor(v)===v){0>v&&(v=r.length+v);if(v>=r.length||0>v)throw Error(p.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return r[v]}throw Error(p.nodeErrorMessage({type:"MemberExpression",
object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(e.isString(r)){if(e.isNumber(v)&&isFinite(v)&&Math.floor(v)===v){0>v&&(v=r.length+v);if(v>=r.length||0>v)throw Error(p.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return r[v]}throw Error(p.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(e.isImmutableArray(r)&&e.isNumber(v)&&isFinite(v)&&Math.floor(v)===
v){0>v&&(v=r.length()+v);if(v>=r.length()||0>v)throw Error(p.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return r.get(v)}throw Error(p.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));},callfunc(r,v,L){return r instanceof e.NativeFunction?r.fn(L,v):r instanceof e.SizzleFunction?r.fn.apply(this,v):r.apply(this,v)}};w.compileScript=function(r,v=null,L=!1){null===v&&(v={vars:{},
customfunctions:{}});v={isAsync:L,globalScope:ba(v.vars,L?R:Q,v.customfunctions),localScope:null,mangleMap:{},console:J,lrucache:v.lrucache,interceptor:v.interceptor,services:v.services,symbols:{symbolCounter:0}};r=na(v,r.body[0].body);""===r&&(r="lc.voidOperation; ");v={lc:e.lc,lang:Ea,mangles:v.mangleMap,postProcess(P){P instanceof e.ReturnResult&&(P=P.value);P instanceof e.ImplicitResult&&(P=P.value);P===e.voidOperation&&(P=null);if(P===e.breakResult)throw Error("Cannot return BREAK");if(P===e.continueResult)throw Error("Cannot return CONTINUE");
if(e.isFunctionParameter(P))throw Error("Cannot return FUNCTION");return P},prepare(P,Y){let va=P.spatialReference;if(null===va||void 0===va)va=new S({wkid:102100});{var Da=P.vars;var Ka=P.customfunctions;const ea=Y?new xa:new Z;Da||(Da={});Ka||(Ka={});const ua=new m({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});ua.immutable=!1;ea._SymbolsMap={textformatting:1,infinity:1,pi:1};ea.textformatting=ua;ea.infinity=Number.POSITIVE_INFINITY;ea.pi=Math.PI;for(const ya in Ka)ea[ya]=
Ka[ya],ea._SymbolsMap[ya]=1;for(const ya in Da)ea._SymbolsMap[ya]=1,ea[ya]=Da[ya]&&"esri.Graphic"===Da[ya].declaredClass?k.createFromGraphic(Da[ya]):Da[ya];Da=ea}return{localStack:[],isAsync:Y,mangleMap:this.mangles,spatialReference:va,globalScope:Da,abortSignal:void 0===P.abortSignal||null===P.abortSignal?{aborted:!1}:P.abortSignal,localScope:null,services:P.services,console:P.console?P.console:J,lrucache:P.lrucache,interceptor:P.interceptor,symbols:{symbolCounter:0},depthCounter:1}}};return(new Function("context",
"spatialReference",L?"var runtimeCtx\x3dthis.prepare(context, true);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+r+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx\x3dthis.prepare(context, false);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+
r+"\n return lastStatement; } \n return this.postProcess(mainBody()); ")).bind(v)};w.enableAsyncSupport=function(){return(new Promise(function(r,v){D(["./functions/geomasync"],r,v)})).then(r=>{ia([r],"async");return!0})};w.executeScript=function(r,v){return r(v)};w.extend=ia;w.extractExpectedFieldLiterals=function(r){return p.findExpectedFieldLiterals(r)};w.extractFieldLiterals=function(r,v){return p.findFieldLiterals(r)};w.functionHelper=y;w.referencesFunction=function(r,v){return p.referencesFunction(r,
v)};w.referencesMember=function(r,v){return p.referencesMember(r,v)};w.validateScript=function(r,v){return p.validateScript(r,v,"sync")};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/ArcadePortal":function(){define(["../chunks/_rollupPluginBabelHelpers","./Dictionary"],function(D,w){return function(G){function B(m){var k=G.call(this)||this;k.immutable=!1;k.setField("url",m);k.immutable=!0;return k}D._inheritsLoose(B,G);return B}(w)})},"esri/arcade/Dictionary":function(){define(["./ImmutableArray",
"../chunks/languageUtils","../geometry/Geometry"],function(D,w,G){function B(k,u=!1){if(null===k||void 0===k)return null;if(w.isNumber(k))return w.toNumber(k);if(w.isBoolean(k))return w.toBoolean(k);if(w.isString(k))return w.toString(k);if(w.isDate(k))return w.toDate(k);if(w.isArray(k)){var n=[];for(var e of k)n.push(B(e,u));return n}e=new m;e.immutable=!1;for(n of Object.keys(k)){const p=k[n];void 0!==p&&e.setField(n,B(p,u))}e.immutable=u;return e}let m=function(){function k(n){this.declaredClass=
"esri.arcade.Dictionary";this.attributes=null;this.plain=!1;this.immutable=!0;this.attributes=n instanceof k?n.attributes:void 0===n?{}:null===n?{}:n}var u=k.prototype;u.field=function(n){const e=n.toLowerCase(),p=this.attributes[n];if(void 0!==p)return p;for(const y in this.attributes)if(y.toLowerCase()===e)return this.attributes[y];throw Error("Field not Found : "+n);};u.setField=function(n,e){if(this.immutable)throw Error("Dictionary is Immutable");const p=n.toLowerCase();if(void 0===this.attributes[n])for(const y in this.attributes)if(y.toLowerCase()===
p){this.attributes[y]=e;return}this.attributes[n]=e};u.hasField=function(n){const e=n.toLowerCase();if(void 0!==this.attributes[n])return!0;for(const p in this.attributes)if(p.toLowerCase()===e)return!0;return!1};u.keys=function(){let n=[];for(const e in this.attributes)n.push(e);return n=n.sort()};u.castToText=function(){let n="";for(const e in this.attributes){""!==n&&(n+=",");const p=this.attributes[e];null==p?n+=JSON.stringify(e)+":null":w.isBoolean(p)||w.isNumber(p)||w.isString(p)?n+=JSON.stringify(e)+
":"+JSON.stringify(p):p instanceof G?n+=JSON.stringify(e)+":"+w.toStringExplicit(p):p instanceof D?n+=JSON.stringify(e)+":"+w.toStringExplicit(p):p instanceof Array?n+=JSON.stringify(e)+":"+w.toStringExplicit(p):p instanceof Date?n+=JSON.stringify(e)+":"+JSON.stringify(p):null!==p&&"object"===typeof p&&void 0!==p.castToText&&(n+=JSON.stringify(e)+":"+p.castToText())}return"{"+n+"}"};k.convertObjectToArcadeDictionary=function(n,e=!0){const p=new k;p.immutable=!1;for(const y in n){const b=n[y];void 0!==
b&&p.setField(y.toString(),B(b))}p.immutable=e;return p};k.convertJsonToArcade=function(n,e=!1){return B(n,e)};return k}();return m})},"esri/arcade/ImmutableArray":function(){define(function(){return function(){function D(G=[]){this._elements=G}var w=D.prototype;w.length=function(){return this._elements.length};w.get=function(G){return this._elements[G]};w.toArray=function(){const G=[];for(let B=0;B<this.length();B++)G.push(this.get(B));return G};return D}()})},"esri/chunks/languageUtils":function(){define("exports ../arcade/FunctionWrapper ../arcade/ImmutableArray ../arcade/ImmutablePathArray ../arcade/ImmutablePointArray ../core/promiseUtils ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ./datetime ../core/maybe ../core/number ../geometry/support/coordsUtils ../intl/locale".split(" "),
function(D,w,G,B,m,k,u,n,e,p,y,b,h,l,z,A,F){function E(x,K,X){return""===K||null===K||void 0===K||K===X||K===X?x:x=x.split(K).join(X)}function N(x){return x instanceof ya||x instanceof w||x instanceof db}function c(x){return d(x)||f(x)||Ca(x)||t(x)||null===x||x===Va||"number"===typeof x?!0:!1}function q(x,K){return void 0===x?K:x}function d(x){return"string"===typeof x||x instanceof String}function t(x){return"boolean"===typeof x}function f(x){return"number"===typeof x}function S(x){return"number"===
typeof x&&isFinite(x)&&Math.floor(x)===x}function da(x){return x instanceof Array}function aa(x){return!0===(x&&x.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===x.declaredRootClass)}function Ja(x){return!0===(x&&x.declaredRootClass&&"esri.arcade.featureSetCollection"===x.declaredRootClass)}function na(x){return x instanceof G}function Ca(x){return x instanceof Date}function Ua(x,K,X){if(x.length<K||x.length>X)throw Error("Function called with wrong number of Parameters");}function Qa(x){return 0>
x?-Math.round(-x):Math.round(x)}function ha(){let x=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(K){const X=(x+16*Math.random())%16|0;x=Math.floor(x/16);return("x"===K?X:X&3|8).toString(16)})}function fa(x,K){if(!1===isNaN(x)){if(void 0===K||null===K||""===K)return x.toString();K=E(K,"\u2030","");K=E(K,"\u00a4","");return z.format(x,{pattern:K})}return x.toString()}function la(x,K){x=h.DateTime.fromJSDate(x);return void 0===K||null===K||""===K?x.toISO({suppressMilliseconds:!0}):
x.toFormat(ma(K),{locale:F.getLocale(),numberingSystem:"latn"})}function ma(x){x=x.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$\x26]");let K="";const X=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const sa of x.match(X))switch(sa){case "D":K+="d";break;case "DD":K+="dd";break;case "DDD":K+="o";break;case "d":K+="c";break;case "ddd":K+="ccc";break;
case "dddd":K+="cccc";break;case "M":K+="L";break;case "MM":K+="LL";break;case "MMM":K+="LLL";break;case "MMMM":K+="LLLL";break;case "YY":K+="yy";break;case "Y":case "YYYY":K+="yyyy";break;case "Q":K+="q";break;case "Z":K+="ZZ";break;case "ZZ":K+="ZZZ";break;case "S":K+="'S'";break;case "SS":K+="'SS'";break;case "SSS":K+="u";break;case "A":case "a":K+="a";break;case "m":case "mm":case "h":case "hh":case "H":case "HH":case "s":case "ss":case "X":case "x":K+=sa;break;default:K=2<=sa.length&&"["===sa.slice(0,
1)&&"]"===sa.slice(-1)?K+`'${sa.slice(1,-1)}'`:K+`'${sa}'`}return K}function M(x,K,X){switch(X){case "\x3e":return x>K;case "\x3c":return x<K;case "\x3e\x3d":return x>=K;case "\x3c\x3d":return x<=K}return!1}function V(x,K,X){if(null===x){if(null===K||K===Va)return M(null,null,X);if(f(K))return M(0,K,X);if(d(K)||t(K))return M(0,qa(K),X);if(Ca(K))return M(0,K.getTime(),X)}if(x===Va){if(null===K||K===Va)return M(null,null,X);if(f(K))return M(0,K,X);if(d(K)||t(K))return M(0,qa(K),X);if(Ca(K))return M(0,
K.getTime(),X)}else if(f(x)){if(f(K))return M(x,K,X);if(t(K))return M(x,qa(K),X);if(null===K||K===Va)return M(x,0,X);if(d(K))return M(x,qa(K),X);if(Ca(K))return M(x,K.getTime(),X)}else if(d(x)){if(d(K))return M(W(x),W(K),X);if(Ca(K))return M(qa(x),K.getTime(),X);if(f(K))return M(qa(x),K,X);if(null===K||K===Va)return M(qa(x),0,X);if(t(K))return M(qa(x),qa(K),X)}else if(Ca(x)){if(Ca(K))return M(x,K,X);if(null===K||K===Va)return M(x.getTime(),0,X);if(f(K))return M(x.getTime(),K,X);if(t(K)||d(K))return M(x.getTime(),
qa(K),X)}else if(t(x)){if(t(K))return M(x,K,X);if(f(K))return M(qa(x),qa(K),X);if(Ca(K))return M(qa(x),K.getTime(),X);if(null===K||K===Va)return M(qa(x),0,X);if(d(K))return M(qa(x),qa(K),X)}return!U(x,K)||"\x3c\x3d"!==X&&"\x3e\x3d"!==X?!1:!0}function U(x,K){if(x===K||null===x&&K===Va||null===K&&x===Va)return!0;if(Ca(x)&&Ca(K))return x.getTime()===K.getTime();if(x instanceof B||x instanceof m)return x.equalityTest(K);if(x instanceof p&&K instanceof p){const X=x.cache._arcadeCacheId,sa=K.cache._arcadeCacheId;
if(void 0!==X&&null!==X)return X===sa}return void 0!==x&&void 0!==K&&null!==x&&null!==K&&"object"===typeof x&&"object"===typeof K&&(x._arcadeCacheId===K._arcadeCacheId&&void 0!==x._arcadeCacheId&&null!==x._arcadeCacheId||x._underlyingGraphic===K._underlyingGraphic&&void 0!==x._underlyingGraphic&&null!==x._underlyingGraphic)?!0:!1}function W(x,K){if(d(x))return x;if(null===x)return"";if(f(x))return fa(x,K);if(t(x))return x.toString();if(Ca(x))return la(x,K);if(x instanceof n)return JSON.stringify(x.toJSON());
if(da(x)){K=[];for(var X=0;X<x.length;X++)K[X]=za(x[X]);return"["+K.join(",")+"]"}if(x instanceof G){K=[];for(X=0;X<x.length();X++)K[X]=za(x.get(X));return"["+K.join(",")+"]"}return null!==x&&"object"===typeof x&&void 0!==x.castToText?x.castToText():N(x)?"object, Function":""}function ka(x){const K=[];if(!1===da(x))return null;if(x instanceof G){for(var X=0;X<x.length();X++)K[X]=qa(x.get(X));return K}for(X=0;X<x.length;X++)K[X]=qa(x[X]);return K}function ra(x,K){if(d(x))return x;if(null===x)return"";
if(f(x))return fa(x,K);if(t(x))return x.toString();if(Ca(x))return la(x,K);if(x instanceof n)return x instanceof u?'{"xmin":'+x.xmin.toString()+',"ymin":'+x.ymin.toString()+","+(x.hasZ?'"zmin":'+x.zmin.toString()+",":"")+(x.hasM?'"mmin":'+x.mmin.toString()+",":"")+'"xmax":'+x.xmax.toString()+',"ymax":'+x.ymax.toString()+","+(x.hasZ?'"zmax":'+x.zmax.toString()+",":"")+(x.hasM?'"mmax":'+x.mmax.toString()+",":"")+'"spatialReference":'+Ea(x.spatialReference)+"}":Ea(x.toJSON(),(sa,ta)=>sa.key===ta.key?
0:"spatialReference"===sa.key?1:"spatialReference"===ta.key||sa.key<ta.key?-1:sa.key>ta.key?1:0);if(da(x)){K=[];for(var X=0;X<x.length;X++)K[X]=za(x[X]);return"["+K.join(",")+"]"}if(x instanceof G){K=[];for(X=0;X<x.length();X++)K[X]=za(x.get(X));return"["+K.join(",")+"]"}return null!==x&&"object"===typeof x&&void 0!==x.castToText?x.castToText():N(x)?"object, Function":""}function za(x){return null===x?"null":t(x)||f(x)||d(x)?JSON.stringify(x):x instanceof n||x instanceof G||x instanceof Array?ra(x):
x instanceof Date?JSON.stringify(la(x,"")):null!==x&&"object"===typeof x&&void 0!==x.castToText?x.castToText():"null"}function qa(x,K){return f(x)?x:null===x||""===x?0:Ca(x)?NaN:t(x)?x?1:0:da(x)||""===x||void 0===x?NaN:void 0!==K&&d(x)?(K=E(K,"\u2030",""),K=E(K,"\u00a4",""),z.parse(x,{pattern:K})):x===Va?0:Number(x)}function ba(x){return Ca(x)?x:d(x)&&(x=wa(x))?x.toJSDate():null}function ia(x){return Ca(x)?h.DateTime.fromJSDate(x):d(x)?wa(x):null}function wa(x){const K=/ (\d\d)/;let X=h.DateTime.fromISO(x);
return X.isValid||K.test(x)&&(x=x.replace(K,"T$1"),X=h.DateTime.fromISO(x),X.isValid)?X:null}function J(x){return t(x)?x:d(x)?(x=x.toLowerCase(),"true"===x?!0:!1):f(x)?0===x||isNaN(x)?!1:!0:!1}function H(x,K){if(l.isNone(x))return null;if(null===x.spatialReference||void 0===x.spatialReference)x.spatialReference=K;return x}function Q(x){if(null===x)return null;if(x instanceof p)return"NaN"===x.x||null===x.x||isNaN(x.x)?null:x;if(x instanceof y){if(0===x.rings.length)return null;for(const K of x.rings)if(0<
K.length)return x;return null}if(x instanceof b){if(0===x.paths.length)return null;for(const K of x.paths)if(0<K.length)return x;return null}return x instanceof e?0===x.points.length?null:x:x instanceof u?"NaN"===x.xmin||null===x.xmin||isNaN(x.xmin)?null:x:null}function R(x,K){if(!x||!x.domain)return K;let X=null;if("string"===x.field.type||"esriFieldTypeString"===x.field.type)K=W(K);else{if(null===K||void 0===K)return null;if(""===K)return K;K=qa(K)}for(let sa=0;sa<x.domain.codedValues.length;sa++){const ta=
x.domain.codedValues[sa];ta.code===K&&(X=ta)}return null===X?K:X.name}function Z(x,K){if(!x||!x.domain)return K;let X=null;K=W(K);for(let sa=0;sa<x.domain.codedValues.length;sa++){const ta=x.domain.codedValues[sa];ta.name===K&&(X=ta)}return null===X?K:X.code}function xa(x,K,X=null,sa){if(!K||!K.fields)return null;let ta=null;for(let Xa=0;Xa<K.fields.length;Xa++){const Ra=K.fields[Xa];Ra.name.toLowerCase()===x.toString().toLowerCase()&&(ta=Ra)}if(null===ta)throw Error("Field not found");let Oa,Ha;
sa||(sa=X&&K.typeIdField&&X._field(K.typeIdField));null!=sa&&K.types.some(function(Xa){return Xa.id===sa?((Oa=Xa.domains&&Xa.domains[ta.name])&&"inherited"===Oa.type&&(Oa=La(ta.name,K),Ha=!0),!0):!1});Ha||Oa||(Oa=La(x,K));return{field:ta,domain:Oa}}function La(x,K){let X;K.fields.some(function(sa){sa.name.toLowerCase()===x.toLowerCase()&&(X=sa.domain);return!!X});return X}function Ea(x,K){K||(K={});"function"===typeof K&&(K={cmp:K});const X="boolean"===typeof K.cycles?K.cycles:!1,sa=K.cmp&&function(Oa){return function(Ha){return function(Xa,
Ra){return Oa({key:Xa,value:Ha[Xa]},{key:Ra,value:Ha[Ra]})}}}(K.cmp),ta=[];return function Xa(Ha){Ha&&Ha.toJSON&&"function"===typeof Ha.toJSON&&(Ha=Ha.toJSON());if(void 0!==Ha){if("number"===typeof Ha)return isFinite(Ha)?""+Ha:"null";if("object"!==typeof Ha)return JSON.stringify(Ha);var Ra;if(Array.isArray(Ha)){var ab="[";for(Ra=0;Ra<Ha.length;Ra++)Ra&&(ab+=","),ab+=Xa(Ha[Ra])||"null";return ab+"]"}if(null===Ha)return"null";if(-1!==ta.indexOf(Ha)){if(X)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");
}var ub=ta.push(Ha)-1,ib=Object.keys(Ha).sort(sa&&sa(Ha));ab="";for(Ra=0;Ra<ib.length;Ra++){const pb=ib[Ra],eb=Xa(Ha[pb]);eb&&(ab&&(ab+=","),ab+=JSON.stringify(pb)+":"+eb)}ta.splice(ub,1);return"{"+ab+"}"}}(x)}function r(x){if(null===x)return null;const K=[];for(const X of x)X&&(X.declaredClass&&"esri.arcade.Feature"===X.declaredClass||"FeatureSetReader"===X.type)?K.push(X.geometry()):K.push(X);return K}function v(x,K){if(K instanceof p)x.push(K.hasZ?K.hasM?[K.x,K.y,K.z,K.m]:[K.x,K.y,K.z]:[K.x,K.y]);
else throw Error("Invalid Argument");}function L(x,K){if(da(x)||na(x)){let X=!1,sa=!1,ta=[];if(da(x)){for(const Oa of x)v(ta,Oa);0<ta.length&&(K=x[0].spatialReference,X=x[0].hasZ,sa=x[0].hasM)}else if(x instanceof m)ta=x._elements,0<ta.length&&(X=x._hasZ,sa=x._hasM,K=x.get(0).spatialReference);else if(na(x)){for(const Oa of x.toArray())v(ta,Oa);0<ta.length&&(K=x.get(0).spatialReference,X=!0===x.get(0).hasZ,sa=!0===x.get(0).hasM)}else throw Error("Invalid Argument");if(0===ta.length)return null;!1===
A.isClockwise(ta,sa,X)&&(ta=ta.slice(0).reverse());return new y({rings:[ta],spatialReference:K,hasZ:X,hasM:sa})}return x}function P(x,K){if(da(x)||na(x)){let X=!1,sa=!1,ta=[];if(da(x)){for(const Oa of x)v(ta,Oa);0<ta.length&&(K=x[0].spatialReference,X=!0===x[0].hasZ,sa=!0===x[0].hasM)}else if(x instanceof m)ta=x._elements,0<ta.length&&(X=x._hasZ,sa=x._hasM,K=x.get(0).spatialReference);else if(na(x)){for(const Oa of x.toArray())v(ta,Oa);0<ta.length&&(K=x.get(0).spatialReference,X=!0===x.get(0).hasZ,
sa=!0===x.get(0).hasM)}return 0===ta.length?null:new b({paths:[ta],spatialReference:K,hasZ:X,hasM:sa})}return x}function Y(x,K){if(da(x)||na(x)){let X=!1,sa=!1,ta=[];if(da(x)){for(const Oa of x)v(ta,Oa);0<ta.length&&(K=x[0].spatialReference,X=!0===x[0].hasZ,sa=!0===x[0].hasM)}else if(x instanceof m)ta=x._elements,0<ta.length&&(X=x._hasZ,sa=x._hasM,K=x.get(0).spatialReference);else if(na(x)){for(const Oa of x.toArray())v(ta,Oa);0<ta.length&&(K=x.get(0).spatialReference,X=!0===x.get(0).hasZ,sa=!0===
x.get(0).hasM)}return 0===ta.length?null:new e({points:ta,spatialReference:K,hasZ:X,hasM:sa})}return x}function va(x,K=!1){const X=[];if(null===x)return X;if(!0===da(x)){for(var sa=0;sa<x.length;sa++){var ta=W(x[sa]);""===ta&&!0!==K||X.push(ta)}return X}if(x instanceof G){for(sa=0;sa<x.length();sa++)ta=W(x.get(sa)),""===ta&&!0!==K||X.push(ta);return X}return c(x)?(x=W(x),""===x&&!0!==K||X.push(x),X):[]}function Da(x){oa++;return 0===oa%100?(oa=0,k.create(K=>{setTimeout(()=>{K(x)},0)})):x}function Ka(x,
K,X){switch(X){case "\x26":return x&K;case "|":return x|K;case "^":return x^K;case "\x3c\x3c":return x<<K;case "\x3e\x3e":return x>>K;case "\x3e\x3e\x3e":return x>>>K}}let ea=function(x){this.value=x},ua=function(x){this.value=x},ya=function(x){this.fn=x},db=function(x){this.fn=x};const kb=ya,lb=db,Va={type:"VOID"},hb={type:"BREAK"},Wa={type:"CONTINUE"};let oa=0;var Fa=Object.freeze({__proto__:null,ReturnResultE:ea,ImplicitResultE:ua,NativeFunctionE:ya,SizzleFunctionE:db,NativeFunction:kb,ImplicitResult:ua,
ReturnResult:ea,SizzleFunction:lb,voidOperation:Va,breakResult:hb,continueResult:Wa,multiReplace:E,isFunctionParameter:N,isSimpleType:c,defaultUndefined:q,isString:d,isBoolean:t,isNumber:f,isInteger:S,isArray:da,isFeatureSet:aa,isFeatureSetCollection:Ja,isImmutableArray:na,isDate:Ca,pcCheck:Ua,absRound:Qa,generateUUID:ha,formatNumber:fa,formatDate:la,standardiseDateFormat:ma,greaterThanLessThan:V,equalityTest:U,toString:W,toNumberArray:ka,toStringExplicit:ra,toNumber:qa,toDate:ba,toDateTime:ia,toBoolean:J,
fixSpatialReference:H,fixNullGeometry:Q,getDomainValue:R,getDomainCode:Z,getDomain:xa,stableStringify:Ea,autoCastFeatureToGeometry:r,autoCastArrayOfPointsToPolygon:L,autoCastArrayOfPointsToPolyline:P,autoCastArrayOfPointsToMultiPoint:Y,toStringArray:va,tick:Da,binaryOperator:Ka});D.ImplicitResult=ua;D.ImplicitResultE=ua;D.NativeFunction=kb;D.NativeFunctionE=ya;D.ReturnResult=ea;D.ReturnResultE=ea;D.SizzleFunction=lb;D.SizzleFunctionE=db;D.absRound=Qa;D.autoCastArrayOfPointsToMultiPoint=Y;D.autoCastArrayOfPointsToPolygon=
L;D.autoCastArrayOfPointsToPolyline=P;D.autoCastFeatureToGeometry=r;D.binaryOperator=Ka;D.breakResult=hb;D.continueResult=Wa;D.defaultUndefined=q;D.equalityTest=U;D.fixNullGeometry=Q;D.fixSpatialReference=H;D.formatDate=la;D.formatNumber=fa;D.generateUUID=ha;D.getDomain=xa;D.getDomainCode=Z;D.getDomainValue=R;D.greaterThanLessThan=V;D.isArray=da;D.isBoolean=t;D.isDate=Ca;D.isFeatureSet=aa;D.isFeatureSetCollection=Ja;D.isFunctionParameter=N;D.isImmutableArray=na;D.isInteger=S;D.isNumber=f;D.isSimpleType=
c;D.isString=d;D.lc=Fa;D.multiReplace=E;D.pcCheck=Ua;D.stableStringify=Ea;D.standardiseDateFormat=ma;D.tick=Da;D.toBoolean=J;D.toDate=ba;D.toDateTime=ia;D.toNumber=qa;D.toNumberArray=ka;D.toString=W;D.toStringArray=va;D.toStringExplicit=ra;D.voidOperation=Va})},"esri/arcade/FunctionWrapper":function(){define(function(){return function(D,w){this.context=this.definition=null;this.definition=D;this.context=w}})},"esri/arcade/ImmutablePathArray":function(){define(["../chunks/_rollupPluginBabelHelpers",
"./ImmutableArray","./ImmutablePointArray"],function(D,w,G){return function(B){function m(u,n,e,p,y){u=B.call(this,u)||this;u._lazyPath=[];u._hasZ=!1;u._hasM=!1;u._hasZ=e;u._hasM=p;u._spRef=n;u._cacheId=y;return u}D._inheritsLoose(m,B);var k=m.prototype;k.get=function(u){if(void 0===this._lazyPath[u]){const n=this._elements[u];if(void 0===n)return;this._lazyPath[u]=new G(n,this._spRef,this._hasZ,this._hasM,this._cacheId,u)}return this._lazyPath[u]};k.equalityTest=function(u){return u===this?!0:null===
u||!1===u instanceof m?!1:u.getUniqueHash()===this.getUniqueHash()};k.getUniqueHash=function(){return this._cacheId.toString()};return m}(w)})},"esri/arcade/ImmutablePointArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./ImmutableArray","../geometry/Point"],function(D,w,G){return function(B){function m(u,n,e,p,y,b){u=B.call(this,u)||this;u._lazyPt=[];u._hasZ=!1;u._hasM=!1;u._spRef=n;u._hasZ=e;u._hasM=p;u._cacheId=y;u._partId=b;return u}D._inheritsLoose(m,B);var k=m.prototype;k.get=
function(u){if(void 0===this._lazyPt[u]){const n=this._elements[u];if(void 0===n)return;const e=this._hasZ,p=this._hasM;let y=null;y=e&&!p?new G(n[0],n[1],n[2],void 0,this._spRef):p&&!e?new G(n[0],n[1],void 0,n[2],this._spRef):e&&p?new G(n[0],n[1],n[2],n[3],this._spRef):new G(n[0],n[1],this._spRef);y.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+u.toString();this._lazyPt[u]=y}return this._lazyPt[u]};k.equalityTest=function(u){return u===this?!0:null===u||!1===u instanceof
m?!1:u.getUniqueHash()===this.getUniqueHash()};k.getUniqueHash=function(){return this._cacheId.toString()+"-"+this._partId.toString()};return m}(w)})},"esri/chunks/datetime":function(){define(["exports"],function(D){function w(a){return"undefined"===typeof a}function G(a){return"number"===typeof a}function B(a){return"number"===typeof a&&0===a%1}function m(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(a){return!1}}function k(a,g,C){if(0!==a.length)return a.reduce((I,O)=>{O=
[g(O),O];return I?C(I[0],O[0])===I[0]?I:O:O},null)[1]}function u(a,g){return g.reduce((C,I)=>{C[I]=a[I];return C},{})}function n(a,g){return Object.prototype.hasOwnProperty.call(a,g)}function e(a,g,C){return B(a)&&a>=g&&a<=C}function p(a,g=2){const C=0>a?"-":"";a=C?-1*a:a;g=a.toString().length<g?("0".repeat(g)+a).slice(-g):a.toString();return`${C}${g}`}function y(a){if(!w(a)&&null!==a&&""!==a)return parseInt(a,10)}function b(a){if(!w(a)&&null!==a&&""!==a)return a=1E3*parseFloat("0."+a),Math.floor(a)}
function h(a,g,C=!1){g=10**g;return(C?Math.trunc:Math.round)(a*g)/g}function l(a){return 0===a%4&&(0!==a%100||0===a%400)}function z(a,g){var C=g-1;C=C-12*Math.floor(C/12)+1;return 2===C?l(a+(g-C)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][C-1]}function A(a){let g=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);100>a.year&&0<=a.year&&(g=new Date(g),g.setUTCFullYear(g.getUTCFullYear()-1900));return+g}function F(a){var g=a-1;g=(g+Math.floor(g/4)-Math.floor(g/100)+Math.floor(g/
400))%7;return 4===(a+Math.floor(a/4)-Math.floor(a/100)+Math.floor(a/400))%7||3===g?53:52}function E(a){return 99<a?a:60<a?1900+a:2E3+a}function N(a,g,C,I=null){a=new Date(a);const O={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};I&&(O.timeZone=I);return(g=(new Intl.DateTimeFormat(C,{timeZoneName:g,...O})).formatToParts(a).find(T=>"timezonename"===T.type.toLowerCase()))?g.value:null}function c(a,g){a=parseInt(a,10);Number.isNaN(a)&&(a=0);g=parseInt(g,
10)||0;g=0>a||Object.is(a,-0)?-g:g;return 60*a+g}function q(a){const g=Number(a);if("boolean"===typeof a||""===a||Number.isNaN(g))throw new $a(`Invalid unit value ${a}`);return g}function d(a,g){const C={};for(const I in a)if(n(a,I)){const O=a[I];void 0!==O&&null!==O&&(C[g(I)]=q(O))}return C}function t(a,g){const C=Math.trunc(Math.abs(a/60)),I=Math.trunc(Math.abs(a%60));a=0<=a?"+":"-";switch(g){case "short":return`${a}${p(C,2)}:${p(I,2)}`;case "narrow":return`${a}${C}${0<I?`:${I}`:""}`;case "techie":return`${a}${p(C,
2)}${p(I,2)}`;default:throw new RangeError(`Value format ${g} is out of range for property format`);}}function f(a){return u(a,["hour","minute","second","millisecond"])}function S(a){switch(a){case "narrow":return[...Fc];case "short":return[...Mb];case "long":return[...Gc];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function da(a){switch(a){case "narrow":return[...Hc];case "short":return[...Nb];
case "long":return[...Ob];case "numeric":return"1234567".split("");default:return null}}function aa(a){switch(a){case "narrow":return[...Ic];case "short":return[...Jc];case "long":return[...Kc];default:return null}}function Ja(a,g,C="always",I=!1){const O={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var T=-1===["hours","minutes","seconds"].indexOf(a);
if("auto"===C&&T)switch(C="days"===a,g){case 1:return C?"tomorrow":`next ${O[a][0]}`;case -1:return C?"yesterday":`last ${O[a][0]}`;case 0:return C?"today":`this ${O[a][0]}`}C=Object.is(g,-0)||0>g;g=Math.abs(g);T=1===g;const ca=O[a];a=I?T?ca[1]:ca[2]||ca[1]:T?O[a][0]:a;return C?`${g} ${a} ago`:`in ${g} ${a}`}function na(a,g){let C="";for(const I of a)C=I.literal?C+I.val:C+g(I.val);return C}function Ca(a,g){let C;if(w(a)||null===a)return g;if(a instanceof qb)return a;if("string"===typeof a){const I=
a.toLowerCase();return"local"===I||"system"===I?g:"utc"===I||"gmt"===I?Ya.utcInstance:null!=(C=bb.parseGMTOffset(a))?Ya.instance(C):bb.isValidSpecifier(I)?bb.create(a):Ya.parseSpecifier(I)||new Pb(a)}return G(a)?Ya.instance(a):"object"===typeof a&&a.offset&&"number"===typeof a.offset?a:new Pb(a)}function Ua(a,g={}){const C=JSON.stringify([a,g]);let I=zb[C];I||(I=new Intl.DateTimeFormat(a,g),zb[C]=I);return I}function Qa(a,g={}){const C=JSON.stringify([a,g]);let I=Ab[C];I||(I=new Intl.NumberFormat(a,
g),Ab[C]=I);return I}function ha(a,g={}){const {base:C,...I}=g,O=JSON.stringify([a,I]);let T=Bb[O];T||(T=new Intl.RelativeTimeFormat(a,g),Bb[O]=T);return T}function fa(a){const g=[];for(let C=1;12>=C;C++){const I=Ba.utc(2016,C,1);g.push(a(I))}return g}function la(a){const g=[];for(let C=1;7>=C;C++){const I=Ba.utc(2016,11,13+C);g.push(a(I))}return g}function ma(a,g,C,I,O){a=a.listingMode(C);return"error"===a?null:"en"===a?I(g):O(g)}function M(...a){a=a.reduce((g,C)=>g+C.source,"");return RegExp(`^${a}$`)}
function V(...a){return g=>a.reduce(([C,I,O],T)=>{const [ca,ja,pa]=T(g,O);return[{...C,...ca},I||ja,pa]},[{},null,1]).slice(0,2)}function U(a,...g){if(null==a)return[null,null];for(const [C,I]of g)if(g=C.exec(a))return I(g);return[null,null]}function W(...a){return(g,C)=>{const I={};let O;for(O=0;O<a.length;O++)I[a[O]]=y(g[C+O]);return[I,null,C+O]}}function ka(a,g,C){a=a[g];return w(a)?C:y(a)}function ra(a,g){return[{year:ka(a,g),month:ka(a,g+1,1),day:ka(a,g+2,1)},null,g+3]}function za(a,g){return[{hours:ka(a,
g,0),minutes:ka(a,g+1,0),seconds:ka(a,g+2,0),milliseconds:b(a[g+3])},null,g+4]}function qa(a,g){const C=!a[g]&&!a[g+1];a=c(a[g+1],a[g+2]);return[{},C?null:Ya.instance(a),g+3]}function ba(a,g){return[{},a[g]?bb.create(a[g]):null,g+1]}function ia(a){const [g,C,I,O,T,ca,ja,pa,Ia]=a,Aa="-"===g[0];a=pa&&"-"===pa[0];const Ga=(Ma,fb=!1)=>void 0!==Ma&&(fb||Ma&&Aa)?-Ma:Ma;return[{years:Ga(y(C)),months:Ga(y(I)),weeks:Ga(y(O)),days:Ga(y(T)),hours:Ga(y(ca)),minutes:Ga(y(ja)),seconds:Ga(y(pa),"-0"===pa),milliseconds:Ga(b(Ia),
a)}]}function wa(a,g,C,I,O,T,ca){g={year:2===g.length?E(y(g)):y(g),month:Mb.indexOf(C)+1,day:y(I),hour:y(O),minute:y(T)};ca&&(g.second=y(ca));a&&(g.weekday=3<a.length?Ob.indexOf(a)+1:Nb.indexOf(a)+1);return g}function J(a){const [,g,C,I,O,T,ca,ja,pa,Ia,Aa,Ga]=a;a=wa(g,O,I,C,T,ca,ja);let Ma;Ma=pa?Lc[pa]:Ia?0:c(Aa,Ga);return[a,new Ya(Ma)]}function H(a){const [,g,C,I,O,T,ca,ja]=a;return[wa(g,O,I,C,T,ca,ja),Ya.utcInstance]}function Q(a){const [,g,C,I,O,T,ca,ja]=a;return[wa(g,ja,C,I,O,T,ca),Ya.utcInstance]}
function R(a,g,C=!1){a={values:C?g.values:{...a.values,...g.values||{}},loc:a.loc.clone(g.loc),conversionAccuracy:g.conversionAccuracy||a.conversionAccuracy};return new Na(a)}function Z(a,g,C,I,O){a=a[O][C];var T=g[C]/a;T=Math.sign(T)!==Math.sign(I[O])&&0!==I[O]&&1>=Math.abs(T)?0>T?Math.floor(T):Math.ceil(T):Math.trunc(T);I[O]+=T;g[C]-=T*a}function xa(a,g){Mc.reduce((C,I)=>{if(w(g[I]))return C;C&&Z(a,g,C,g,I);return I},null)}function La(a){if(G(a))return Na.fromMillis(a);if(Na.isDuration(a))return a;
if("object"===typeof a)return Na.fromObject(a);throw new $a(`Unknown duration argument ${a} of type ${typeof a}`);}function Ea(a,g){a=g.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();return Math.floor(Na.fromMillis(a).as("days"))}function r(a,g,C){var I=[["years",(ja,pa)=>pa.year-ja.year],["quarters",(ja,pa)=>pa.quarter-ja.quarter],["months",(ja,pa)=>pa.month-ja.month+12*(pa.year-ja.year)],["weeks",(ja,pa)=>{ja=Ea(ja,pa);return(ja-ja%7)/
7}],["days",Ea]];const O={};let T,ca;for(const [ja,pa]of I)0<=C.indexOf(ja)&&(T=ja,I=pa(a,g),ca=a.plus({[ja]:I}),ca>g?(a=a.plus({[ja]:I-1}),--I):a=ca,O[ja]=I);return[a,O,ca,T]}function v(a,g,C,I){let [O,T,ca,ja]=r(a,g,C);a=g-O;C=C.filter(pa=>0<=["hours","minutes","seconds","milliseconds"].indexOf(pa));0===C.length&&(ca<g&&(ca=O.plus({[ja]:1})),ca!==O&&(T[ja]=(T[ja]||0)+a/(ca-O)));g=Na.fromObject(T,I);return 0<C.length?Na.fromMillis(a,I).shiftTo(...C).plus(g):g}function L({numberingSystem:a},g=""){return new RegExp(`${Cb[a||
"latn"]}${g}`)}function P(a,g=C=>C){return{regex:a,deser:([C])=>{{let I=parseInt(C,10);if(isNaN(I)){I="";for(let O=0;O<C.length;O++){const T=C.charCodeAt(O);if(-1!==C[O].search(Cb.hanidec))I+=Nc.indexOf(C[O]);else for(const ca in Qb){const [ja,pa]=Qb[ca];T>=ja&&T<=pa&&(I+=T-ja)}}C=parseInt(I,10)}else C=I}return g(C)}}}function Y(a){return a.replace(/\./g,"\\.?").replace(Db,Rb)}function va(a,g){return null===a?null:{regex:RegExp(a.map(Y).join("|")),deser:([C])=>a.findIndex(I=>C.replace(/\./g,"").replace(Db,
" ").toLowerCase()===I.replace(/\./g,"").replace(Db," ").toLowerCase())+g}}function Da(a,g){return{regex:a,deser:([,C,I])=>c(C,I),groups:g}}function Ka(a){return{regex:a,deser:([g])=>g}}function ea(a,g){const C=L(g),I=L(g,"{2}"),O=L(g,"{3}"),T=L(g,"{4}"),ca=L(g,"{6}"),ja=L(g,"{1,2}"),pa=L(g,"{1,3}"),Ia=L(g,"{1,6}"),Aa=L(g,"{1,9}"),Ga=L(g,"{2,4}"),Ma=L(g,"{4,6}"),fb=rb=>({regex:RegExp(rb.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:([Oc])=>Oc,literal:!0}),mb=(rb=>{if(a.literal)return fb(rb);
switch(rb.val){case "G":return va(g.eras("short",!1),0);case "GG":return va(g.eras("long",!1),0);case "y":return P(Ia);case "yy":return P(Ga,E);case "yyyy":return P(T);case "yyyyy":return P(Ma);case "yyyyyy":return P(ca);case "M":return P(ja);case "MM":return P(I);case "MMM":return va(g.months("short",!0,!1),1);case "MMMM":return va(g.months("long",!0,!1),1);case "L":return P(ja);case "LL":return P(I);case "LLL":return va(g.months("short",!1,!1),1);case "LLLL":return va(g.months("long",!1,!1),1);
case "d":return P(ja);case "dd":return P(I);case "o":return P(pa);case "ooo":return P(O);case "HH":return P(I);case "H":return P(ja);case "hh":return P(I);case "h":return P(ja);case "mm":return P(I);case "m":return P(ja);case "q":return P(ja);case "qq":return P(I);case "s":return P(ja);case "ss":return P(I);case "S":return P(pa);case "SSS":return P(O);case "u":return Ka(Aa);case "a":return va(g.meridiems(),0);case "kkkk":return P(T);case "kk":return P(Ga,E);case "W":return P(ja);case "WW":return P(I);
case "E":case "c":return P(C);case "EEE":return va(g.weekdays("short",!1,!1),1);case "EEEE":return va(g.weekdays("long",!1,!1),1);case "ccc":return va(g.weekdays("short",!0,!1),1);case "cccc":return va(g.weekdays("long",!0,!1),1);case "Z":case "ZZ":return Da(new RegExp(`([+-]${ja.source})(?::(${I.source}))?`),2);case "ZZZ":return Da(new RegExp(`([+-]${ja.source})(${I.source})?`),2);case "z":return Ka(/[a-z_+-/]{1,256}?/i);default:return fb(rb)}})(a)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};
mb.token=a;return mb}function ua(a){return[`^${a.map(g=>g.regex).reduce((g,C)=>`${g}(${C.source})`,"")}$`,a]}function ya(a,g,C){if(a=a.match(g)){g={};let I=1;for(const O in C)if(n(C,O)){const T=C[O],ca=T.groups?T.groups+1:1;!T.literal&&T.token&&(g[T.token.val[0]]=T.deser(a.slice(I,I+ca)));I+=ca}return[a,g]}return[a,{}]}function db(a){const g=I=>{switch(I){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";
case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";case "k":return"weekYear";case "q":return"quarter";default:return null}};let C;C=w(a.Z)?w(a.z)?null:bb.create(a.z):new Ya(a.Z);w(a.q)||(a.M=3*(a.q-1)+1);w(a.h)||(12>a.h&&1===a.a?a.h+=12:12===a.h&&0===a.a&&(a.h=0));0===a.G&&a.y&&(a.y=-a.y);w(a.u)||(a.S=b(a.u));return[Object.keys(a).reduce((I,O)=>{const T=g(O);T&&(I[T]=a[O]);return I},{}),C]}function kb(){Eb||(Eb=Ba.fromMillis(1555555555555));
return Eb}function lb(a,g){if(a.literal)return a;const C=Za.macroTokenToFormatOpts(a.val);if(!C)return a;g=Za.create(g,C).formatDateTimeParts(kb()).map(I=>{{const {type:T,value:ca}=I;if("literal"===T)I={literal:!0,val:ca};else{I=C[T];var O=Pc[T];"object"===typeof O&&(O=O[I]);I=O?{literal:!1,val:O}:void 0}}return I});return g.includes(void 0)?a:g}function Va(a,g){return Array.prototype.concat(...a.map(C=>lb(C,g)))}function hb(a,g,C){C=Va(Za.parseFormat(C),a);var I=C.map(T=>ea(T,a));const O=I.find(T=>
T.invalidReason);if(O)return{input:g,tokens:C,invalidReason:O.invalidReason};{const [T,ca]=ua(I);I=RegExp(T,"i");const [ja,pa]=ya(g,I,ca),[Ia,Aa]=pa?db(pa):[null,null];if(n(pa,"a")&&n(pa,"H"))throw new sb("Can't include meridiem when specifying 24-hour format");return{input:g,tokens:C,regex:I,rawMatches:ja,matches:pa,result:Ia,zone:Aa}}}function Wa(a,g){return new cb("unit out of range",`you specified ${g} (of type ${typeof g}) as a ${a}, which is invalid`)}function oa(a,g,C){a=(new Date(Date.UTC(a,
g-1,C))).getUTCDay();return 0===a?7:a}function Fa(a,g){a=l(a)?Fb:Gb;const C=a.findIndex(I=>I<g);return{month:C+1,day:g-a[C]}}function x(a){const {year:g,month:C,day:I}=a;var O=I+(l(g)?Fb:Gb)[C-1];const T=oa(g,C,I);O=Math.floor((O-T+10)/7);let ca;1>O?(ca=g-1,O=F(ca)):O>F(g)?(ca=g+1,O=1):ca=g;return{weekYear:ca,weekNumber:O,weekday:T,...f(a)}}function K(a){const {weekYear:g,weekNumber:C,weekday:I}=a;var O=oa(g,1,4),T=l(g)?366:365;O=7*C+I-O-3;1>O?(T=g-1,O+=l(T)?366:365):O>T?(T=g+1,O-=l(g)?366:365):T=
g;const {month:ca,day:ja}=Fa(T,O);return{year:T,month:ca,day:ja,...f(a)}}function X(a){const {year:g,month:C,day:I}=a;var O=I+(l(g)?Fb:Gb)[C-1];return{year:g,ordinal:O,...f(a)}}function sa(a){const {year:g,ordinal:C}=a,{month:I,day:O}=Fa(g,C);return{year:g,month:I,day:O,...f(a)}}function ta(a){const g=B(a.year),C=e(a.month,1,12),I=e(a.day,1,z(a.year,a.month));return g?C?I?!1:Wa("day",a.day):Wa("month",a.month):Wa("year",a.year)}function Oa(a){const {hour:g,minute:C,second:I,millisecond:O}=a;a=e(g,
0,23)||24===g&&0===C&&0===I&&0===O;const T=e(C,0,59),ca=e(I,0,59),ja=e(O,0,999);return a?T?ca?ja?!1:Wa("millisecond",O):Wa("second",I):Wa("minute",C):Wa("hour",g)}function Ha(a){return new cb("unsupported zone",`the zone "${a.name}" is not supported`)}function Xa(a){null===a.weekData&&(a.weekData=x(a.c));return a.weekData}function Ra(a,g){a={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new Ba({...a,...g,old:a})}function ab(a,g,C){let I=a-6E4*g;const O=C.offset(I);if(g===O)return[I,
g];I-=6E4*(O-g);g=C.offset(I);return O===g?[I,O]:[a-6E4*Math.min(O,g),Math.max(O,g)]}function ub(a,g){a=new Date(a+6E4*g);return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds()}}function ib(a,g,C){return ab(A(a),g,C)}function pb(a,g){const C=a.o;var I=a.c.year+Math.trunc(g.years);const O=a.c.month+Math.trunc(g.months)+3*Math.trunc(g.quarters);I={...a.c,year:I,month:O,day:Math.min(a.c.day,
z(I,O))+Math.trunc(g.days)+7*Math.trunc(g.weeks)};g=Na.fromObject({years:g.years-Math.trunc(g.years),quarters:g.quarters-Math.trunc(g.quarters),months:g.months-Math.trunc(g.months),weeks:g.weeks-Math.trunc(g.weeks),days:g.days-Math.trunc(g.days),hours:g.hours,minutes:g.minutes,seconds:g.seconds,milliseconds:g.milliseconds}).as("milliseconds");I=A(I);let [T,ca]=ab(I,C,a.zone);0!==g&&(T+=g,ca=a.zone.offset(T));return{ts:T,o:ca}}function eb(a,g,C,I,O){const {setZone:T,zone:ca}=C;return a&&0!==Object.keys(a).length?
(a=Ba.fromObject(a,{...C,zone:g||ca}),T?a:a.setZone(ca)):Ba.invalid(new cb("unparsable",`the input "${O}" can't be parsed as ${I}`))}function nb(a,g,C=!0){return a.isValid?Za.create(Pa.create("en-US"),{allowZ:C,forceSimple:!0}).formatDateTimeFromString(a,g):null}function Sb(a,{suppressSeconds:g=!1,suppressMilliseconds:C=!1,includeOffset:I,includePrefix:O=!1,includeZone:T=!1,spaceZone:ca=!1,format:ja="extended"}){let pa="basic"===ja?"HHmm":"HH:mm";g&&0===a.second&&0===a.millisecond||(pa+="basic"===
ja?"ss":":ss",C&&0===a.millisecond||(pa+=".SSS"));(T||I)&&ca&&(pa+=" ");T?pa+="z":I&&(pa+="basic"===ja?"ZZZ":"ZZ");a=nb(a,pa);O&&(a="T"+a);return a}function Tb(a){const g={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",
weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];if(!g)throw new Ub(a);return g}function Vb(a,g){const C=Ca(g.zone,Ta.defaultZone);g=Pa.fromObject(g);const I=Ta.now();var O;if(w(a.year))a=I;else{for(const T of Wb)w(a[T])&&(a[T]=Xb[T]);if(O=ta(a)||Oa(a))return Ba.invalid(O);O=C.offset(I);[a,O]=ib(a,O,C)}return new Ba({ts:a,zone:C,loc:g,o:O})}function Yb(a,g,C){const I=w(C.round)?!0:C.round,O=(ca,ja)=>{ca=h(ca,I||C.calendary?0:2,!0);return g.loc.clone(C).relFormatter(C).format(ca,
ja)},T=ca=>C.calendary?g.hasSame(a,ca)?0:g.startOf(ca).diff(a.startOf(ca),ca).get(ca):g.diff(a,ca).get(ca);if(C.unit)return O(T(C.unit),C.unit);for(const ca of C.units){const ja=T(ca);if(1<=Math.abs(ja))return O(ja,ca)}return O(a>g?-0:0,C.units[C.units.length-1])}function Zb(a){let g={};0<a.length&&"object"===typeof a[a.length-1]?(g=a[a.length-1],a=Array.from(a).slice(0,a.length-1)):a=Array.from(a);return[g,a]}function tb(a){if(Ba.isDateTime(a))return a;if(a&&a.valueOf&&G(a.valueOf()))return Ba.fromJSDate(a);
if(a&&"object"===typeof a)return Ba.fromObject(a);throw new $a(`Unknown datetime argument: ${a}, of type ${typeof a}`);}class jb extends Error{}class Qc extends jb{constructor(a){super(`Invalid DateTime: ${a.toMessage()}`)}}class Rc extends jb{constructor(a){super(`Invalid Interval: ${a.toMessage()}`)}}class Sc extends jb{constructor(a){super(`Invalid Duration: ${a.toMessage()}`)}}class sb extends jb{}class Ub extends jb{constructor(a){super(`Invalid unit ${a}`)}}class $a extends jb{}class gb extends jb{constructor(){super("Zone is an abstract class")}}
const Hb={year:"numeric",month:"numeric",day:"numeric"},$b={year:"numeric",month:"short",day:"numeric"},Tc={year:"numeric",month:"short",day:"numeric",weekday:"short"},ac={year:"numeric",month:"long",day:"numeric"},bc={year:"numeric",month:"long",day:"numeric",weekday:"long"},cc={hour:"numeric",minute:"numeric"},dc={hour:"numeric",minute:"numeric",second:"numeric"},ec={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},fc={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},
gc={hour:"numeric",minute:"numeric",hourCycle:"h23"},hc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},ic={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"short"},jc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},kc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},lc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},mc={year:"numeric",
month:"short",day:"numeric",hour:"numeric",minute:"numeric"},nc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Uc={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},oc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},pc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},qc={year:"numeric",month:"long",
day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},rc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},sc=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/,Gc="January February March April May June July August September October November December".split(" "),Mb="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Fc="JFMAMJJASOND".split(""),Ob="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
Nb="Mon Tue Wed Thu Fri Sat Sun".split(" "),Hc="MTWTFSS".split(""),tc=["AM","PM"],Kc=["Before Christ","Anno Domini"],Jc=["BC","AD"],Ic=["B","A"],Vc={D:Hb,DD:$b,DDD:ac,DDDD:bc,t:cc,tt:dc,ttt:ec,tttt:fc,T:gc,TT:hc,TTT:ic,TTTT:jc,f:kc,ff:mc,fff:oc,ffff:qc,F:lc,FF:nc,FFF:pc,FFFF:rc};class Za{static create(a,g={}){return new Za(a,g)}static parseFormat(a){let g=null,C="",I=!1;const O=[];for(let T=0;T<a.length;T++){const ca=a.charAt(T);"'"===ca?(0<C.length&&O.push({literal:I,val:C}),g=null,C="",I=!I):I?
C+=ca:ca===g?C+=ca:(0<C.length&&O.push({literal:!1,val:C}),g=C=ca)}0<C.length&&O.push({literal:I,val:C});return O}static macroTokenToFormatOpts(a){return Vc[a]}constructor(a,g){this.opts=g;this.loc=a;this.systemLoc=null}formatWithSystemDefault(a,g){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(a,{...this.opts,...g}).format()}formatDateTime(a,g={}){return this.loc.dtFormatter(a,{...this.opts,...g}).format()}formatDateTimeParts(a,g={}){return this.loc.dtFormatter(a,
{...this.opts,...g}).formatToParts()}resolvedOptions(a,g={}){return this.loc.dtFormatter(a,{...this.opts,...g}).resolvedOptions()}num(a,g=0){if(this.opts.forceSimple)return p(a,g);const C={...this.opts};0<g&&(C.padTo=g);return this.loc.numberFormatter(C).format(a)}formatDateTimeFromString(a,g){const C="en"===this.loc.listingMode(),I=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,O=(Aa,Ga)=>this.loc.extract(a,Aa,Ga),T=Aa=>a.isOffsetFixed&&0===a.offset&&Aa.allowZ?"Z":a.isValid?a.zone.formatOffset(a.ts,
Aa.format):"",ca=(Aa,Ga)=>C?S(Aa)[a.month-1]:O(Ga?{month:Aa}:{month:Aa,day:"numeric"},"month"),ja=(Aa,Ga)=>C?da(Aa)[a.weekday-1]:O(Ga?{weekday:Aa}:{weekday:Aa,month:"long",day:"numeric"},"weekday"),pa=Aa=>{const Ga=Za.macroTokenToFormatOpts(Aa);return Ga?this.formatWithSystemDefault(a,Ga):Aa},Ia=Aa=>C?aa(Aa)[0>a.year?0:1]:O({era:Aa},"era");return na(Za.parseFormat(g),Aa=>{switch(Aa){case "S":return this.num(a.millisecond);case "u":case "SSS":return this.num(a.millisecond,3);case "s":return this.num(a.second);
case "ss":return this.num(a.second,2);case "m":return this.num(a.minute);case "mm":return this.num(a.minute,2);case "h":return this.num(0===a.hour%12?12:a.hour%12);case "hh":return this.num(0===a.hour%12?12:a.hour%12,2);case "H":return this.num(a.hour);case "HH":return this.num(a.hour,2);case "Z":return T({format:"narrow",allowZ:this.opts.allowZ});case "ZZ":return T({format:"short",allowZ:this.opts.allowZ});case "ZZZ":return T({format:"techie",allowZ:this.opts.allowZ});case "ZZZZ":return a.zone.offsetName(a.ts,
{format:"short",locale:this.loc.locale});case "ZZZZZ":return a.zone.offsetName(a.ts,{format:"long",locale:this.loc.locale});case "z":return a.zoneName;case "a":return C?tc[12>a.hour?0:1]:O({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return I?O({day:"numeric"},"day"):this.num(a.day);case "dd":return I?O({day:"2-digit"},"day"):this.num(a.day,2);case "c":return this.num(a.weekday);case "ccc":return ja("short",!0);case "cccc":return ja("long",!0);case "ccccc":return ja("narrow",!0);case "E":return this.num(a.weekday);
case "EEE":return ja("short",!1);case "EEEE":return ja("long",!1);case "EEEEE":return ja("narrow",!1);case "L":return I?O({month:"numeric",day:"numeric"},"month"):this.num(a.month);case "LL":return I?O({month:"2-digit",day:"numeric"},"month"):this.num(a.month,2);case "LLL":return ca("short",!0);case "LLLL":return ca("long",!0);case "LLLLL":return ca("narrow",!0);case "M":return I?O({month:"numeric"},"month"):this.num(a.month);case "MM":return I?O({month:"2-digit"},"month"):this.num(a.month,2);case "MMM":return ca("short",
!1);case "MMMM":return ca("long",!1);case "MMMMM":return ca("narrow",!1);case "y":return I?O({year:"numeric"},"year"):this.num(a.year);case "yy":return I?O({year:"2-digit"},"year"):this.num(a.year.toString().slice(-2),2);case "yyyy":return I?O({year:"numeric"},"year"):this.num(a.year,4);case "yyyyyy":return I?O({year:"numeric"},"year"):this.num(a.year,6);case "G":return Ia("short");case "GG":return Ia("long");case "GGGGG":return Ia("narrow");case "kk":return this.num(a.weekYear.toString().slice(-2),
2);case "kkkk":return this.num(a.weekYear,4);case "W":return this.num(a.weekNumber);case "WW":return this.num(a.weekNumber,2);case "o":return this.num(a.ordinal);case "ooo":return this.num(a.ordinal,3);case "q":return this.num(a.quarter);case "qq":return this.num(a.quarter,2);case "X":return this.num(Math.floor(a.ts/1E3));case "x":return this.num(a.ts);default:return pa(Aa)}})}formatDurationFromString(a,g){const C=O=>{switch(O[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";
case "h":return"hour";case "d":return"day";case "M":return"month";case "y":return"year";default:return null}};g=Za.parseFormat(g);const I=g.reduce((O,{literal:T,val:ca})=>T?O:O.concat(ca),[]);a=a.shiftTo(...I.map(C).filter(O=>O));return na(g,(O=>T=>{const ca=C(T);return ca?this.num(O.get(ca),T.length):T})(a))}}class cb{constructor(a,g){this.reason=a;this.explanation=g}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class qb{get type(){throw new gb;}get name(){throw new gb;
}get isUniversal(){throw new gb;}offsetName(a,g){throw new gb;}formatOffset(a,g){throw new gb;}offset(a){throw new gb;}equals(a){throw new gb;}get isValid(){throw new gb;}}let Ib=null;class uc extends qb{static get instance(){null===Ib&&(Ib=new uc);return Ib}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(a,{format:g,locale:C}){return N(a,g,C)}formatOffset(a,g){return t(this.offset(a),g)}offset(a){return-(new Date(a)).getTimezoneOffset()}equals(a){return"system"===
a.type}get isValid(){return!0}}const Wc=RegExp(`^${sc.source}$`);let vb={};const Xc={year:0,month:1,day:2,hour:3,minute:4,second:5};let wb={};class bb extends qb{static create(a){wb[a]||(wb[a]=new bb(a));return wb[a]}static resetCache(){wb={};vb={}}static isValidSpecifier(a){return!(!a||!a.match(Wc))}static isValidZone(a){try{return(new Intl.DateTimeFormat("en-US",{timeZone:a})).format(),!0}catch(g){return!1}}static parseGMTOffset(a){return a&&(a=a.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i))?-60*parseInt(a[1]):
null}constructor(a){super();this.zoneName=a;this.valid=bb.isValidZone(a)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(a,{format:g,locale:C}){return N(a,g,C,this.name)}formatOffset(a,g){return t(this.offset(a),g)}offset(a){a=new Date(a);if(isNaN(a))return NaN;var g=this.name;vb[g]||(vb[g]=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:g,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}));g=vb[g];
if(g.formatToParts){g=g.formatToParts(a);var C=[];for(let Ia=0;Ia<g.length;Ia++){const {type:Aa,value:Ga}=g[Ia],Ma=Xc[Aa];w(Ma)||(C[Ma]=parseInt(Ga,10))}g=C}else{{g=g.format(a).replace(/\u200E/g,"");g=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(g);const [,Ia,Aa,Ga,Ma,fb,mb]=g;g=[Ga,Ia,Aa,Ma,fb,mb]}}const [I,O,T,ca,ja,pa]=g;g=A({year:I,month:O,day:T,hour:ca,minute:ja,second:pa,millisecond:0});a=+a;C=a%1E3;return(g-(a-(0<=C?C:1E3+C)))/6E4}equals(a){return"iana"===a.type&&a.name===this.name}get isValid(){return this.valid}}
let Jb=null;class Ya extends qb{static get utcInstance(){null===Jb&&(Jb=new Ya(0));return Jb}static instance(a){return 0===a?Ya.utcInstance:new Ya(a)}static parseSpecifier(a){return a&&(a=a.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new Ya(c(a[1],a[2])):null}constructor(a){super();this.fixed=a}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${t(this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(a,g){return t(this.fixed,g)}get isUniversal(){return!0}offset(){return this.fixed}equals(a){return"fixed"===
a.type&&a.fixed===this.fixed}get isValid(){return!0}}class Pb extends qb{constructor(a){super();this.zoneName=a}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let vc=()=>Date.now(),wc="system",xc=null,yc=null,zc=null,Ac;class Ta{static get now(){return vc}static set now(a){vc=a}static set defaultZone(a){wc=a}static get defaultZone(){return Ca(wc,uc.instance)}static get defaultLocale(){return xc}static set defaultLocale(a){xc=
a}static get defaultNumberingSystem(){return yc}static set defaultNumberingSystem(a){yc=a}static get defaultOutputCalendar(){return zc}static set defaultOutputCalendar(a){zc=a}static get throwOnInvalid(){return Ac}static set throwOnInvalid(a){Ac=a}static resetCaches(){Pa.resetCache();bb.resetCache()}}let zb={},Ab={},Bb={},xb=null;class Yc{constructor(a,g,C){this.padTo=C.padTo||0;this.floor=C.floor||!1;g||(g={useGrouping:!1},0<C.padTo&&(g.minimumIntegerDigits=C.padTo),this.inf=Qa(a,g))}format(a){if(this.inf)return this.inf.format(this.floor?
Math.floor(a):a);a=this.floor?Math.floor(a):h(a,3);return p(a,this.padTo)}}class Zc{constructor(a,g,C){this.opts=C;if(a.zone.isUniversal){var I=a.offset/60*-1;I=0<=I?`Etc/GMT+${I}`:`Etc/GMT${I}`;const O=bb.isValidZone(I);0!==a.offset&&O?this.dt=a:(I="UTC",this.dt=C.timeZoneName?a:0===a.offset?a:Ba.fromMillis(a.ts+6E4*a.offset))}else"system"===a.zone.type?this.dt=a:(this.dt=a,I=a.zone.name);a={...this.opts};I&&(a.timeZone=I);this.dtf=Ua(g,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}
class $c{constructor(a,g,C){this.opts={style:"long",...C};!g&&m()&&(this.rtf=ha(a,C))}format(a,g){return this.rtf?this.rtf.format(a,g):Ja(g,a,this.opts.numeric,"long"!==this.opts.style)}formatToParts(a,g){return this.rtf?this.rtf.formatToParts(a,g):[]}}class Pa{static fromOpts(a){return Pa.create(a.locale,a.numberingSystem,a.outputCalendar,a.defaultToEN)}static create(a,g,C,I=!1){a=a||Ta.defaultLocale;var O;(O=a)||(I?I="en-US":(xb||(xb=(new Intl.DateTimeFormat).resolvedOptions().locale),I=xb),O=I);
return new Pa(O,g||Ta.defaultNumberingSystem,C||Ta.defaultOutputCalendar,a)}static resetCache(){xb=null;zb={};Ab={};Bb={}}static fromObject({locale:a,numberingSystem:g,outputCalendar:C}={}){return Pa.create(a,g,C)}constructor(a,g,C,I){var O=a.indexOf("-u-");if(-1===O)a=[a];else{let pa;O=a.substring(0,O);try{pa=Ua(a).resolvedOptions()}catch(Ga){pa=Ua(O).resolvedOptions()}const {numberingSystem:Ia,calendar:Aa}=pa;a=[O,Ia,Aa]}const [T,ca,ja]=a;this.locale=T;this.numberingSystem=g||ca||null;this.outputCalendar=
C||ja||null;g=this.locale;C=this.numberingSystem;if((a=this.outputCalendar)||C)g+="-u",a&&(g+=`-ca-${a}`),C&&(g+=`-nu-${C}`);this.intl=g;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=I;this.fastNumbersCached=null}get fastNumbers(){if(null==this.fastNumbersCached){var a=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||
"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;this.fastNumbersCached=a}return this.fastNumbersCached}listingMode(a){a=this.isEnglish();const g=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return a&&g?"en":"intl"}clone(a){return a&&0!==Object.getOwnPropertyNames(a).length?Pa.create(a.locale||this.specifiedLocale,a.numberingSystem||this.numberingSystem,a.outputCalendar||this.outputCalendar,
a.defaultToEN||!1):this}redefaultToEN(a={}){return this.clone({...a,defaultToEN:!0})}redefaultToSystem(a={}){return this.clone({...a,defaultToEN:!1})}months(a,g=!1,C=!0){return ma(this,a,C,S,()=>{const I=g?{month:a,day:"numeric"}:{month:a},O=g?"format":"standalone";this.monthsCache[O][a]||(this.monthsCache[O][a]=fa(T=>this.extract(T,I,"month")));return this.monthsCache[O][a]})}weekdays(a,g=!1,C=!0){return ma(this,a,C,da,()=>{const I=g?{weekday:a,year:"numeric",month:"long",day:"numeric"}:{weekday:a},
O=g?"format":"standalone";this.weekdaysCache[O][a]||(this.weekdaysCache[O][a]=la(T=>this.extract(T,I,"weekday")));return this.weekdaysCache[O][a]})}meridiems(a=!0){return ma(this,void 0,a,()=>tc,()=>{if(!this.meridiemCache){const g={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ba.utc(2016,11,13,9),Ba.utc(2016,11,13,19)].map(C=>this.extract(C,g,"dayperiod"))}return this.meridiemCache})}eras(a,g=!0){return ma(this,a,g,aa,()=>{const C={era:a};this.eraCache[a]||(this.eraCache[a]=[Ba.utc(-40,1,
1),Ba.utc(2017,1,1)].map(I=>this.extract(I,C,"era")));return this.eraCache[a]})}extract(a,g,C){return(a=this.dtFormatter(a,g).formatToParts().find(I=>I.type.toLowerCase()===C))?a.value:null}numberFormatter(a={}){return new Yc(this.intl,a.forceSimple||this.fastNumbers,a)}dtFormatter(a,g={}){return new Zc(a,this.intl,g)}relFormatter(a={}){return new $c(this.intl,this.isEnglish(),a)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}equals(a){return this.locale===
a.locale&&this.numberingSystem===a.numberingSystem&&this.outputCalendar===a.outputCalendar}}const Bc=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Kb=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Cc=RegExp(`${Kb.source}${Bc.source}?`),Lb=RegExp(`(?:T${Cc.source})?`),ad=W("weekYear","weekNumber","weekDay"),bd=W("year","ordinal"),Dc=RegExp(`${Kb.source} ?(?:${Bc.source}|(${sc.source}))?`),cd=RegExp(`(?: ${Dc.source})?`),dd=RegExp(`^T?${Kb.source}$`),ed=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/,
Lc={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},fd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,gd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,hd=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,
id=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,jd=M(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Lb),kd=M(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Lb),ld=M(/(\d{4})-?(\d{3})/,Lb),md=M(Cc),nd=V(ra,za,qa),od=V(ad,za,qa),pd=V(bd,za,qa),qd=V(za,qa),rd=V(za),sd=M(/(\d{4})-(\d\d)-(\d\d)/,cd),td=M(Dc),ud=V(ra,za,qa,ba),vd=V(za,qa,ba),Ec={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,
seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},wd={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6},...Ec},xd={years:{quarters:4,months:12,weeks:52.1775,
days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...Ec},ob="years quarters months weeks days hours minutes seconds milliseconds".split(" "),Mc=ob.slice(0).reverse();class Na{constructor(a){const g="longterm"===a.conversionAccuracy||
!1;this.values=a.values;this.loc=a.loc||Pa.create();this.conversionAccuracy=g?"longterm":"casual";this.invalid=a.invalid||null;this.matrix=g?xd:wd;this.isLuxonDuration=!0}static fromMillis(a,g){return Na.fromObject({milliseconds:a},g)}static fromObject(a,g={}){if(null==a||"object"!==typeof a)throw new $a(`Duration.fromObject: argument expected to be an object, got ${null===a?"null":typeof a}`);return new Na({values:d(a,Na.normalizeUnit),loc:Pa.fromObject(g),conversionAccuracy:g.conversionAccuracy})}static fromISO(a,
g){const [C]=U(a,[ed,ia]);return C?Na.fromObject(C,g):Na.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static fromISOTime(a,g){const [C]=U(a,[dd,rd]);return C?Na.fromObject(C,g):Na.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static invalid(a,g=null){if(!a)throw new $a("need to specify a reason the Duration is invalid");a=a instanceof cb?a:new cb(a,g);if(Ta.throwOnInvalid)throw new Sc(a);return new Na({invalid:a})}static normalizeUnit(a){const g={year:"years",
years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[a?a.toLowerCase():a];if(!g)throw new Ub(a);return g}static isDuration(a){return a&&a.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:
null}toFormat(a,g={}){g={...g,floor:!1!==g.round&&!1!==g.floor};return this.isValid?Za.create(this.loc,g).formatDurationFromString(this,a):"Invalid Duration"}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let a="P";0!==this.years&&(a+=this.years+"Y");if(0!==this.months||0!==this.quarters)a+=this.months+3*this.quarters+"M";0!==this.weeks&&(a+=this.weeks+"W");0!==this.days&&(a+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)a+=
"T";0!==this.hours&&(a+=this.hours+"H");0!==this.minutes&&(a+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)a+=h(this.seconds+this.milliseconds/1E3,3)+"S";"P"===a&&(a+="T0S");return a}toISOTime(a={}){if(!this.isValid)return null;var g=this.toMillis();if(0>g||864E5<=g)return null;a={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...a};g=this.shiftTo("hours","minutes","seconds","milliseconds");let C="basic"===a.format?"hhmm":"hh:mm";a.suppressSeconds&&0===
g.seconds&&0===g.milliseconds||(C+="basic"===a.format?"ss":":ss",a.suppressMilliseconds&&0===g.milliseconds||(C+=".SSS"));g=g.toFormat(C);a.includePrefix&&(g="T"+g);return g}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(a){if(!this.isValid)return this;a=La(a);const g={};for(const C of ob)if(n(a.values,C)||n(this.values,C))g[C]=a.get(C)+this.get(C);return R(this,{values:g},!0)}minus(a){if(!this.isValid)return this;
a=La(a);return this.plus(a.negate())}mapUnits(a){if(!this.isValid)return this;const g={};for(const C of Object.keys(this.values))g[C]=q(a(this.values[C],C));return R(this,{values:g},!0)}get(a){return this[Na.normalizeUnit(a)]}set(a){if(!this.isValid)return this;a={...this.values,...d(a,Na.normalizeUnit)};return R(this,{values:a})}reconfigure({locale:a,numberingSystem:g,conversionAccuracy:C}={}){a={loc:this.loc.clone({locale:a,numberingSystem:g})};C&&(a.conversionAccuracy=C);return R(this,a)}as(a){return this.isValid?
this.shiftTo(a).get(a):NaN}normalize(){if(!this.isValid)return this;const a=this.toObject();xa(this.matrix,a);return R(this,{values:a},!0)}shiftTo(...a){if(!this.isValid||0===a.length)return this;a=a.map(T=>Na.normalizeUnit(T));const g={},C={},I=this.toObject();let O;for(const T of ob)if(0<=a.indexOf(T)){O=T;let ca=0;for(const pa in C)ca+=this.matrix[pa][T]*C[pa],C[pa]=0;G(I[T])&&(ca+=I[T]);const ja=Math.trunc(ca);g[T]=ja;C[T]=ca-ja;for(const pa in I)ob.indexOf(pa)>ob.indexOf(T)&&Z(this.matrix,I,
pa,g,T)}else G(I[T])&&(C[T]=I[T]);for(const T in C)0!==C[T]&&(g[O]+=T===O?C[T]:C[T]/this.matrix[O][T]);return R(this,{values:g},!0).normalize()}negate(){if(!this.isValid)return this;const a={};for(const g of Object.keys(this.values))a[g]=-this.values[g];return R(this,{values:a},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||
0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(a){if(!this.isValid||
!a.isValid||!this.loc.equals(a.loc))return!1;for(const I of ob){var g=this.values[I];var C=a.values[I];g=void 0===g||0===g?void 0===C||0===C:g===C;if(!g)return!1}return!0}}class Sa{constructor(a){this.s=a.start;this.e=a.end;this.invalid=a.invalid||null;this.isLuxonInterval=!0}static invalid(a,g=null){if(!a)throw new $a("need to specify a reason the Interval is invalid");a=a instanceof cb?a:new cb(a,g);if(Ta.throwOnInvalid)throw new Rc(a);return new Sa({invalid:a})}static fromDateTimes(a,g){a=tb(a);
g=tb(g);var C=a&&a.isValid?g&&g.isValid?g<a?Sa.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${g.toISO()}`):null:Sa.invalid("missing or invalid end"):Sa.invalid("missing or invalid start");return null==C?new Sa({start:a,end:g}):C}static after(a,g){g=La(g);a=tb(a);return Sa.fromDateTimes(a,a.plus(g))}static before(a,g){g=La(g);a=tb(a);return Sa.fromDateTimes(a.minus(g),a)}static fromISO(a,g){const [C,I]=(a||"").split("/",2);if(C&&
I){let ca;try{var O=Ba.fromISO(C,g);ca=O.isValid}catch(pa){ca=!1}let ja;try{var T=Ba.fromISO(I,g);ja=T.isValid}catch(pa){ja=!1}if(ca&&ja)return Sa.fromDateTimes(O,T);if(ca){if(T=Na.fromISO(I,g),T.isValid)return Sa.after(O,T)}else if(ja&&(O=Na.fromISO(C,g),O.isValid))return Sa.before(T,O)}return Sa.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static isInterval(a){return a&&a.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:
null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(a="milliseconds"){return this.isValid?this.toDuration(...[a]).get(a):NaN}count(a="milliseconds"){if(!this.isValid)return NaN;const g=this.start.startOf(a),C=this.end.startOf(a);return Math.floor(C.diff(g,a).get(a))+1}hasSame(a){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,a):!1}isEmpty(){return this.s.valueOf()===
this.e.valueOf()}isAfter(a){return this.isValid?this.s>a:!1}isBefore(a){return this.isValid?this.e<=a:!1}contains(a){return this.isValid?this.s<=a&&this.e>a:!1}set({start:a,end:g}={}){return this.isValid?Sa.fromDateTimes(a||this.s,g||this.e):this}splitAt(...a){if(!this.isValid)return[];a=a.map(tb).filter(T=>this.contains(T)).sort();const g=[];let {s:C}=this,I=0;for(;C<this.e;){var O=a[I]||this.e;O=+O>+this.e?this.e:O;g.push(Sa.fromDateTimes(C,O));C=O;I+=1}return g}splitBy(a){a=La(a);if(!this.isValid||
!a.isValid||0===a.as("milliseconds"))return[];let {s:g}=this,C=1;const I=[];for(;g<this.e;){var O=this.start.plus(a.mapUnits(T=>T*C));O=+O>+this.e?this.e:O;I.push(Sa.fromDateTimes(g,O));g=O;C+=1}return I}divideEqually(a){return this.isValid?this.splitBy(this.length()/a).slice(0,a):[]}overlaps(a){return this.e>a.s&&this.s<a.e}abutsStart(a){return this.isValid?+this.e===+a.s:!1}abutsEnd(a){return this.isValid?+a.e===+this.s:!1}engulfs(a){return this.isValid?this.s<=a.s&&this.e>=a.e:!1}equals(a){return this.isValid&&
a.isValid?this.s.equals(a.s)&&this.e.equals(a.e):!1}intersection(a){if(!this.isValid)return this;const g=this.s>a.s?this.s:a.s;a=this.e<a.e?this.e:a.e;return g>=a?null:Sa.fromDateTimes(g,a)}union(a){return this.isValid?Sa.fromDateTimes(this.s<a.s?this.s:a.s,this.e>a.e?this.e:a.e):this}static merge(a){const [g,C]=a.sort((I,O)=>I.s-O.s).reduce(([I,O],T)=>O?O.overlaps(T)||O.abutsStart(T)?[I,O.union(T)]:[I.concat([O]),T]:[I,T],[[],null]);C&&g.push(C);return g}static xor(a){let g=null,C=0;const I=[];a=
a.map(O=>[{time:O.s,type:"s"},{time:O.e,type:"e"}]);a=Array.prototype.concat(...a).sort((O,T)=>O.time-T.time);for(const O of a)C+="s"===O.type?1:-1,1===C?g=O.time:(g&&+g!==+O.time&&I.push(Sa.fromDateTimes(g,O.time)),g=null);return Sa.merge(I)}difference(...a){return Sa.xor([this].concat(a)).map(g=>this.intersection(g)).filter(g=>g&&!g.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}toISO(a){return this.isValid?`${this.s.toISO(a)}/${this.e.toISO(a)}`:
"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:"Invalid Interval"}toISOTime(a){return this.isValid?`${this.s.toISOTime(a)}/${this.e.toISOTime(a)}`:"Invalid Interval"}toFormat(a,{separator:g=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(a)}${g}${this.e.toFormat(a)}`:"Invalid Interval"}toDuration(a,g){return this.isValid?this.e.diff(this.s,a,g):Na.invalid(this.invalidReason)}mapEndpoints(a){return Sa.fromDateTimes(a(this.s),a(this.e))}}class yb{static hasDST(a=
Ta.defaultZone){const g=Ba.now().setZone(a).set({month:12});return!a.isUniversal&&g.offset!==g.set({month:6}).offset}static isValidIANAZone(a){return bb.isValidSpecifier(a)&&bb.isValidZone(a)}static normalizeZone(a){return Ca(a,Ta.defaultZone)}static months(a="long",{locale:g=null,numberingSystem:C=null,locObj:I=null,outputCalendar:O="gregory"}={}){return(I||Pa.create(g,C,O)).months(a)}static monthsFormat(a="long",{locale:g=null,numberingSystem:C=null,locObj:I=null,outputCalendar:O="gregory"}={}){return(I||
Pa.create(g,C,O)).months(a,!0)}static weekdays(a="long",{locale:g=null,numberingSystem:C=null,locObj:I=null}={}){return(I||Pa.create(g,C,null)).weekdays(a)}static weekdaysFormat(a="long",{locale:g=null,numberingSystem:C=null,locObj:I=null}={}){return(I||Pa.create(g,C,null)).weekdays(a,!0)}static meridiems({locale:a=null}={}){return Pa.create(a).meridiems()}static eras(a="short",{locale:g=null}={}){return Pa.create(g,null,"gregory").eras(a)}static features(){return{relative:m()}}}const Cb={arab:"[\u0660-\u0669]",
arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",
latn:"\\d"},Qb={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Nc=Cb.hanidec.replace(/[\[|\]]/g,"").split(""),Rb=`( |${String.fromCharCode(160)})`,Db=new RegExp(Rb,"g"),Pc={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M",
"2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};let Eb=null;const Gb=[0,31,59,90,120,151,181,212,243,273,304,334],Fb=[0,31,60,91,121,152,182,213,244,274,305,335],Xb={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},yd={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},zd={ordinal:1,hour:0,
minute:0,second:0,millisecond:0},Wb="year month day hour minute second millisecond".split(" "),Ad="weekYear weekNumber weekday hour minute second millisecond".split(" "),Bd="year ordinal hour minute second millisecond".split(" ");class Ba{constructor(a){const g=a.zone||Ta.defaultZone;let C=a.invalid||(Number.isNaN(a.ts)?new cb("invalid input"):null)||(g.isValid?null:Ha(g));this.ts=w(a.ts)?Ta.now():a.ts;let I=null;var O=null;C||(a.old&&a.old.ts===this.ts&&a.old.zone.equals(g)?[I,O]=[a.old.c,a.old.o]:
(O=g.offset(this.ts),I=ub(this.ts,O),I=(C=Number.isNaN(I.year)?new cb("invalid input"):null)?null:I,O=C?null:O));this._zone=g;this.loc=a.loc||Pa.create();this.invalid=C;this.weekData=null;this.c=I;this.o=O;this.isLuxonDateTime=!0}static now(){return new Ba({})}static local(){const [a,g]=Zb(arguments),[C,I,O,T,ca,ja,pa]=g;return Vb({year:C,month:I,day:O,hour:T,minute:ca,second:ja,millisecond:pa},a)}static utc(){const [a,g]=Zb(arguments),[C,I,O,T,ca,ja,pa]=g;a.zone=Ya.utcInstance;return Vb({year:C,
month:I,day:O,hour:T,minute:ca,second:ja,millisecond:pa},a)}static fromJSDate(a,g={}){a="[object Date]"===Object.prototype.toString.call(a)?a.valueOf():NaN;if(Number.isNaN(a))return Ba.invalid("invalid input");const C=Ca(g.zone,Ta.defaultZone);return C.isValid?new Ba({ts:a,zone:C,loc:Pa.fromObject(g)}):Ba.invalid(Ha(C))}static fromMillis(a,g={}){if(G(a))return-864E13>a||864E13<a?Ba.invalid("Timestamp out of range"):new Ba({ts:a,zone:Ca(g.zone,Ta.defaultZone),loc:Pa.fromObject(g)});throw new $a(`fromMillis requires a numerical input, but received a ${typeof a} with value ${a}`);
}static fromSeconds(a,g={}){if(G(a))return new Ba({ts:1E3*a,zone:Ca(g.zone,Ta.defaultZone),loc:Pa.fromObject(g)});throw new $a("fromSeconds requires a numerical input");}static fromObject(a,g={}){a=a||{};var C=Ca(g.zone,Ta.defaultZone);if(!C.isValid)return Ba.invalid(Ha(C));var I=Ta.now();const O=C.offset(I),T=d(a,Tb);var ca=!w(T.ordinal),ja=!w(T.year),pa=!w(T.month)||!w(T.day);ja=ja||pa;var Ia=T.weekYear||T.weekNumber;g=Pa.fromObject(g);if((ja||ca)&&Ia)throw new sb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");
if(pa&&ca)throw new sb("Can't mix ordinal dates with month/day");pa=Ia||T.weekday&&!ja;let Aa=ub(I,O);pa?(I=Ad,Ia=yd,Aa=x(Aa)):ca?(I=Bd,Ia=zd,Aa=X(Aa)):(I=Wb,Ia=Xb);let Ga=!1;for(var Ma of I)w(T[Ma])?T[Ma]=Ga?Ia[Ma]:Aa[Ma]:Ga=!0;pa?(Ma=B(T.weekYear),I=e(T.weekNumber,1,F(T.weekYear)),Ia=e(T.weekday,1,7),Ma=Ma?I?Ia?!1:Wa("weekday",T.weekday):Wa("week",T.week):Wa("weekYear",T.weekYear)):ca?(Ma=B(T.year),I=e(T.ordinal,1,l(T.year)?366:365),Ma=Ma?I?!1:Wa("ordinal",T.ordinal):Wa("year",T.year)):Ma=ta(T);
if(Ma=Ma||Oa(T))return Ba.invalid(Ma);ca=pa?K(T):ca?sa(T):T;const [fb,mb]=ib(ca,O,C);C=new Ba({ts:fb,zone:C,o:mb,loc:g});return T.weekday&&ja&&a.weekday!==C.weekday?Ba.invalid("mismatched weekday",`you can't specify both a weekday of ${T.weekday} and a date of ${C.toISO()}`):C}static fromISO(a,g={}){const [C,I]=U(a,[jd,nd],[kd,od],[ld,pd],[md,qd]);return eb(C,I,g,"ISO 8601",a)}static fromRFC2822(a,g={}){const [C,I]=U(a.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[fd,J]);return eb(C,
I,g,"RFC 2822",a)}static fromHTTP(a,g={}){const [C,I]=U(a,[gd,H],[hd,H],[id,Q]);return eb(C,I,g,"HTTP",g)}static fromFormat(a,g,C={}){if(w(a)||w(g))throw new $a("fromFormat requires an input string and a format");const {locale:I=null,numberingSystem:O=null}=C;var T=Pa.fromOpts({locale:I,numberingSystem:O,defaultToEN:!0});{const {result:Ia,zone:Aa,invalidReason:Ga}=hb(T,a,g);T=[Ia,Aa,Ga]}const [ca,ja,pa]=T;return pa?Ba.invalid(pa):eb(ca,ja,C,`format ${g}`,a)}static fromString(a,g,C={}){return Ba.fromFormat(a,
g,C)}static fromSQL(a,g={}){const [C,I]=U(a,[sd,ud],[td,vd]);return eb(C,I,g,"SQL",a)}static invalid(a,g=null){if(!a)throw new $a("need to specify a reason the DateTime is invalid");a=a instanceof cb?a:new cb(a,g);if(Ta.throwOnInvalid)throw new Qc(a);return new Ba({invalid:a})}static isDateTime(a){return a&&a.isLuxonDateTime||!1}get(a){return this[a]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?
this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:
NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Xa(this).weekYear:NaN}get weekNumber(){return this.isValid?Xa(this).weekNumber:NaN}get weekday(){return this.isValid?Xa(this).weekday:NaN}get ordinal(){return this.isValid?X(this.c).ordinal:NaN}get monthShort(){return this.isValid?yb.months("short",{locObj:this.loc})[this.month-
1]:null}get monthLong(){return this.isValid?yb.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?yb.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?yb.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,
{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return l(this.year)}get daysInMonth(){return z(this.year,this.month)}get daysInYear(){return this.isValid?l(this.year)?366:365:NaN}get weeksInWeekYear(){return this.isValid?F(this.weekYear):NaN}resolvedLocaleOptions(a={}){const {locale:g,numberingSystem:C,
calendar:I}=Za.create(this.loc.clone(a),a).resolvedOptions(this);return{locale:g,numberingSystem:C,outputCalendar:I}}toUTC(a=0,g={}){return this.setZone(Ya.instance(a),g)}toLocal(){return this.setZone(Ta.defaultZone)}setZone(a,{keepLocalTime:g=!1,keepCalendarTime:C=!1}={}){a=Ca(a,Ta.defaultZone);if(a.equals(this.zone))return this;if(a.isValid){let I=this.ts;if(g||C)g=a.offset(this.ts),C=this.toObject(),[I]=ib(C,g,a);return Ra(this,{ts:I,zone:a})}return Ba.invalid(Ha(a))}reconfigure({locale:a,numberingSystem:g,
outputCalendar:C}={}){a=this.loc.clone({locale:a,numberingSystem:g,outputCalendar:C});return Ra(this,{loc:a})}setLocale(a){return this.reconfigure({locale:a})}set(a){if(!this.isValid)return this;a=d(a,Tb);var g=!w(a.weekYear)||!w(a.weekNumber)||!w(a.weekday);const C=!w(a.ordinal),I=!w(a.year),O=!w(a.month)||!w(a.day),T=a.weekYear||a.weekNumber;if((I||O||C)&&T)throw new sb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(O&&C)throw new sb("Can't mix ordinal dates with month/day");
g?g=K({...x(this.c),...a}):w(a.ordinal)?(g={...this.toObject(),...a},w(a.day)&&(g.day=Math.min(z(g.year,g.month),g.day))):g=sa({...X(this.c),...a});const [ca,ja]=ib(g,this.o,this.zone);return Ra(this,{ts:ca,o:ja})}plus(a){if(!this.isValid)return this;a=La(a);return Ra(this,pb(this,a))}minus(a){if(!this.isValid)return this;a=La(a).negate();return Ra(this,pb(this,a))}startOf(a){if(!this.isValid)return this;const g={};a=Na.normalizeUnit(a);switch(a){case "years":g.month=1;case "quarters":case "months":g.day=
1;case "weeks":case "days":g.hour=0;case "hours":g.minute=0;case "minutes":g.second=0;case "seconds":g.millisecond=0}"weeks"===a&&(g.weekday=1);"quarters"===a&&(g.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(g)}endOf(a){return this.isValid?this.plus({[a]:1}).startOf(a).minus(1):this}toFormat(a,g={}){return this.isValid?Za.create(this.loc.redefaultToEN(g)).formatDateTimeFromString(this,a):"Invalid DateTime"}toLocaleString(a=Hb,g={}){return this.isValid?Za.create(this.loc.clone(g),a).formatDateTime(this):
"Invalid DateTime"}toLocaleParts(a={}){return this.isValid?Za.create(this.loc.clone(a),a).formatDateTimeParts(this):[]}toISO(a={}){return this.isValid?`${this.toISODate(a)}T${this.toISOTime(a)}`:null}toISODate({format:a="extended"}={}){a="basic"===a?"yyyyMMdd":"yyyy-MM-dd";9999<this.year&&(a="+"+a);return nb(this,a)}toISOWeekDate(){return nb(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:a=!1,suppressSeconds:g=!1,includeOffset:C=!0,includePrefix:I=!1,format:O="extended"}={}){return Sb(this,
{suppressSeconds:g,suppressMilliseconds:a,includeOffset:C,includePrefix:I,format:O})}toRFC2822(){return nb(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return nb(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return nb(this,"yyyy-MM-dd")}toSQLTime({includeOffset:a=!0,includeZone:g=!1}={}){return Sb(this,{includeOffset:a,includeZone:g,spaceZone:!0})}toSQL(a={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(a)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}valueOf(){return this.toMillis()}toMillis(){return this.isValid?
this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(a={}){if(!this.isValid)return{};const g={...this.c};a.includeConfig&&(g.outputCalendar=this.outputCalendar,g.numberingSystem=this.loc.numberingSystem,g.locale=this.loc.locale);return g}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(a,g="milliseconds",C={}){if(!this.isValid||!a.isValid)return Na.invalid("created by diffing an invalid DateTime");C={locale:this.locale,
numberingSystem:this.numberingSystem,...C};const I=(Array.isArray(g)?g:[g]).map(Na.normalizeUnit);g=a.valueOf()>this.valueOf();a=v(g?this:a,g?a:this,I,C);return g?a.negate():a}diffNow(a="milliseconds",g={}){return this.diff(Ba.now(),a,g)}until(a){return this.isValid?Sa.fromDateTimes(this,a):this}hasSame(a,g){if(!this.isValid)return!1;const C=a.valueOf();a=this.setZone(a.zone,{keepLocalTime:!0});return a.startOf(g)<=C&&C<=a.endOf(g)}equals(a){return this.isValid&&a.isValid&&this.valueOf()===a.valueOf()&&
this.zone.equals(a.zone)&&this.loc.equals(a.loc)}toRelative(a={}){if(!this.isValid)return null;const g=a.base||Ba.fromObject({},{zone:this.zone}),C=a.padding?this<g?-a.padding:a.padding:0;let I="years months days hours minutes seconds".split(" "),O=a.unit;Array.isArray(a.unit)&&(I=a.unit,O=void 0);return Yb(g,this.plus(C),{...a,numeric:"always",units:I,unit:O})}toRelativeCalendar(a={}){return this.isValid?Yb(a.base||Ba.fromObject({},{zone:this.zone}),this,{...a,numeric:"auto",units:["years","months",
"days"],calendary:!0}):null}static min(...a){if(!a.every(Ba.isDateTime))throw new $a("min requires all arguments be DateTimes");return k(a,g=>g.valueOf(),Math.min)}static max(...a){if(!a.every(Ba.isDateTime))throw new $a("max requires all arguments be DateTimes");return k(a,g=>g.valueOf(),Math.max)}static fromFormatExplain(a,g,C={}){const {locale:I=null,numberingSystem:O=null}=C;C=Pa.fromOpts({locale:I,numberingSystem:O,defaultToEN:!0});return hb(C,a,g)}static fromStringExplain(a,g,C={}){return Ba.fromFormatExplain(a,
g,C)}static get DATE_SHORT(){return Hb}static get DATE_MED(){return $b}static get DATE_MED_WITH_WEEKDAY(){return Tc}static get DATE_FULL(){return ac}static get DATE_HUGE(){return bc}static get TIME_SIMPLE(){return cc}static get TIME_WITH_SECONDS(){return dc}static get TIME_WITH_SHORT_OFFSET(){return ec}static get TIME_WITH_LONG_OFFSET(){return fc}static get TIME_24_SIMPLE(){return gc}static get TIME_24_WITH_SECONDS(){return hc}static get TIME_24_WITH_SHORT_OFFSET(){return ic}static get TIME_24_WITH_LONG_OFFSET(){return jc}static get DATETIME_SHORT(){return kc}static get DATETIME_SHORT_WITH_SECONDS(){return lc}static get DATETIME_MED(){return mc}static get DATETIME_MED_WITH_SECONDS(){return nc}static get DATETIME_MED_WITH_WEEKDAY(){return Uc}static get DATETIME_FULL(){return oc}static get DATETIME_FULL_WITH_SECONDS(){return pc}static get DATETIME_HUGE(){return qc}static get DATETIME_HUGE_WITH_SECONDS(){return rc}}
D.DateTime=Ba})},"esri/core/number":function(){define(["exports","./string","../intl/locale"],function(D,w,G){function B(b){b||(b=G.getLocale());let h=b in e;if(!h){const F=b.split("-");1<F.length&&F[0]in e&&(b=F[0],h=!0);h||(b="en")}const [l,z,A="#,##0.###"]=e[b];return{decimal:l,group:z,pattern:A}}function m(b,h,l){l=l||{};!0===l.places&&(l.places=0);Infinity===l.places&&(l.places=6);h=h.split(".");var z="string"===typeof l.places&&l.places.indexOf(","),A=l.places;z?A=l.places.substring(z+1):0<=
A||(A=(h[1]||[]).length);0>l.round||(b=Number(b.toFixed(Number(A))));b=String(Math.abs(b)).split(".");const F=b[1]||"";h[1]||l.places?(z&&(l.places=l.places.substring(0,z)),z=void 0!==l.places?l.places:h[1]&&h[1].lastIndexOf("0")+1,z>F.length&&(b[1]=F.padEnd(Number(z),"0")),A<F.length&&(b[1]=F.substr(0,Number(A)))):b[1]&&b.pop();A=h[0].replace(",","");z=A.indexOf("0");-1!==z&&(z=A.length-z,z>b[0].length&&(b[0]=b[0].padStart(z,"0")),-1===A.indexOf("#")&&(b[0]=b[0].substr(b[0].length-z)));A=h[0].lastIndexOf(",");
let E,N;-1!==A&&(E=h[0].length-A-1,h=h[0].substr(0,A),A=h.lastIndexOf(","),-1!==A&&(N=h.length-A-1));h=[];for(A=b[0];A;)z=A.length-E,h.push(0<z?A.substr(z):A),A=0<z?A.slice(0,z):"",N&&(E=N,N=void 0);b[0]=h.reverse().join(l.group||",");return b.join(l.decimal||".")}function k(b){b=b||{};var h=B(b.locale);const l=b.pattern||h.pattern,z=h.group,A=h.decimal;let F=1;if(-1!==l.indexOf("%"))F/=100;else if(-1!==l.indexOf("\u2030"))F/=1E3;else if(-1!==l.indexOf("\u00a4"))throw Error("currency notation not supported");
h=l.split(";");1===h.length&&h.push("-"+h[0]);return{regexp:y(h,function(E){E="(?:"+w.escapeRegExpString(E,".")+")";return E.replace(p,function(N){const c={signed:!1,separator:b.strict?z:[z,""],fractional:b.fractional,decimal:A,exponent:!1};N=N.split(".");let q=b.places;1===N.length&&1!==F&&(N[1]="###");1===N.length||0===q?c.fractional=!1:(void 0===q&&(q=b.pattern?N[1].lastIndexOf("0")+1:Infinity),q&&null==b.fractional&&(c.fractional=!0),!b.places&&q<N[1].length&&(q+=","+N[1].length),c.places=q);
N=N[0].split(",");1<N.length&&(c.groupSize=N.pop().length,1<N.length&&(c.groupSize2=N.pop().length));return"("+u(c)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:z,decimal:A,factor:F}}function u(b){b=b||{};"places"in b||(b.places=Infinity);"string"!==typeof b.decimal&&(b.decimal=".");"fractional"in b&&!/^0/.test(String(b.places))||(b.fractional=[!0,!1]);"exponent"in b||(b.exponent=[!0,!1]);"eSigned"in b||(b.eSigned=[!0,!1]);var h=n(b);const l=y(b.fractional,function(A){let F="";A&&0!==b.places&&
(F="\\"+b.decimal,F=Infinity===b.places?"(?:"+F+"\\d+)?":F+("\\d{"+b.places+"}"));return F},!0),z=y(b.exponent,function(A){return A?"([eE]"+n({signed:b.eSigned})+")":""});h+=l;l&&(h="(?:(?:"+h+")|(?:"+l+"))");return h+z}function n(b){b=b||{};"signed"in b||(b.signed=[!0,!1]);"separator"in b?"groupSize"in b||(b.groupSize=3):b.separator="";const h=y(b.signed,function(z){return z?"[-+]":""},!0),l=y(b.separator,function(z){if(!z)return"(?:\\d+)";z=w.escapeRegExpString(z);" "===z?z="\\s":"\u00a0"===z&&
(z="\\s\\xa0");const A=b.groupSize,F=b.groupSize2;return F?(z="(?:0|[1-9]\\d{0,"+(F-1)+"}(?:["+z+"]\\d{"+F+"})*["+z+"]\\d{"+A+"})",0<A-F?"(?:"+z+"|(?:0|[1-9]\\d{0,"+(A-1)+"}))":z):"(?:0|[1-9]\\d{0,"+(A-1)+"}(?:["+z+"]\\d{"+A+"})*)"},!0);return h+l}const e={ar:[".",","],bs:[",","."],ca:[",","."],cs:[",","\u00a0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\u00a0"],fi:[",","\u00a0"],fr:[",","\u202f"],"fr-ch":[",",
"\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\u00a0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\u00a0"],lv:[",","\u00a0"],mk:[",","."],nb:[",","\u00a0"],nl:[",","."],pl:[",","\u00a0"],pt:[",","."],"pt-pt":[",","\u00a0"],ro:[",","."],ru:[",","\u00a0"],sk:[",","\u00a0"],sl:[",","."],sr:[",","."],sv:[",","\u00a0"],th:[".",","],tr:[",","."],uk:[",","\u00a0"],vi:[",","."],zh:[".",","]},p=/[#0,]*[#0](?:\.0*#*)?/,y=function(b,h,l){if(!(b instanceof
Array))return h(b);const z=[];for(let A=0;A<b.length;A++)z.push(h(b[A]));b=z.join("|");return"("+(l?"?:":"")+b+")"};D._parseInfo=k;D.format=function(b,h){h={...h};var l=B(h.locale);h.customs=l;var z=h.pattern||l.pattern;if(isNaN(b)||Infinity===Math.abs(b))return null;{h=h||{};l=h.customs.group;const F=h.customs.decimal;z=z.split(";");var A=z[0];z=z[0>b?1:0]||"-"+A;if(-1!==z.indexOf("%"))b*=100;else if(-1!==z.indexOf("\u2030"))b*=1E3;else{if(-1!==z.indexOf("\u00a4"))throw Error("currency notation not supported");
if(-1!==z.indexOf("E"))throw Error("exponential notation not supported");}const E=p;A=A.match(E);if(!A)throw Error("unable to find a number expression in pattern: "+z);!1===h.fractional&&(h.places=0);b=z.replace(E,m(b,A[0],{decimal:F,group:l,places:h.places,round:h.round}))}return b};D.getCustoms=B;D.parse=function(b,h){h=k(h);b=(new RegExp("^"+h.regexp+"$")).exec(b);if(!b)return NaN;let l=b[1];if(!b[1]){if(!b[2])return NaN;l=b[2];h.factor*=-1}l=l.replace(new RegExp("["+h.group+"\\s\\xa0]","g"),"").replace(h.decimal,
".");return Number(l)*h.factor};D.regexp=function(b){return k(b).regexp};Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/Attachment":function(){define(["../chunks/_rollupPluginBabelHelpers","./Dictionary"],function(D,w){return function(G){function B(m,k,u,n,e,p){var y=G.call(this)||this;y.attachmentUrl=e;y.immutable=!1;y.setField("id",m);y.setField("name",k);y.setField("contenttype",u);y.setField("size",n);y.setField("exifinfo",p);y.immutable=!0;return y}D._inheritsLoose(B,G);return B}(w)})},
"esri/arcade/Feature":function(){define("./Dictionary ./ImmutableArray ../chunks/languageUtils ../geometry/Geometry ../geometry/Point ../geometry/support/jsonUtils ./featureset/support/shared ../layers/graphics/featureConversionUtils ../core/maybe".split(" "),function(D,w,G,B,m,k,u,n,e){return function(){function p(){this.declaredClass="esri.arcade.Feature";this._layer=this.attributes=this._geometry=this._optimizedGeomDefinition=null;this.immutable=this._datesfixed=!0;this._datefields=null;this.immutable=
!0}p.createFromGraphic=function(b){const h=new p;h._geometry=e.isSome(b.geometry)?b.geometry:null;h.attributes=void 0===b.attributes?{}:null===b.attributes?{}:b.attributes;b._sourceLayer?(h._layer=b._sourceLayer,h._datesfixed=!1):b._layer?(h._layer=b._layer,h._datesfixed=!1):b.layer&&"fields"in b.layer?(h._layer=b.layer,h._datesfixed=!1):b.sourceLayer&&"fields"in b.sourceLayer&&(h._layer=b.sourceLayer,h._datesfixed=!1);return h};p.createFromArcadeFeature=function(b){const h=new p;h._datesfixed=b._datesfixed;
h.attributes=b.attributes;h._geometry=b._geometry;h._optimizedGeomDefinition=b._optimizedGeomDefinition;b._layer&&(h._layer=b._layer);return h};p.createFromOptimisedFeature=function(b,h,l){const z=new p;z._geometry=b.geometry?{geometry:b.geometry}:null;z._optimizedGeomDefinition=l;z.attributes=b.attributes||{};z._layer=h;z._datesfixed=!1;return z};p.createFromArcadeDictionary=function(b){const h=new p;h.attributes=b.field("attributes");null!==h.attributes?h.attributes instanceof D?(h.attributes=h.attributes.attributes,
null===h.attributes&&(h.attributes={})):h.attributes={}:h.attributes={};h._geometry=b.field("geometry");null!==h._geometry&&(h._geometry instanceof D?h._geometry=p.parseGeometryFromDictionary(h._geometry):h._geometry instanceof B||(h._geometry=null));return h};p.createFromGraphicLikeObject=function(b,h,l=null){const z=new p;null===h&&(h={});z.attributes=h;z._geometry=e.isSome(b)?b:null;z._layer=l;z._layer&&(z._datesfixed=!1);z._adapter=null;return z};var y=p.prototype;y.repurposeFromGraphicLikeObject=
function(b,h,l=null){null===h&&(h={});this.attributes=h;this._geometry=b?b:null;this._datesfixed=(this._layer=l)?!1:!0};y.repurposeFromAdapter=function(b,h=null){this._adapter=b;this._layer=h};y.castToText=function(){if(this._adapter)return this._adapter.castToText();let b="";!1===this._datesfixed&&this._fixDates();for(const h in this.attributes){""!==b&&(b+=",");const l=this.attributes[h];null==l?b+=JSON.stringify(h)+":null":G.isBoolean(l)||G.isNumber(l)||G.isString(l)?b+=JSON.stringify(h)+":"+JSON.stringify(l):
l instanceof B?b+=JSON.stringify(h)+":"+G.toStringExplicit(l):l instanceof w?b+=JSON.stringify(h)+":"+G.toStringExplicit(l):l instanceof Array?b+=JSON.stringify(h)+":"+G.toStringExplicit(l):l instanceof Date?b+=JSON.stringify(h)+":"+JSON.stringify(l):null!==l&&"object"===typeof l&&void 0!==l.castToText&&(b+=JSON.stringify(h)+":"+l.castToText())}return'{"geometry":'+(null===this.geometry()?"null":G.toStringExplicit(this.geometry()))+',"attributes":{'+b+"}}"};y._fixDates=function(){if(null!==this._datefields)0<
this._datefields.length&&this._fixDateFields(this._datefields);else{var b=[];for(let h=0;h<this._layer.fields.length;h++){const l=this._layer.fields[h];"date"!==l.type&&"esriFieldTypeDate"!==l.type||b.push(l.name)}this._datefields=b;0<b.length&&this._fixDateFields(b)}this._datesfixed=!0};y._fixDateFields=function(b){this.attributes={...this.attributes};for(let h=0;h<b.length;h++){let l=this.attributes[b[h]];if(null!==l)if(void 0===l)for(const z in this.attributes){if(z.toLowerCase()===b[h].toLowerCase()){l=
this.attributes[z];null===l||l instanceof Date||(this.attributes[z]=new Date(l));break}}else l instanceof Date||(this.attributes[b[h]]=new Date(l))}};y.geometry=function(){if(this._adapter)return this._adapter.geometry();if(null===this._geometry||this._geometry instanceof B)return this._geometry;this._optimizedGeomDefinition?(this._geometry=e.unwrap(k.fromJSON(n.convertToGeometry(this._geometry,this._optimizedGeomDefinition.geometryType,this._optimizedGeomDefinition.hasZ,this._optimizedGeomDefinition.hasM))),
this._geometry.spatialReference=this._optimizedGeomDefinition.spatialReference):this._geometry=e.unwrap(k.fromJSON(this._geometry));return this._geometry};y.field=function(b){if(this._adapter)return this._adapter.field(b);!1===this._datesfixed&&this._fixDates();var h=this.attributes[b];if(void 0!==h)return h;h=b.toLowerCase();for(const l in this.attributes)if(l.toLowerCase()===h)return this.attributes[l];if(this._hasFieldDefinition(h))return null;throw Error("Field not Found : "+b);};y._hasFieldDefinition=
function(b){if(null===this._layer)return!1;for(let h=0;h<this._layer.fields.length;h++)if(this._layer.fields[h].name.toLowerCase()===b)return!0;return!1};y._field=function(b){if(this._adapter){var h;return null!=(h=this._adapter.field(b))?h:null}!1===this._datesfixed&&this._fixDates();h=b.toLowerCase();b=this.attributes[b];if(void 0!==b)return b;for(const l in this.attributes)if(l.toLowerCase()===h)return this.attributes[l];return null};y.setField=function(b,h){if(this.immutable)throw Error("Feature is Immutable");
if(!1===G.isSimpleType(h))throw Error("Illegal Value Assignment to Feature");if(this._adapter)this._adapter.setField(b,h);else{var l=b.toLowerCase();if(void 0===this.attributes[b])for(const z in this.attributes)if(z.toLowerCase()===l){this.attributes[z]=h;return}this.attributes[b]=h}};y.hasField=function(b){if(this._adapter)return this._adapter.hasField(b);const h=b.toLowerCase();if(void 0!==this.attributes[b])return!0;for(const l in this.attributes)if(l.toLowerCase()===h)return!0;return this._hasFieldDefinition(h)?
!0:!1};y.keys=function(){if(this._adapter)return this._adapter.keys();let b=[];const h={};for(var l in this.attributes)b.push(l),h[l.toLowerCase()]=1;if(null!==this._layer)for(l=0;l<this._layer.fields.length;l++){const z=this._layer.fields[l];1!==h[z.name.toLowerCase()]&&b.push(z.name)}return b=b.sort()};p.parseGeometryFromDictionary=function(b){b=p.convertDictionaryToJson(b,!0);void 0!==b.hasm&&(b.hasM=b.hasm,delete b.hasm);void 0!==b.hasz&&(b.hasZ=b.hasz,delete b.hasz);void 0!==b.spatialreference&&
(b.spatialReference=b.spatialreference,delete b.spatialreference);void 0!==b.rings&&(b.rings=this.fixPathArrays(b.rings,!0===b.hasZ,!0===b.hasZ));void 0!==b.paths&&(b.paths=this.fixPathArrays(b.paths,!0===b.hasZ,!0===b.hasM));void 0!==b.points&&(b.points=this.fixPointArrays(b.points,!0===b.hasZ,!0===b.hasM));return k.fromJSON(b)};p.fixPathArrays=function(b,h,l){const z=[];if(b instanceof Array)for(var A=0;A<b.length;A++)z.push(this.fixPointArrays(b[A],h,l));else if(b instanceof w)for(A=0;A<b.length();A++)z.push(this.fixPointArrays(b.get(A),
h,l));return z};p.fixPointArrays=function(b,h,l){const z=[];if(b instanceof Array)for(var A=0;A<b.length;A++){var F=b[A];F instanceof m?h&&l?z.push([F.x,F.y,F.z,F.m]):h?z.push([F.x,F.y,F.z]):l?z.push([F.x,F.y,F.m]):z.push([F.x,F.y]):F instanceof w?z.push(F.toArray()):z.push(F)}else if(b instanceof w)for(A=0;A<b.length();A++)F=b.get(A),F instanceof m?h&&l?z.push([F.x,F.y,F.z,F.m]):h?z.push([F.x,F.y,F.z]):l?z.push([F.x,F.y,F.m]):z.push([F.x,F.y]):F instanceof w?z.push(F.toArray()):z.push(F);return z};
p.convertDictionaryToJson=function(b,h=!1){const l={};for(const z in b.attributes){let A=b.attributes[z];A instanceof D&&(A=p.convertDictionaryToJson(A));h?l[z.toLowerCase()]=A:l[z]=A}return l};p.parseAttributesFromDictionary=function(b){const h={};for(const l in b.attributes){const z=b.attributes[l];if(G.isSimpleType(z))h[l]=z;else throw Error("Illegal Argument");}return h};p.fromJson=function(b){let h=null;null!==b.geometry&&void 0!==b.geometry&&(h=k.fromJSON(b.geometry));const l={};if(null!==b.attributes&&
void 0!==b.attributes)for(const z in b.attributes){const A=b.attributes[z];if(null===A)l[z]=A;else if(G.isString(A)||G.isNumber(A)||G.isBoolean(A)||G.isDate(A))l[z]=A;else throw Error("Illegal Argument");}return p.createFromGraphicLikeObject(h,l,null)};y.fullDomain=function(b,h){return null!==this._layer&&this._layer.fields?G.getDomain(b,this._layer,this,h):null};y.subtypes=function(){return null!==this._layer&&this._layer.fields?this._layer.typeIdField?{subtypeField:this._layer.typeIdField,subtypes:this._layer.types?
this._layer.types.map(b=>({name:b.name,code:b.id})):[]}:null:null};y.domainValueLookup=function(b,h,l){if(null===this._layer||!this._layer.fields)return null;l=G.getDomain(b,this._layer,this,l);if(void 0===h)try{h=this.field(b)}catch(z){return null}return G.getDomainValue(l,h)};y.gdbVersion=function(){if(null===this._layer)return"";const b=this._layer.gdbVersion;return void 0===b?"":""===b&&this._layer.capabilities&&this._layer.capabilities.isVersioned?"SDE.DEFAULT":b};y.domainCodeLookup=function(b,
h,l){if(null===this._layer||!this._layer.fields)return null;if(void 0===h){try{h=this.field(b)}catch(z){return null}return h}b=G.getDomain(b,this._layer,this,l);return G.getDomainCode(b,h)};y.schema=function(){if(null===this._layer||!this._layer.fields)return null;const b=[];for(const h of this._layer.fields)b.push(u.esriFieldToJson(h));return{objectIdField:this._layer.objectIdField,globalIdField:this._layer.globalIdField,geometryType:void 0===u.layerGeometryEsriRestConstants[this._layer.geometryType]?
"":u.layerGeometryEsriRestConstants[this._layer.geometryType],fields:b}};return p}()})},"esri/arcade/featureset/support/shared":function(){define(["exports","../../../core/promiseUtils","../../../geometry/Extent","../../../layers/support/Field"],function(D,w,G,B){function m(k){return k instanceof Date}D.FeatureServiceDatabaseType=void 0;(function(k){k[k.Standardised=0]="Standardised";k[k.StandardisedNoInterval=1]="StandardisedNoInterval";k[k.SqlServer=2]="SqlServer";k[k.Oracle=3]="Oracle";k[k.Postgres=
4]="Postgres";k[k.PGDB=5]="PGDB";k[k.FILEGDB=6]="FILEGDB";k[k.NotEvaluated=7]="NotEvaluated"})(D.FeatureServiceDatabaseType||(D.FeatureServiceDatabaseType={}));D.IdState=void 0;(function(k){k[k.InFeatureSet=0]="InFeatureSet";k[k.NotInFeatureSet=1]="NotInFeatureSet";k[k.Unknown=2]="Unknown"})(D.IdState||(D.IdState={}));D.callback=function(k,u){return function(){try{k.apply(null,arguments)}catch(n){u.reject(n)}}};D.cloneAttributes=function(k){const u={};for(const n in k)u[n]=k[n];return u};D.cloneField=
function(k){return B.fromJSON(k.toJSON())};D.convertLinearUnitsToCode=function(k){if(void 0===k)return null;if("number"===typeof k||"number"===typeof k)return k;switch(k.toLowerCase()){case "meters":case "meter":return 9001;case "miles":case "mile":return 9035;case "kilometers":case "kilometer":case "km":return 9036}return null};D.convertSquareUnitsToCode=function(k){if(void 0===k)return null;if("number"===typeof k)return k;switch(k.toLowerCase()){case "meters":case "meter":return 109404;case "miles":case "mile":return 109413;
case "kilometers":case "kilometer":case "km":return 109414}return null};D.defaultMaxRecords=1E3;D.equalityTest=function(k,u){return k===u?!0:m(k)&&m(u)?k.getTime()===u.getTime():!1};D.errback=function(k){return function(u){k.reject(u)}};D.esriFieldToJson=function(k){return k.toJSON()};D.extractServiceUrl=function(k){if(void 0===k)return"";k=k.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer");k=k.replace(/\/mapserver\/[0-9]*/i,"/MapServer");return k=k.split("?")[0]};D.isArray=function(k){return k instanceof
Array};D.isBoolean=function(k){return"boolean"===typeof k};D.isDate=m;D.isNumber=function(k){return"number"===typeof k};D.isString=function(k){return"string"===typeof k||k instanceof String};D.layerFieldEsriConstants={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",
raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",
esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};D.layerGeometryEsriConstants={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"};D.layerGeometryEsriRestConstants={point:"esriGeometryPoint",
polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"};D.reduceArrayWithPromises=function(k,u){return w.create((n,e)=>{const p=w.resolve(!0);k.reduce((y,b,h,l)=>y.then(z=>{try{return u(z,
b,h,l)}catch(A){return w.reject(A)}},z=>w.reject(z)),p).then(n,e)})};D.sameGeomType=function(k,u){return k===u||"point"===k&&"esriGeometryPoint"===u||"polyline"===k&&"esriGeometryPolyline"===u||"polygon"===k&&"esriGeometryPolygon"===u||"extent"===k&&"esriGeometryEnvelope"===u||"multipoint"===k&&"esriGeometryMultipoint"===u||"point"===u&&"esriGeometryPoint"===k||"polyline"===u&&"esriGeometryPolyline"===k||"polygon"===u&&"esriGeometryPolygon"===k||"extent"===u&&"esriGeometryEnvelope"===k||"multipoint"===
u&&"esriGeometryMultipoint"===k?!0:!1};D.shapeExtent=function(k){if(null===k)return null;switch(k.type){case "polygon":case "multipoint":case "polyline":return k.extent;case "point":return new G({xmin:k.x,ymin:k.y,xmax:k.x,ymax:k.y,spatialReference:k.spatialReference});case "extent":return k}return null};D.stableStringify=function(k,u){u||(u={});"function"===typeof u&&(u={cmp:u});const n="boolean"===typeof u.cycles?u.cycles:!1,e=u.cmp&&function(y){return function(b){return function(h,l){return y({key:h,
value:b[h]},{key:l,value:b[l]})}}}(u.cmp),p=[];return function h(b){b&&b.toJSON&&"function"===typeof b.toJSON&&(b=b.toJSON());if(void 0!==b){if("number"===typeof b)return isFinite(b)?""+b:"null";if("object"!==typeof b)return JSON.stringify(b);var l;if(Array.isArray(b)){var z="[";for(l=0;l<b.length;l++)l&&(z+=","),z+=h(b[l])||"null";return z+"]"}if(null===b)return"null";if(-1!==p.indexOf(b)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var A=
p.push(b)-1,F=Object.keys(b).sort(e&&e(b));z="";for(l=0;l<F.length;l++){const E=F[l],N=h(b[E]);N&&(z&&(z+=","),z+=JSON.stringify(E)+":"+N)}p.splice(A,1);return"{"+z+"}"}}(k)};D.toEsriGeometryType=function(k){switch(k){case "point":return"esriGeometryPoint";case "polygon":return"esriGeometryPolygon";case "multipoint":return"esriGeometryMultipoint";case "polyline":return"esriGeometryPolyline";default:return"esriGeometryPoint"}};Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/treeAnalysis":function(){define(["exports"],
function(D){function w(c,q){return"0"!==c.min&&q.length<Number(c.min)||"*"!==c.max&&q.length>Number(c.max)?-2:1}function G(c,q,d){if(null!==d.localScope&&void 0!==d.localScope[c.toLowerCase()]){const t=d.localScope[c.toLowerCase()];if("FormulaFunction"===t.type||"any"===t.type)return void 0===t.signature&&(t.signature={min:"0",max:"*"}),w(t.signature,q)}return void 0!==d.globalScope[c.toLowerCase()]&&(c=d.globalScope[c.toLowerCase()],"FormulaFunction"===c.type||"any"===c.type)?(void 0===c.signature&&
(c.signature={min:"0",max:"*"}),w(c.signature,q)):-1}function B(c,q){if(c)for(const d of c)m(d,q)}function m(c,q){if(c&&!1!==q(c))switch(c.type){case "ArrayExpression":B(c.elements,q);break;case "AssignmentExpression":case "BinaryExpression":m(c.left,q);m(c.right,q);break;case "BlockStatement":B(c.body,q);break;case "CallExpression":m(c.callee,q);B(c.arguments,q);break;case "ExpressionStatement":m(c.expression,q);break;case "ForInStatement":m(c.left,q);m(c.right,q);m(c.body,q);break;case "ForStatement":m(c.init,
q);m(c.test,q);m(c.update,q);m(c.body,q);break;case "FunctionDeclaration":m(c.id,q);B(c.params,q);m(c.body,q);break;case "IfStatement":m(c.test,q);m(c.consequent,q);m(c.alternate,q);break;case "LogicalExpression":m(c.left,q);m(c.right,q);break;case "MemberExpression":m(c.object,q);m(c.property,q);break;case "ObjectExpression":B(c.properties,q);break;case "Program":B(c.body,q);break;case "Property":m(c.key,q);m(c.value,q);break;case "ReturnStatement":m(c.argument,q);break;case "UnaryExpression":m(c.argument,
q);break;case "UpdateExpression":m(c.argument,q);break;case "VariableDeclaration":B(c.declarations,q);break;case "VariableDeclarator":m(c.id,q);m(c.init,q);break;case "TemplateLiteral":B(c.expressions,q),B(c.quasis,q)}}function k(c,q=!0){let d=b(c,"SYNTAX","UNREOGNISED");try{switch(c.type){case "VariableDeclarator":return"Identifier"!==c.id.type?b(c,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):null!==c.init?k(c.init,!1):"";case "VariableDeclaration":for(var t=0;t<c.declarations.length;t++)if(d=k(c.declarations[t],
q),""!==d)return d;return"";case "ForInStatement":d=k(c.left,q);if(""!==d)break;if("VariableDeclaration"===c.left.type){if(1<c.left.declarations.length)return b(c,"SYNTAX","ONLY1VAR");if(null!==c.left.declarations[0].init)return b(c,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==c.left.type)return b(c,"SYNTAX","LEFTNOTVAR");d=k(c.right,q);if(""!==d)break;d=k(c.body,q);if(""!==d)break;return"";case "ForStatement":if(null!==c.test&&(d=k(c.test,q),""!==d))break;if(null!==c.init&&(d=k(c.init,q),
""!==d))break;if(null!==c.update&&(d=k(c.update,q),""!==d))break;if(null!==c.body&&(d=k(c.body,q),""!==d))break;return"";case "ContinueStatement":return"";case "EmptyStatement":return"";case "BreakStatement":return"";case "IfStatement":d=k(c.test,q);if(""!==d)break;if(null!==c.consequent&&(d=k(c.consequent,!1),""!==d))break;if(null!==c.alternate&&(d=k(c.alternate,!1),""!==d))break;return"";case "BlockStatement":t=[];for(var f=0;f<c.body.length;f++)"EmptyStatement"!==c.body[f].type&&t.push(c.body[f]);
c.body=t;for(t=0;t<c.body.length;t++)if(d=k(c.body[t],q),""!==d)return d;return"";case "FunctionDeclaration":return!1===q?b(c,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==c.id.type?b(c,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):k(c.body,!1);case "ReturnStatement":return null!==c.argument?k(c.argument,q):"";case "UpdateExpression":return"Identifier"!==c.argument.type&&"MemberExpression"!==c.argument.type?b(c,"SYNTAX","ASSIGNMENTTOVARSONLY"):k(c.argument,q);case "AssignmentExpression":if("Identifier"!==
c.left.type&&"MemberExpression"!==c.left.type)return b(c,"SYNTAX","ASSIGNMENTTOVARSONLY");d=k(c.left,q);if(""!==d)break;switch(c.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:return b(c,"SYNTAX","OPERATORNOTRECOGNISED")}return k(c.right,!1);case "ExpressionStatement":return k(c.expression,!1);case "Identifier":d="";break;case "MemberExpression":d=k(c.object,q);if(""!==d)break;return!0===c.computed?k(c.property,q):"";case "Literal":return"";case "TemplateElement":return"";
case "CallExpression":if("Identifier"!==c.callee.type)return b(c,"SYNTAX","ONLYNODESSUPPORTED");d="";for(t=0;t<c.arguments.length;t++)if(d=k(c.arguments[t],q),""!==d)return d;return"";case "UnaryExpression":d=k(c.argument,q);break;case "BinaryExpression":d=k(c.left,q);if(""!==d)break;d=k(c.right,q);if(""!==d)break;switch(c.operator){case "|":case "\x26":case "\x3e\x3e":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":break;
default:return b(c,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "LogicalExpression":d=k(c.left,q);if(""!==d)break;d=k(c.right);if(""!==d)break;switch(c.operator){case "\x26\x26":case "||":break;default:return b(c,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "ArrayExpression":d="";for(t=0;t<c.elements.length&&(d=k(c.elements[t],q),""===d);t++);break;case "TemplateLiteral":d="";for(t=0;t<c.quasis.length;t++)if(d=k(c.quasis[t],q),""!==d)return d;for(t=0;t<c.expressions.length&&(d=k(c.expressions[t],
q),""===d);t++);break;case "ObjectExpression":d="";for(t=0;t<c.properties.length;t++){d="";if(null!==c.properties[t].key&&("Literal"!==c.properties[t].key.type&&"Identifier"!==c.properties[t].key.type&&(d=b(c,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===c.properties[t].key.type)){f=c.properties[t].key;const S="value"in f?f.value:null;"string"===typeof S||S instanceof String||(d=b(c,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===d&&(d=k(c.properties[t],q));if(""!==d)break}break;case "Property":if("Literal"!==
c.key.type&&"Identifier"!==c.key.type)return b(c,"SYNTAX","ONLYLITERAL");if("Identifier"!==c.key.type&&(d=k(c.key,q),""!==d))break;d=k(c.value,q)}return d}catch(S){throw S;}}function u(c,q){var d=b(c,"SYNTAX","UNREOGNISED");let t=null,f="";try{switch(c.type){case "VariableDeclarator":{const da=null===c.init?"":u(c.init,q);if(""!==da)return da;"Identifier"===c.id.type&&(null===q.localScope?q.globalScope[c.id.name.toLowerCase()]={type:"any"}:q.localScope[c.id.name.toLowerCase()]={type:"any"});return""}case "FunctionDeclaration":t=
e(c.id.name.toLowerCase(),c);f=p(c,q);if(""!==f)return f;if(null!==q.localScope)return b(c,"SYNTAX","GLOBALFUNCTIONSONLY");t.isnative=!1;q.globalScope[c.id.name.toLowerCase()]={type:"FormulaFunction",signature:[t]};return"";case "VariableDeclaration":d="";for(var S=0;S<c.declarations.length&&(d=u(c.declarations[S],q),""===d);S++);break;case "IfStatement":d=u(c.test,q);if(""!==d)break;if("AssignmentExpression"===c.test.type||"UpdateExpression"===c.test.type)return b(c.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");
if(null!==c.consequent&&(d=u(c.consequent,q),""!==d))break;if(null!==c.alternate&&(d=u(c.alternate,q),""!==d))break;return"";case "EmptyStatement":return"";case "BlockStatement":for(S=0;S<c.body.length;S++)if(d=u(c.body[S],q),""!==d)return d;return"";case "ReturnStatement":return null!==c.argument?u(c.argument,q):"";case "ForInStatement":if("VariableDeclaration"===c.left.type){if(1<c.left.declarations.length)return b(c,"SYNTAX","ONLY1VAR");if(null!==c.left.declarations[0].init)return b(c,"SYNTAX",
"CANNOTDECLAREVAL")}else if("Identifier"!==c.left.type)return b(c,"SYNTAX","LEFTNOTVAR");d=u(c.left,q);if(""!==d)break;d=u(c.right,q);if(""!==d)break;d=u(c.body,q);if(""!==d)break;return"";case "ForStatement":if(null!==c.init&&(d=u(c.init,q),""!==d))break;if(null!==c.test&&(d=u(c.test,q),""!==d))break;if(null!==c.body&&(d=u(c.body,q),""!==d))break;if(null!==c.update&&(d=u(c.update,q),""!==d))break;return"";case "BreakStatement":return"";case "ContinueStatement":return"";case "UpdateExpression":if("Identifier"!==
c.argument.type&&"MemberExpression"!==c.argument.type)return b(c,"SYNTAX","ASSIGNMENTTOVARSONLY");d=!1;if("MemberExpression"===c.argument.type)return u(c.argument,q);null!==q.localScope&&void 0!==q.localScope[c.argument.name.toLowerCase()]&&(d=!0);void 0!==q.globalScope[c.argument.name.toLowerCase()]&&(d=!0);return!1===d?"Identifier "+c.argument.name+" has not been declared.":"";case "AssignmentExpression":if("Identifier"!==c.left.type&&"MemberExpression"!==c.left.type)return b(c,"SYNTAX","ASSIGNMENTTOVARSONLY");
S=u(c.right,q);if(""!==S)return S;d=!1;if("MemberExpression"===c.left.type)return S=u(c.left,q),""!==S?S:"";null!==q.localScope&&void 0!==q.localScope[c.left.name.toLowerCase()]&&(d=!0);void 0!==q.globalScope[c.left.name.toLowerCase()]&&(d=!0);return!1===d?"Identifier "+c.left.name+" has not been declared.":"";case "ExpressionStatement":return u(c.expression,q);case "Identifier":{const da=c.name.toLowerCase();if(null!==q.localScope&&void 0!==q.localScope[da])return"";d=void 0!==q.globalScope[da]?
"":b(c,"SYNTAX","VARIABLENOTFOUND");break}case "MemberExpression":d=u(c.object,q);if(""!==d)break;return!0===c.computed?u(c.property,q):"";case "Literal":return"";case "TemplateElement":return"";case "CallExpression":{if("Identifier"!==c.callee.type)return b(c,"SYNTAX","ONLYNODESSUPPORTED");d="";for(S=0;S<c.arguments.length;S++)if(d=u(c.arguments[S],q),""!==d)return d;const da=G(c.callee.name,c.arguments,q);-1===da&&(d=b(c,"SYNTAX","NOTFOUND"));-2===da&&(d=b(c,"SYNTAX","WRONGSIGNATURE"));break}case "UnaryExpression":d=
u(c.argument,q);break;case "BinaryExpression":d=u(c.left,q);if(""!==d)break;d=u(c.right,q);if(""!==d)break;return"";case "LogicalExpression":d=u(c.left,q);if(""!==d)break;if("AssignmentExpression"===c.left.type||"UpdateExpression"===c.left.type)return b(c.left,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");d=u(c.right,q);if(""!==d)break;return"AssignmentExpression"===c.right.type||"UpdateExpression"===c.right.type?b(c.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"";case "ArrayExpression":d=
"";for(S=0;S<c.elements.length&&(d=u(c.elements[S],q),""===d);S++);break;case "TemplateLiteral":d="";for(S=0;S<c.quasis.length;S++)if(d=u(c.quasis[S],q),""!==d)return d;for(S=0;S<c.expressions.length&&(d=u(c.expressions[S],q),""===d);S++);break;case "ObjectExpression":d="";for(S=0;S<c.properties.length;S++){d="";if(null!==c.properties[S].key&&("Literal"!==c.properties[S].key.type&&"Identifier"!==c.properties[S].key.type&&(d=b(c,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===c.properties[S].key.type)){const da=
c.properties[S].key,aa="value"in da?da.value:null;"string"===typeof aa||aa instanceof String||(d=b(c,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===d&&(d=u(c.properties[S],q));if(""!==d)break}break;case "Property":if("Literal"!==c.key.type&&"Identifier"!==c.key.type)return b(c,"SYNTAX","ONLYLITERAL");if("Identifier"!==c.key.type&&(d=u(c.key,q),""!==d))break;d=u(c.value,q)}return d}catch(da){throw da;}}function n(c,q){let d=!1;const t=q.toLowerCase();m(c,f=>{if(d)return!1;"Identifier"===f.type&&f.name&&
f.name.toLowerCase()===t&&(d=!0);return!0});return d}function e(c,q){const d=[];if(void 0!==q.params&&null!==q.params)for(let t=0;t<q.params.length;t++)d.push("any");return{name:c,return:"any",params:d}}function p(c,q){q={globalScope:q.globalScope,localScope:{}};for(let d=0;d<c.params.length;d++)q.localScope[c.params[d].name.toLowerCase()]={type:"any"};return u(c.body,q)}function y(c,q,d,t){const f={};if(void 0===c||null===c)c={};if(void 0===d||null===d)d={};f.infinity={type:"any"};f.textformatting=
{type:"any"};f.pi={type:"any"};for(const S in q)"sync"===t&&void 0!==q[S].min?f[S]={type:"FormulaFunction",signature:{min:q[S].min,max:q[S].max}}:"sync"!==t&&void 0!==q[S].fmin&&(f[S]={type:"FormulaFunction",signature:{min:q[S].fmin,max:q[S].fmax}});for(q=0;q<d.length;q++)t=d[q],f[t.name]={type:"FormulaFunction",signature:t};for(const S in c)f[S]=c[S],f[S].type="any";return f}function b(c,q,d){let t="";switch(q){case "SYNTAX":t="Syntax Error: ";break;case "RUNTIME":t="Runtime Error: ";break;default:t=
"Syntax Error: "}try{switch(c.type){case "IfStatement":switch(d){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":t+=" Assignments not be made in logical tests";break;case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":t+=" Non Boolean used as Condition"}break;case "UpdateExpression":case "AssignmentExpression":switch(d){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":t+=" Assignments not be made in logical tests";break;case "ASSIGNMENTTOVARSONLY":t+=" Assignments can only be made to identifiers"}break;case "ExpressionStatement":t+=
" Assignments can only be made to identifiers";break;case "FunctionDeclaration":switch(d){case "GLOBALFUNCTIONSONLY":t+=" Functions cannot be declared as variables";break;case "FUNCTIONMUSTHAVEIDENTIFIER":t+=" Function Definition must have an identifier"}break;case "VariableDeclaration":t+=" Only 1 variable can be declared at a time";break;case "VariableDeclarator":switch(d){case "FUNCTIONVARIABLEDECLARATOR":t+=" Functions cannot be declared as variables";break;case "VARIABLEMUSTHAVEIDENTIFIER":t+=
" Variable Definition must have an identifier"}break;case "Identifier":t+=" Identifier Not Found. ";t+=c.name;break;case "ObjectExpression":switch(d){case "OBJECTPROPERTYMUSTBESTRING":t+=" Property name must be a string"}break;case "ForStatement":switch(d){case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":t+=" Non Boolean used as Condition"}break;case "ForInStatement":switch(d){case "ONLY1VAR":t+=" Can only declare 1 var for use with IN";break;case "CANNOTDECLAREVAL":t+=" Can only declare value for use with IN";
break;case "LEFTNOVAR":t+="Must provide a variable to iterate with.";break;case "VARIABLENOTDECLARED":t+="Variable must be declared before it is used..";break;case "CANNOTITERATETHISTYPE":t+="This type cannot be used in an IN loop"}break;case "MemberExpression":switch(d){case "PROPERTYNOTFOUND":t+="Cannot find member property. ";t+=!1===c.computed?"Identifier"===c.property.type?c.property.name:"":"";break;case "OUTOFBOUNDS":t+="Out of Bounds. ";t+=!1===c.computed?"Identifier"===c.property.type?c.property.name:
"":"";break;case "NOTFOUND":t+="Cannot call member method on null. ";t+=!1===c.computed?"Identifier"===c.property.type?c.property.name:"":"";break;case "INVALIDTYPE":t+="Cannot call member property on object of this type. ",t+=!1===c.computed?"Identifier"===c.property.type?c.property.name:"":""}break;case "Property":switch(d){case "ONLYLITERAL":t+="Property names must be literals or identifiers"}break;case "Literal":break;case "CallExpression":switch(d){case "WRONGSIGNATURE":t+="Function signature does not match: ";
t+="Identifier"===c.callee.type?c.callee.name:"";break;case "ONLYNODESUPPORTED":t+="Functions must be declared.";t+="Identifier"===c.callee.type?c.callee.name:"";break;case "NOTAFUNCTION":t+="Not a Function: ";t+="Identifier"===c.callee.type?c.callee.name:"";break;case "NOTFOUND":t+="Function Not Found: "+("Identifier"===c.callee.type?c.callee.name:"")}break;case "UnaryExpression":switch(d){case "NOTSUPPORTEDUNARYOPERATOR":t+="Operator "+c.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";
break;case "NOTSUPPORTEDTYPE":t+="Unary operator "+c.operator+" cannot be used with this argument."}case "BinaryExpression":switch(d){case "OPERATORNOTRECOGNISED":t+="Binary Operator not recognised "+c.operator}break;case "LogicalExpression":switch(d){case "ONLYBOOLEAN":t+="Operator "+c.operator+" cannot be used. Only || or \x26\x26 are allowed values";break;case "ONLYORORAND":t+="Logical Expression "+c.operator+" being applied to parameters that are not boolean."}break;case "ArrayExpression":switch(d){case "FUNCTIONCONTEXTILLEGAL":t+=
" Cannot Put Function inside Array."}break;default:t+="Expression contains unrecognised code structures."}}catch(f){throw f;}return t}function h(c,q,d){return{line:c.loc.start.line,character:c.loc.start.column,reason:b(c,q,d)}}function l(c,q,d,t){q={globalScope:q.globalScope,localScope:{}};for(let f=0;f<c.params.length;f++)q.localScope[c.params[f].name.toLowerCase()]={type:"any"};z(c.body,q,d,t,!1)}function z(c,q,d,t,f=!0){if(null===c)throw Error("Unnexpexted Expression Syntax");var S=null;try{switch(c.type){case "VariableDeclarator":"Identifier"!==
c.id.type?t.push(h(c,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER")):(c.id.name.toLowerCase(),null===q.localScope?q.globalScope[c.id.name.toLowerCase()]={type:"any"}:q.localScope[c.id.name.toLowerCase()]={type:"any"});null!==c.init&&z(c.init,q,d,t,f);break;case "FunctionDeclaration":!1===f&&t.push(h(c,"SYNTAX","GLOBALFUNCTIONSONLY"));"Identifier"!==c.id.type&&t.push(h(c,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"));S=e("",c);l(c,q,d,t);null!==q.localScope&&t.push(h(c,"SYNTAX","GLOBALFUNCTIONSONLY"));S.isnative=
!1;"Identifier"===c.id.type&&(q.globalScope[c.id.name.toLowerCase()]={type:"FormulaFunction",signature:[S]});break;case "VariableDeclaration":for(var da=0;da<c.declarations.length;da++)z(c.declarations[da],q,d,t,f);break;case "IfStatement":null!==c.test&&(z(c.test,q,d,t,f),"AssignmentExpression"!==c.test.type&&"UpdateExpression"!==c.test.type||t.push(h(c.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));null!==c.consequent&&z(c.consequent,q,d,t,f);null!==c.alternate&&z(c.alternate,q,d,t,f);break;
case "EmptyStatement":break;case "BlockStatement":if(null!==c.body)for(da=0;da<c.body.length;da++)z(c.body[da],q,d,t,f);break;case "ReturnStatement":null!==c.argument&&z(c.argument,q,d,t,f);break;case "ForInStatement":"VariableDeclaration"===c.left.type?(1<c.left.declarations.length&&t.push(h(c,"SYNTAX","ONLY1VAR")),null!==c.left.declarations[0].init&&t.push(h(c,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==c.left.type&&t.push(h(c,"SYNTAX","LEFTNOTVAR"));z(c.left,q,d,t,f);z(c.right,q,d,t,f);z(c.body,
q,d,t,f);break;case "ForStatement":null!==c.init&&z(c.init,q,d,t,f);null!==c.test&&z(c.test,q,d,t,f);null!==c.body&&z(c.body,q,d,t,f);null!==c.update&&z(c.update,q,d,t,f);break;case "BreakStatement":break;case "ContinueStatement":break;case "UpdateExpression":"Identifier"!==c.argument.type&&"MemberExpression"!==c.argument.type?t.push(h(c,"SYNTAX","ASSIGNMENTTOVARSONLY")):("Identifier"===c.argument.type&&(da=!1,!1===d&&(null!==q.localScope&&void 0!==q.localScope[c.argument.name.toLowerCase()]&&(da=
!0),void 0!==q.globalScope[c.argument.name.toLowerCase()]&&(da=!0),!1===da&&t.push({line:null===c?0:c.loc.start.line,character:null===c?0:c.loc.start.column,reason:"Identifier "+c.argument.name+" has not been declared."}))),"MemberExpression"===c.argument.type&&z(c.argument,q,d,t,f));break;case "AssignmentExpression":"Identifier"!==c.left.type&&"MemberExpression"!==c.left.type&&t.push(h(c,"SYNTAX","ASSIGNMENTTOVARSONLY"));switch(c.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;
default:t.push(h(c,"SYNTAX","OPERATORNOTRECOGNISED"))}z(c.right,q,d,t,f);da=!1;"Identifier"===c.left.type&&(null!==q.localScope&&void 0!==q.localScope[c.left.name.toLowerCase()]&&(da=!0),void 0!==q.globalScope[c.left.name.toLowerCase()]&&(da=!0),!1===d&&!1===da&&t.push({line:null===c?0:c.loc.start.line,character:null===c?0:c.loc.start.column,reason:"Identifier "+c.left.name+" has not been declared."}));"MemberExpression"===c.left.type&&z(c.left,q,d,t,f);break;case "ExpressionStatement":z(c.expression,
q,d,t,f);break;case "Identifier":{const aa=c.name.toLowerCase();if(null!==q.localScope&&void 0!==q.localScope[aa]||void 0!==q.globalScope[aa])break;!1===d&&t.push(h(c,"SYNTAX","VARIABLENOTFOUND"));break}case "MemberExpression":z(c.object,q,d,t,f);!0===c.computed&&z(c.property,q,d,t,f);break;case "Literal":break;case "TemplateElement":break;case "CallExpression":"Identifier"!==c.callee.type&&t.push(h(c,"SYNTAX","ONLYNODESSUPPORTED"));for(S=0;S<c.arguments.length;S++)z(c.arguments[S],q,d,t,f);"Identifier"===
c.callee.type&&(da=G(c.callee.name,c.arguments,q),!1===d&&-1===da&&t.push(h(c,"SYNTAX","NOTFOUND")),-2===da&&t.push(h(c,"SYNTAX","WRONGSIGNATURE")));break;case "UnaryExpression":z(c.argument,q,d,t,f);break;case "BinaryExpression":z(c.left,q,d,t,f);z(c.right,q,d,t,f);switch(c.operator){case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":case "\x26":case "|":case "^":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":break;
default:t.push(h(c,"SYNTAX","OPERATORNOTRECOGNISED"))}break;case "LogicalExpression":switch(c.operator){case "\x26\x26":case "||":break;default:t.push(h(c,"SYNTAX","OPERATORNOTRECOGNISED"))}z(c.left,q,d,t,f);"AssignmentExpression"!==c.left.type&&"UpdateExpression"!==c.left.type||t.push(h(c,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));z(c.right,q,d,t,f);"AssignmentExpression"!==c.right.type&&"UpdateExpression"!==c.right.type||t.push(h(c,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));break;case "ArrayExpression":for(da=
0;da<c.elements.length;da++)z(c.elements[da],q,d,t,f);break;case "TemplateLiteral":for(da=0;da<c.quasis.length;da++)z(c.quasis[da],q,d,t,f);for(da=0;da<c.expressions.length;da++)z(c.expressions[da],q,d,t,f);break;case "ObjectExpression":for(da=0;da<c.properties.length;da++)z(c.properties[da],q,d,t,f);break;case "Property":"Literal"!==c.key.type&&"Identifier"!==c.key.type&&t.push(h(c,"SYNTAX","ONLYLITERAL"));"Literal"===c.key.type&&z(c.key,q,d,t,f);z(c.value,q,d,t,f);break;default:t.push(h(c,"SYNTAX",
"UNRECOGNISED"))}}catch(aa){t.push({line:null===c?0:c.loc.start.line,character:null===c?0:c.loc.start.column,reason:"Unnexpected Syntax"})}}function A(c){const q=[];m(c,d=>{"CallExpression"===d.type&&"Identifier"===d.callee.type&&q.push(d.callee.name.toLowerCase());return!0});return q}const F={concatenate:{min:"0",max:"*"},expects:{min:"1",max:"*"},getfeatureset:{min:"1",max:"2"},week:{min:"1",max:"2"},fromjson:{min:"1",max:"1"},length3d:{min:"1",max:"2"},tohex:{min:"1",max:"1"},hash:{min:"1",max:"1"},
isoweek:{min:"1",max:"1"},isoweekday:{min:"1",max:"1"},isomonth:{min:"1",max:"1"},isoyear:{min:"1",max:"1"},resize:{min:"2",max:"3"},slice:{min:"0",max:"*"},splice:{min:"0",max:"*"},push:{min:"2",max:"2"},pop:{min:"1",max:"1"},includes:{min:"2",max:"2"},array:{min:"1",max:"2"},front:{min:"1",max:"1"},back:{min:"1",max:"1"},insert:{min:"3",max:"3"},erase:{min:"2",max:"2"},split:{min:"2",max:"4"},guid:{min:"0",max:"1"},today:{min:"0",max:"0"},angle:{min:"2",max:"3"},bearing:{min:"2",max:"3"},urlencode:{min:"1",
max:"1"},now:{min:"0",max:"0"},timestamp:{min:"0",max:"0"},day:{min:"1",max:"1"},month:{min:"1",max:"1"},year:{min:"1",max:"1"},hour:{min:"1",max:"1"},second:{min:"1",max:"1"},millisecond:{min:"1",max:"1"},minute:{min:"1",max:"1"},weekday:{min:"1",max:"1"},toutc:{min:"1",max:"1"},tolocal:{min:"1",max:"1"},date:{min:"0",max:"7"},datediff:{min:"2",max:"3"},dateadd:{min:"2",max:"3"},trim:{min:"1",max:"1"},text:{min:"1",max:"2"},left:{min:"2",max:"2"},right:{min:"2",max:"2"},mid:{min:"2",max:"3"},upper:{min:"1",
max:"1"},proper:{min:"1",max:"2"},lower:{min:"1",max:"1"},find:{min:"2",max:"3"},iif:{min:"3",max:"3"},decode:{min:"2",max:"*"},when:{min:"2",max:"*"},defaultvalue:{min:"2",max:"2"},isempty:{min:"1",max:"1"},domaincode:{min:"2",max:"4"},domainname:{min:"2",max:"4"},polygon:{min:"1",max:"1"},point:{min:"1",max:"1"},polyline:{min:"1",max:"1"},extent:{min:"1",max:"1"},multipoint:{min:"1",max:"1"},ringisclockwise:{min:"1",max:"1"},geometry:{min:"1",max:"1"},count:{min:"0",max:"*"},number:{min:"1",max:"2"},
acos:{min:"1",max:"1"},asin:{min:"1",max:"1"},atan:{min:"1",max:"1"},atan2:{min:"2",max:"2"},ceil:{min:"1",max:"2"},floor:{min:"1",max:"2"},round:{min:"1",max:"2"},cos:{min:"1",max:"1"},exp:{min:"1",max:"1"},log:{min:"1",max:"1"},min:{min:"0",max:"*"},constrain:{min:"3",max:"3"},console:{min:"0",max:"*"},max:{min:"0",max:"*"},pow:{min:"2",max:"2"},random:{min:"0",max:"0"},sqrt:{min:"1",max:"1"},sin:{min:"1",max:"1"},tan:{min:"1",max:"1"},abs:{min:"1",max:"1"},isnan:{min:"1",max:"1"},stdev:{min:"0",
max:"*"},average:{min:"0",max:"*"},mean:{min:"0",max:"*"},sum:{min:"0",max:"*"},variance:{min:"0",max:"*"},distinct:{min:"0",max:"*"},first:{min:"1",max:"1"},top:{min:"2",max:"2"},boolean:{min:"1",max:"1"},dictionary:{min:"0",max:"*"},typeof:{min:"1",max:"1"},reverse:{min:"1",max:"1"},replace:{min:"3",max:"4"},sort:{min:"1",max:"2"},feature:{min:"1",max:"*"},haskey:{min:"2",max:"2"},indexof:{min:"2",max:"2"},disjoint:{min:"2",max:"2"},intersects:{min:"2",max:"2"},touches:{min:"2",max:"2"},crosses:{min:"2",
max:"2"},within:{min:"2",max:"2"},contains:{min:"2",max:"2"},overlaps:{min:"2",max:"2"},equals:{min:"2",max:"2"},relate:{min:"3",max:"3"},intersection:{min:"2",max:"2"},union:{min:"1",max:"2"},difference:{min:"2",max:"2"},symmetricdifference:{min:"2",max:"2"},clip:{min:"2",max:"2"},cut:{min:"2",max:"2"},area:{min:"1",max:"2"},areageodetic:{min:"1",max:"2"},length:{min:"1",max:"2"},lengthgeodetic:{min:"1",max:"2"},distancegeodetic:{min:"2",max:"3"},distance:{min:"2",max:"3"},densify:{min:"2",max:"3"},
densifygeodetic:{min:"2",max:"3"},generalize:{min:"2",max:"4"},buffer:{min:"2",max:"3"},buffergeodetic:{min:"2",max:"3"},offset:{min:"2",max:"6"},rotate:{min:"2",max:"3"},issimple:{min:"1",max:"1"},simplify:{min:"1",max:"1"},centroid:{min:"1",max:"1"},isselfintersecting:{min:"1",max:"1"},multiparttosinglepart:{min:"1",max:"1"},setgeometry:{min:"2",max:"2"},portal:{min:"1",max:"1"},getuser:{min:"1",max:"2"},subtypes:{min:"1",max:"1"},subtypecode:{min:"1",max:"1"},subtypename:{min:"1",max:"1"},domain:{min:"2",
max:"3"},convertdirection:{min:"3",max:"3"},schema:{min:"1",max:"1"}};for(const c in F)F[c].fmin=F[c].min,F[c].fmax=F[c].max;const E="featureset getuser featuresetbyid featuresetbyname featuresetbyassociation featuresetbyrelationshipname featuresetbyurl getfeatureset attachments featuresetbyportalitem".split(" "),N="disjoint intersects touches crosses within contains overlaps equals relate intersection union difference symmetricdifference clip cut area areageodetic length length3d lengthgeodetic distance distancegeodetic densify densifygeodetic generalize buffer buffergeodetic offset rotate issimple simplify multiparttosinglepart".split(" ");
D.addFunctionDeclaration=function(c,q){const d=F[c.name.toLowerCase()];void 0===d?"sync"===q?F[c.name.toLowerCase()]={min:c.min,max:c.max}:F[c.name.toLowerCase()]={fmin:c.min,fmax:c.max}:"sync"===q?(d.min=c.min,d.max=c.max):(d.fmin=c.min,d.fmax=c.max)};D.checkFunctionSignature=w;D.checkScript=function(c,q,d,t="async",f=F){const S=[];if("BlockStatement"!==c.body[0].body.type)return[{line:0,character:0,reason:"Invalid Body"}];if(null===q||void 0===q)q={vars:{},customFunctions:[]};q={globalScope:y(q.vars,
f,q.customFunctions,t),localScope:null};try{z(c.body[0].body,q,d,S)}catch(da){}return S};D.constructGlobalScope=y;D.extractAllIssues=z;D.extractAllIssuesInFunction=l;D.extractFunctionDeclaration=e;D.findExpectedFieldLiterals=function(c){const q=[];m(c,d=>{if("CallExpression"===d.type&&"Identifier"===d.callee.type&&"expects"===d.callee.name.toLowerCase()){let f="";for(let S=0;S<(d.arguments||[]).length;S++)if(0===S)"Identifier"===d.arguments[S].type&&(f=d.arguments[S].name.toLowerCase());else{var t;
if(t=f&&"Literal"===d.arguments[S].type)t=d.arguments[S].value,t="string"===typeof t||t instanceof String;t&&q.push(f+"."+d.arguments[S].value.toLowerCase())}return!1}if("MemberExpression"!==d.type||"Identifier"!==d.object.type)return!0;!1===d.computed&&d.object&&d.object.name&&d.property&&"Identifier"===d.property.type&&d.property.name?q.push(d.object.name.toLowerCase()+"."+d.property.name.toLowerCase()):d.object&&d.object.name&&d.property&&"Literal"===d.property.type&&"string"===typeof d.property.value&&
q.push(d.object.name.toLowerCase()+"."+d.property.value.toString().toLowerCase());return!1});return q};D.findFieldLiterals=function(c){const q=[];m(c,d=>{if("MemberExpression"!==d.type||"Identifier"!==d.object.type)return!0;!1===d.computed&&d.object&&d.object.name&&d.property&&"Identifier"===d.property.type&&d.property.name?q.push(d.object.name.toLowerCase()+"."+d.property.name.toLowerCase()):d.object&&d.object.name&&d.property&&"Literal"===d.property.type&&"string"===typeof d.property.value&&q.push(d.object.name.toLowerCase()+
"."+d.property.value.toString().toLowerCase());return!1});return q};D.findFunction=G;D.findFunctionCalls=A;D.findScriptDependencies=function(c,q=[]){let d=null;if(void 0===c.usesFeatureSet){null===d&&(d=A(c));c.usesFeatureSet=!1;for(let t=0;t<d.length;t++)-1<E.indexOf(d[t])&&(c.usesFeatureSet=!0,c.isAsync=!0);if(!1===c.usesFeatureSet&&q&&0<q.length)for(const t of q)if(n(c,t)){c.usesFeatureSet=!0;c.isAsync=!0;break}}if(void 0===c.usesGeometry)for(c.usesGeometry=!1,null===d&&(d=A(c)),q=0;q<d.length;q++)-1<
N.indexOf(d[q])&&(c.usesGeometry=!0)};D.functionDecls=F;D.makeError=h;D.nodeErrorMessage=b;D.referencesFunction=function(c,q){let d=!1;const t=q.toLowerCase();m(c,f=>d?!1:"CallExpression"===f.type&&"Identifier"===f.callee.type&&f.callee.name&&f.callee.name.toLowerCase()===t?(d=!0,!1):!0);return d};D.referencesMember=n;D.scriptUsesFeatureSet=function(c){c=A(c);for(let q=0;q<c.length;q++)if(-1<E.indexOf(c[q]))return!0;return!1};D.testValidityOfExpression=u;D.validateFunction=p;D.validateLanguage=function(c){return"BlockStatement"!==
c.body[0].body.type?"Invalid formula content.":k(c.body[0].body)};D.validateLanguageNode=k;D.validateScript=function(c,q,d="async",t=F){q={globalScope:y(q.vars,t,q.customFunctions,d),localScope:null};return u(c.body[0].body,q)};D.walk=m;Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/functions/array":function(){define(["exports","../../chunks/languageUtils"],function(D,w){D.registerFunctions=function(G,B){G.array=function(m,k){return B(m,k,function(u,n,e){w.pcCheck(e,1,2);u=w.toNumber(e[0]);
if(isNaN(u)||!1===w.isInteger(u))throw Error("Invalid Parameter");e=w.defaultUndefined(e[1],null);u=Array(u);u.fill(e);return u})};G.front=function(m,k){return B(m,k,function(u,n,e){w.pcCheck(e,1,1);if(w.isImmutableArray(e[0])){if(0>=e[0].length())throw Error("Array is empty");return e[0].get(0)}if(w.isArray(e[0])){if(0>=e[0].length)throw Error("Array is empty");return e[0][0]}throw Error("Invalid Parameter");})};G.back=function(m,k){return B(m,k,function(u,n,e){w.pcCheck(e,1,1);if(w.isImmutableArray(e[0])){if(0>=
e[0].length())throw Error("Array is empty");return e[0].get(e[0].length()-1)}if(w.isArray(e[0])){if(0>=e[0].length)throw Error("Array is empty");return e[0][e[0].length-1]}throw Error("Invalid Parameter");})};G.push=function(m,k){return B(m,k,function(u,n,e){w.pcCheck(e,1,2);if(w.isArray(e[0]))return e[0][e[0].length]=e[1],e[0].length;throw Error("Invalid Parameter");})};G.pop=function(m,k){return B(m,k,function(u,n,e){w.pcCheck(e,1,1);if(w.isArray(e[0])){if(0>=e[0].length)throw Error("Array is empty");
u=e[0][e[0].length-1];--e[0].length;return u}throw Error("Invalid Parameter");})};G.erase=function(m,k){return B(m,k,function(u,n,e){w.pcCheck(e,2,2);if(w.isArray(e[0])){u=w.toNumber(e[1]);if(isNaN(u)||!1===w.isInteger(u))throw Error("Invalid Parameter");e=e[0];if(0>=e.length)throw Error("Array is empty");0>u&&(u=e.length+u);if(0>u)throw Error("Element not found");if(u>=e.length)throw Error("Index is greater than array");e.splice(u,1);return w.voidOperation}throw Error("Invalid Parameter");})};G.insert=
function(m,k){return B(m,k,function(u,n,e){w.pcCheck(e,3,3);if(w.isArray(e[0])){u=w.toNumber(e[1]);if(isNaN(u)||!1===w.isInteger(u))throw Error("Invalid Parameter");n=e[2];e=e[0];if(u>e.length)throw Error("Index is greater than array");if(0>u&&u<-1*e.length)throw Error("Index is greater than array");if(u===e.length)return e[u]=n,w.voidOperation;e.splice(u,0,n);return w.voidOperation}throw Error("Invalid Parameter");})};G.resize=function(m,k){return B(m,k,function(u,n,e){w.pcCheck(e,2,3);if(w.isArray(e[0])){n=
w.toNumber(e[1]);if(isNaN(n)||!1===w.isInteger(n))throw Error("Invalid Parameter");if(0>n)throw Error("Size cannot be negative");u=w.defaultUndefined(e[2],null);e=e[0];if(e.length>=n)return e.length=n,w.voidOperation;const p=e.length;e.length=n;for(n=p;n<e.length;n++)e[n]=u;return w.voidOperation}throw Error("Invalid Parameter");})};G.includes=function(m,k){return B(m,k,function(u,n,e){w.pcCheck(e,2,2);if(w.isArray(e[0])){const p=e[1];return-1<e[0].findIndex(y=>w.equalityTest(y,p))?!0:!1}if(w.isImmutableArray(e[0])){const p=
e[1];return-1<e[0].toArray().findIndex(y=>w.equalityTest(y,p))?!0:!1}throw Error("Invalid Parameter");})};G.slice=function(m,k){return B(m,k,function(u,n,e){w.pcCheck(e,1,3);if(w.isArray(e[0])){u=w.toNumber(w.defaultUndefined(e[1],0));n=w.toNumber(w.defaultUndefined(e[2],e[0].length));if(isNaN(u)||!1===w.isInteger(u))throw Error("Invalid Parameter");if(isNaN(n)||!1===w.isInteger(n))throw Error("Invalid Parameter");return e[0].slice(u,n)}if(w.isImmutableArray(e[0])){u=e[0];n=w.toNumber(w.defaultUndefined(e[1],
0));e=w.toNumber(w.defaultUndefined(e[2],u.length()));if(isNaN(n)||!1===w.isInteger(n))throw Error("Invalid Parameter");if(isNaN(e)||!1===w.isInteger(e))throw Error("Invalid Parameter");return u.toArray().slice(n,e)}throw Error("Invalid Parameter");})};G.splice=function(m,k){return B(m,k,function(u,n,e){u=[];for(n=0;n<e.length;n++)w.isArray(e[n])?u.push(...e[n]):w.isImmutableArray(e[n])?u.push(...e[n].toArray()):u.push(e[n]);return u})}};Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/functions/date":function(){define(["exports",
"../../chunks/languageUtils","../../intl/locale","../../chunks/datetime"],function(D,w,G,B){function m(p){p=new Date(p.getTime());const y=p.getFullYear();var b=new Date(0);b.setFullYear(y+1,0,4);b.setHours(0,0,0,0);b=k(b);var h=new Date(0);h.setFullYear(y,0,4);h.setHours(0,0,0,0);h=k(h);return p.getTime()>=b.getTime()?y+1:p.getTime()>=h.getTime()?y:y-1}function k(p){p=new Date(p.getTime());var y=p.getDay();y=(1>y?7:0)+y-1;p.setDate(p.getDate()-y);p.setHours(0,0,0,0);return p}function u(p){return null===
p?p:isNaN(p.getTime())?null:p}const n=[0,31,59,90,120,151,181,212,243,273,304,334],e=[0,31,60,91,121,152,182,213,244,274,305,335];D.registerFunctions=function(p,y){p.today=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,0,0);l=new Date;l.setHours(0,0,0,0);return l})};p.now=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,0,0);return new Date})};p.timestamp=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,0,0);l=new Date;return l=new Date(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),
l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds())})};p.toutc=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,1,1);l=w.toDate(A[0]);return null===l?null:new Date(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds())})};p.tolocal=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,1,1);l=w.toDate(A[0]);return null===l?null:B.DateTime.utc(l.getFullYear(),l.getMonth()+1,l.getDate(),l.getHours(),
l.getMinutes(),l.getSeconds(),l.getMilliseconds()).toJSDate()})};p.day=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,1,1);l=w.toDate(A[0]);return null===l?NaN:l.getDate()})};p.month=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,1,1);l=w.toDate(A[0]);return null===l?NaN:l.getMonth()})};p.year=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,1,1);l=w.toDate(A[0]);return null===l?NaN:l.getFullYear()})};p.hour=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,1,1);l=w.toDate(A[0]);
return null===l?NaN:l.getHours()})};p.second=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,1,1);l=w.toDate(A[0]);return null===l?NaN:l.getSeconds()})};p.millisecond=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,1,1);l=w.toDate(A[0]);return null===l?NaN:l.getMilliseconds()})};p.minute=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,1,1);l=w.toDate(A[0]);return null===l?NaN:l.getMinutes()})};p.week=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,1,2);l=w.toDate(A[0]);
if(null===l)return NaN;A=w.toNumber(w.defaultUndefined(A[1],0));if(0>A||6<A)throw Error("Invalid Parameter");z=l.getDate();var F=l.getMonth();const E=l.getFullYear();l=l.getDay();z=z+(0!==E%4||0===E%100&&0!==E%400?n:e)[F]-1;F=Math.floor(z/7);return l-A+(0>l-A?7:0)<z-7*F?F+1:F})};p.weekday=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,1,1);l=w.toDate(A[0]);return null===l?NaN:l.getDay()})};p.isoweekday=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,1,1);l=w.toDate(A[0]);if(null===
l)return NaN;l=l.getDay();0===l&&(l=7);return l})};p.isomonth=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,1,1);l=w.toDate(A[0]);return null===l?NaN:l.getMonth()+1})};p.isoweek=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,1,1);z=w.toDate(A[0]);if(null===z)return NaN;l=k(z).getTime();z=m(z);A=new Date(0);A.setFullYear(z,0,4);A.setHours(0,0,0,0);z=k(A);l-=z.getTime();return Math.round(l/6048E5)+1})};p.isoyear=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,1,1);l=w.toDate(A[0]);
return null===l?NaN:m(l)})};p.date=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,0,7);if(3===A.length)return u(new Date(w.toNumber(A[0]),w.toNumber(A[1]),w.toNumber(A[2]),0,0,0,0));if(4===A.length)return u(new Date(w.toNumber(A[0]),w.toNumber(A[1]),w.toNumber(A[2]),w.toNumber(A[3]),0,0,0));if(5===A.length)return u(new Date(w.toNumber(A[0]),w.toNumber(A[1]),w.toNumber(A[2]),w.toNumber(A[3]),w.toNumber(A[4]),0,0));if(6===A.length)return u(new Date(w.toNumber(A[0]),w.toNumber(A[1]),w.toNumber(A[2]),
w.toNumber(A[3]),w.toNumber(A[4]),w.toNumber(A[5]),0));if(7===A.length)return u(new Date(w.toNumber(A[0]),w.toNumber(A[1]),w.toNumber(A[2]),w.toNumber(A[3]),w.toNumber(A[4]),w.toNumber(A[5]),w.toNumber(A[6])));if(2===A.length){l=w.toString(A[1]);if(""===l)return null;l=w.standardiseDateFormat(l);A="X"===l?B.DateTime.fromSeconds(w.toNumber(A[0])):"x"===l?B.DateTime.fromMillis(w.toNumber(A[0])):B.DateTime.fromFormat(w.toString(A[0]),l,{locale:G.getLocale(),numberingSystem:"latn"});return A.isValid?
A.toJSDate():null}if(1===A.length){if(w.isString(A[0])){if(""===A[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(A[0]))return w.toDate(A[0]+"-01-01")}l=w.toNumber(A[0]);return!1===isNaN(l)?u(new Date(l)):w.toDate(A[0])}if(0===A.length)return new Date})};p.datediff=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,2,3);l=w.toDateTime(A[0]);z=w.toDateTime(A[1]);if(null===l||null===z)return NaN;switch(w.toString(A[2]).toLowerCase()){case "days":case "day":case "d":return l.diff(z,
"days").days;case "months":case "month":return l.diff(z,"months").months;case "minutes":case "minute":case "m":return"M"===A[2]?l.diff(z,"months").months:l.diff(z,"minutes").minutes;case "seconds":case "second":case "s":return l.diff(z,"seconds").seconds;case "milliseconds":case "millisecond":case "ms":return l.diff(z).milliseconds;case "hours":case "hour":case "h":return l.diff(z,"hours").hours;case "years":case "year":case "y":return l.diff(z,"years").years;default:return l.diff(z).milliseconds}})};
p.dateadd=function(b,h){return y(b,h,function(l,z,A){w.pcCheck(A,2,3);l=w.toDateTime(A[0]);if(null===l)return null;z=w.toNumber(A[1]);if(isNaN(z))return l.toJSDate();let F="milliseconds";switch(w.toString(A[2]).toLowerCase()){case "days":case "day":case "d":F="days";z=w.absRound(z);break;case "months":case "month":F="months";z=w.absRound(z);break;case "minutes":case "minute":case "m":F="M"===A[2]?"months":"minutes";break;case "seconds":case "second":case "s":F="seconds";break;case "milliseconds":case "millisecond":case "ms":F=
"milliseconds";break;case "hours":case "hour":case "h":F="hours";break;case "years":case "year":case "y":F="years"}return l.plus({[F]:z}).toJSDate()})}};Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/functions/geometry":function(){define("exports ../Dictionary ../Feature ../ImmutablePointArray ../../chunks/languageUtils ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ./centroid ../../geometry/support/jsonUtils ../../geometry/support/coordsUtils".split(" "),
function(D,w,G,B,m,k,u,n,e,p,y,b,h,l){function z(A){return A instanceof G||"object"===typeof A&&"FeatureSetReader"===A.type}D.registerFunctions=function(A,F){A.ringisclockwise=function(E,N){return F(E,N,function(c,q,d){m.pcCheck(d,1,1);c=[];let t=q=!1;if(null===d[0])return!1;if(m.isArray(d[0])){for(const f of d[0])if(f instanceof e)c.push(f.hasZ?f.hasM?[f.x,f.y,f.z,f.m]:[f.x,f.y,f.z]:[f.x,f.y]);else throw Error("Invalid Argument");0<c.length&&(q=d[0][0].hasZ,t=d[0][0].hasM)}else if(d[0]instanceof
B)c=d[0]._elements,0<c.length&&(q=d[0]._hasZ,t=d[0]._hasM);else if(m.isImmutableArray(d[0])){for(const f of d[0].toArray())if(f instanceof e)c.push(f.hasZ?f.hasM?[f.x,f.y,f.z,f.m]:[f.x,f.y,f.z]:[f.x,f.y]);else throw Error("Invalid Argument");0<c.length&&(q=d[0].get(0).hasZ,t=d[0].get(0).hasM)}else throw Error("Invalid Argument");return 3>c.length?!1:l.isClockwise(c,t,q)})};A.polygon=function(E,N){return F(E,N,function(c,q,d){m.pcCheck(d,1,1);c=null;if(d[0]instanceof w){if(c=m.fixSpatialReference(G.parseGeometryFromDictionary(d[0]),
E.spatialReference),!1===c instanceof p)throw Error("Illegal Parameter");}else c=d[0]instanceof p?h.fromJSON(d[0].toJSON()):m.fixSpatialReference(new p(JSON.parse(d[0])),E.spatialReference);if(null!==c&&!1===c.spatialReference.equals(E.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(c)})};A.polyline=function(E,N){return F(E,N,function(c,q,d){m.pcCheck(d,1,1);c=null;if(d[0]instanceof w){if(c=m.fixSpatialReference(G.parseGeometryFromDictionary(d[0]),
E.spatialReference),!1===c instanceof y)throw Error("Illegal Parameter");}else c=d[0]instanceof y?h.fromJSON(d[0].toJSON()):m.fixSpatialReference(new y(JSON.parse(d[0])),E.spatialReference);if(null!==c&&!1===c.spatialReference.equals(E.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(c)})};A.point=function(E,N){return F(E,N,function(c,q,d){m.pcCheck(d,1,1);c=null;if(d[0]instanceof w){if(c=m.fixSpatialReference(G.parseGeometryFromDictionary(d[0]),
E.spatialReference),!1===c instanceof e)throw Error("Illegal Parameter");}else c=d[0]instanceof e?h.fromJSON(d[0].toJSON()):m.fixSpatialReference(new e(JSON.parse(d[0])),E.spatialReference);if(null!==c&&!1===c.spatialReference.equals(E.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(c)})};A.multipoint=function(E,N){return F(E,N,function(c,q,d){m.pcCheck(d,1,1);c=null;if(d[0]instanceof w){if(c=
m.fixSpatialReference(G.parseGeometryFromDictionary(d[0]),E.spatialReference),!1===c instanceof n)throw Error("Illegal Parameter");}else c=d[0]instanceof n?h.fromJSON(d[0].toJSON()):m.fixSpatialReference(new n(JSON.parse(d[0])),E.spatialReference);if(null!==c&&!1===c.spatialReference.equals(E.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(c)})};A.extent=function(E,N){return F(E,N,function(c,
q,d){d=m.autoCastFeatureToGeometry(d);m.pcCheck(d,1,1);c=null;d[0]instanceof w?c=m.fixSpatialReference(G.parseGeometryFromDictionary(d[0]),E.spatialReference):d[0]instanceof e?(c={xmin:d[0].x,ymin:d[0].y,xmax:d[0].x,ymax:d[0].y,spatialReference:d[0].spatialReference.toJSON()},d=d[0],d.hasZ?(c.zmin=d.z,c.zmax=d.z):d.hasM&&(c.mmin=d.m,c.mmax=d.m),c=h.fromJSON(c)):c=d[0]instanceof p?h.fromJSON(d[0].extent.toJSON()):d[0]instanceof y?h.fromJSON(d[0].extent.toJSON()):d[0]instanceof n?h.fromJSON(d[0].extent.toJSON()):
d[0]instanceof k?h.fromJSON(d[0].toJSON()):m.fixSpatialReference(new k(JSON.parse(d[0])),E.spatialReference);if(null!==c&&!1===c.spatialReference.equals(E.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(c)})};A.geometry=function(E,N){return F(E,N,function(c,q,d){m.pcCheck(d,1,1);c=null;c=z(d[0])?m.fixSpatialReference(d[0].geometry(),E.spatialReference):d[0]instanceof w?m.fixSpatialReference(G.parseGeometryFromDictionary(d[0]),
E.spatialReference):m.fixSpatialReference(h.fromJSON(JSON.parse(d[0])),E.spatialReference);if(null!==c&&!1===c.spatialReference.equals(E.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(c)})};A.setgeometry=function(E,N){return F(E,N,function(c,q,d){m.pcCheck(d,2,2);if(z(d[0])){if(!0===d[0].immutable)throw Error("Feature is Immutable");if(d[1]instanceof u||null===d[1])d[0]._geometry=d[1];else throw Error("Illegal Argument");
}else throw Error("Illegal Argument");return m.voidOperation})};A.feature=function(E,N){return F(E,N,function(c,q,d){if(0===d.length)throw Error("Missing Parameters");c=null;if(1===d.length)if(m.isString(d[0]))c=G.fromJson(JSON.parse(d[0]));else if(z(d[0]))c=G.createFromArcadeFeature(d[0]);else if(d[0]instanceof u)c=G.createFromGraphicLikeObject(d[0],null,null);else if(d[0]instanceof w)c=d[0].hasField("geometry")?d[0].field("geometry"):null,d=d[0].hasField("attributes")?d[0].field("attributes"):null,
null!==c&&c instanceof w&&(c=G.parseGeometryFromDictionary(c)),null!==d&&(d=G.parseAttributesFromDictionary(d)),c=G.createFromGraphicLikeObject(c,d,null);else throw Error("Illegal Argument");else if(2===d.length){q=c=null;if(null!==d[0])if(d[0]instanceof u)c=d[0];else if(c instanceof w)c=G.parseGeometryFromDictionary(d[0]);else throw Error("Illegal Argument");if(null!==d[1])if(d[1]instanceof w)q=G.parseAttributesFromDictionary(d[1]);else throw Error("Illegal Argument");c=G.createFromGraphicLikeObject(c,
q,null)}else{c=null;q={};if(null!==d[0])if(d[0]instanceof u)c=d[0];else if(c instanceof w)c=G.parseGeometryFromDictionary(d[0]);else throw Error("Illegal Argument");for(let t=1;t<d.length;t+=2){const f=m.toString(d[t]),S=d[t+1];if(null===S||void 0===S||m.isString(S)||isNaN(S)||m.isDate(S)||m.isNumber(S)||m.isBoolean(S)){if(m.isFunctionParameter(S)||!1===m.isSimpleType(S))throw Error("Illegal Argument");q[f]=S===m.voidOperation?null:S}else throw Error("Illegal Argument");}c=G.createFromGraphicLikeObject(c,
q,null)}c._geometry=m.fixSpatialReference(c.geometry(),E.spatialReference);c.immutable=!1;return c})};A.dictionary=function(E,N){return F(E,N,function(c,q,d){if(0===d.length)return d=new w,d.immutable=!1,d;if(1===d.length&&m.isString(d[0]))try{var t=JSON.parse(d[0]),f=w.convertObjectToArcadeDictionary(t,!1);f.immutable=!1;return f}catch(S){throw Error("Missing Parameters or Illegal Json");}if(0!==d.length%2)throw Error("Missing Parameters");c={};for(q=0;q<d.length;q+=2)if(t=m.toString(d[q]),f=d[q+
1],null===f||void 0===f||m.isString(f)||isNaN(f)||m.isDate(f)||m.isNumber(f)||m.isBoolean(f)||m.isArray(f)||m.isImmutableArray(f)){if(m.isFunctionParameter(f))throw Error("Illegal Argument");c[t]=f===m.voidOperation?null:f}else throw Error("Illegal Argument");d=new w(c);d.immutable=!1;return d})};A.haskey=function(E,N){return F(E,N,function(c,q,d){m.pcCheck(d,2,2);c=m.toString(d[1]);if(z(d[0])||d[0]instanceof w)return d[0].hasField(c);throw Error("Illegal Argument");})};A.indexof=function(E,N){return F(E,
N,function(c,q,d){m.pcCheck(d,2,2);c=d[1];if(m.isArray(d[0])){for(q=0;q<d[0].length;q++)if(m.equalityTest(c,d[0][q]))return q;return-1}if(m.isImmutableArray(d[0])){q=d[0].length();for(let t=0;t<q;t++)if(m.equalityTest(c,d[0].get(t)))return t;return-1}throw Error("Illegal Argument");})};A.angle=function(E,N){return F(E,N,function(c,q,d){d=m.autoCastFeatureToGeometry(d);m.pcCheck(d,2,3);if(!(d[0]instanceof e))throw Error("Illegal Argument");if(!(d[1]instanceof e))throw Error("Illegal Argument");if(2<
d.length&&!(d[2]instanceof e))throw Error("Illegal Argument");return 2===d.length?b.angle2D(d[0],d[1]):b.angleBetween2D(d[0],d[1],d[2])})};A.bearing=function(E,N){return F(E,N,function(c,q,d){d=m.autoCastFeatureToGeometry(d);m.pcCheck(d,2,3);if(!(d[0]instanceof e))throw Error("Illegal Argument");if(!(d[1]instanceof e))throw Error("Illegal Argument");if(2<d.length&&!(d[2]instanceof e))throw Error("Illegal Argument");return 2===d.length?b.bearing2D(d[0],d[1]):b.bearingBetween2D(d[0],d[1],d[2])})};A.isselfintersecting=
function(E,N){return F(E,N,function(c,q,d){d=m.autoCastFeatureToGeometry(d);m.pcCheck(d,1,1);c=d[0];if(c instanceof p)return c.isSelfIntersecting;if(c instanceof y)return c=c.paths,b.pathsSelfIntersecting(c);if(c instanceof n)for(q=c.points,d=0;d<q.length;d++)for(let t=0;t<q.length;t++)if(t!==d){let f=!0;for(let S=0;S<q[d].length;S++)if(q[d][S]!==q[t][S]){f=!1;break}if(!0===f)return!0}return m.isArray(c)||m.isImmutableArray(c)?(c=m.autoCastArrayOfPointsToPolyline(c,E.spatialReference),null!==c&&(c=
c.paths),b.pathsSelfIntersecting(c)):!1})}};Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/functions/centroid":function(){define(["exports","../../geometry/Point","../../geometry/support/intersectsBase"],function(D,w,G){function B(b,h,l){const z={x:0,y:0};h&&(z.z=0);l&&(z.m=0);let A=0;var F=b[0];for(let d=0;d<b.length;d++){const t=b[d];a:if(t.length!==F.length)var E=!1;else{for(E=0;E<t.length;E++)if(t[E]!==F[E]){E=!1;break a}E=!0}if(!1===E){E=m(F,t,h);{var N=t,c=h,q=l;const f={x:(F[0]+
N[0])/2,y:(F[1]+N[1])/2};c&&(f.z=(F[2]+N[2])/2);c&&q?f.m=(F[3]+N[3])/2:q&&(f.m=(F[2]+N[2])/2);F=f}F.x*=E;F.y*=E;z.x+=F.x;z.y+=F.y;h&&(F.z*=E,z.z+=F.z);l&&(F.m*=E,z.m+=F.m);A+=E;F=t}}0<A?(z.x/=A,z.y/=A,h&&(z.z/=A),l&&(z.m/=A)):(z.x=b[0][0],z.y=b[0][1],h&&(z.z=b[0][2]),l&&h?z.m=b[0][3]:l&&(z.m=b[0][2]));return z}function m(b,h,l){const z=h[0]-b[0];b=h[1]-b[1];return l?(h=h[2]-h[2],Math.sqrt(z*z+b*b+h*h)):Math.sqrt(z*z+b*b)}function k(b,h,l=0){for(;b<l;)b+=h;for(l+=h;b>=l;)b-=h;return b}function u(b,
h){return Math.atan2(h.y-b.y,h.x-b.x)}function n(b,h,l){var z=b.x-h.x;b=b.y-h.y;var A=l.x-h.x;h=l.y-h.y;return Math.atan2(z*h-A*b,z*A+b*h)}const e=[];for(const b of[[9002,56146130,6131,6132,8050,8051,8228],[9003,5702,6358,6359,6360,8052,8053],[9095,5754]]){const h=b[0];for(let l=1;l<b.length;l++)e[b[l]]=h}const p=[];p[9002]=.3048;p[9003]=.3048006096012192;p[9095]=.3048007491;const y=[0,0];D.angle2D=function(b,h){return k(u(b,h),2*Math.PI)*(180/Math.PI)};D.angleBetween2D=function(b,h,l){return k(n(b,
h,l),2*Math.PI)*(180/Math.PI)};D.angleBetweenRad=n;D.angleRad=u;D.bearing2D=function(b,h){return k(Math.PI/2-u(b,h),2*Math.PI)*(180/Math.PI)};D.bearingBetween2D=function(b,h,l){return k(-1*n(b,h,l),2*Math.PI)*(180/Math.PI)};D.centroidMultiPoint=function(b){if(0===b.points.length)return null;var h=0;let l=0,z=0,A=0;for(let F=0;F<b.points.length;F++){const E=b.getPoint(F);!0===E.hasZ&&(z+=E.z);!0===E.hasM&&(A+=E.m);h+=E.x;l+=E.y;A+=E.m}h={x:h/b.points.length,y:l/b.points.length,spatialReference:null};
h.spatialReference=b.spatialReference.toJSON();!0===b.hasZ&&(h.z=z/b.points.length);!0===b.hasM&&(h.m=A/b.points.length);return new w(h)};D.centroidPolyline=function(b){const h={x:0,y:0,spatialReference:b.spatialReference.toJSON()},l={x:0,y:0,spatialReference:b.spatialReference.toJSON()};let z=0,A=0;for(let N=0;N<b.paths.length;N++)if(0!==b.paths[N].length){a:{var F=b.paths[N];var E=!0===b.hasZ;if(1>=F.length){F=0;break a}let c=0;for(let q=1;q<F.length;q++)c+=m(F[q-1],F[q],E);F=c}0===F?(F=B(b.paths[N],
!0===b.hasZ,!0===b.hasM),h.x+=F.x,h.y+=F.y,!0===b.hasZ&&(h.z+=F.z),!0===b.hasM&&(h.m+=F.m),++z):(E=B(b.paths[N],!0===b.hasZ,!0===b.hasM),l.x+=E.x*F,l.y+=E.y*F,!0===b.hasZ&&(l.z+=E.z*F),!0===b.hasM&&(l.m+=E.m*F),A+=F)}return 0<A?(l.x/=A,l.y/=A,!0===b.hasZ&&(l.z/=A),!0===b.hasM&&(l.m/=A),new w(l)):0<z?(h.x/=z,h.y/=z,!0===b.hasZ&&(l.z/=z),!0===b.hasM&&(h.m/=z),new w(h)):null};D.getMetersPerVerticalUnitForSR=function(b){return b.vcsWkid&&void 0!==e[b.vcsWkid]?p[e[b.vcsWkid]]:b.latestVcsWkid&&void 0!==
e[b.latestVcsWkid]?p[e[b.latestVcsWkid]]:1};D.pathsSelfIntersecting=function(b){for(let c=0;c<b.length;c++){const q=b[c];for(var h=0;h<q.length-1;h++){var l=q[h],z=q[h+1];for(var A=c+1;A<b.length;A++)for(var F=0;F<b[A].length-1;F++){var E=b[A][F],N=b[A][F+1];if(G.segmentIntersects(l,z,E,N,y)&&!(y[0]===l[0]&&y[1]===l[1]||y[0]===E[0]&&y[1]===E[1]||y[0]===z[0]&&y[1]===z[1]||y[0]===N[0]&&y[1]===N[1]))return!0}}h=q.length;if(!(3>h))for(l=0;l<=h-2;l++)for(z=q[l],A=q[l+1],F=l+2;F<=h-2;F++)if(E=q[F],N=q[F+
1],G.segmentIntersects(z,A,E,N,y)&&!(y[0]===z[0]&&y[1]===z[1]||y[0]===E[0]&&y[1]===E[1]||y[0]===A[0]&&y[1]===A[1]||y[0]===N[0]&&y[1]===N[1]))return!0}return!1};D.segmentLength3d=function(b,h,l){return Math.sqrt((b[0]-h[0])**2+(b[1]-h[1])**2+(void 0!==b[2]&&void 0!==h[2]?(b[2]*l-h[2]*l)**2:0))};Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/functions/geomsync":function(){define("exports ../../kernel ../kernel ../../chunks/languageUtils ./centroid ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/support/jsonUtils ../../core/unitUtils".split(" "),
function(D,w,G,B,m,k,u,n,e,p,y,b,h){function l(F){return 0===w.version.indexOf("4.")?p.fromExtent(F):new p({spatialReference:F.spatialReference,rings:[[[F.xmin,F.ymin],[F.xmin,F.ymax],[F.xmax,F.ymax],[F.xmax,F.ymin],[F.xmin,F.ymin]]]})}function z(F,E){if("polygon"!==F.type&&"polyline"!==F.type&&"extent"!==F.type)return 0;var N=1;if(F.spatialReference.vcsWkid||F.spatialReference.latestVcsWkid){N=m.getMetersPerVerticalUnitForSR(F.spatialReference);var c=h.getMetersPerUnitForSR(F.spatialReference);N/=
c}c=0;if("polyline"===F.type)for(var q of F.paths)for(var d=1;d<q.length;d++)c+=m.segmentLength3d(q[d],q[d-1],N);else if("polygon"===F.type)for(d of F.rings){for(q=1;q<d.length;q++)c+=m.segmentLength3d(d[q],d[q-1],N);if(d[0][0]!==d[d.length-1][0]||d[0][1]!==d[d.length-1][1]||void 0!==d[0][2]&&d[0][2]!==d[d.length-1][2])c+=m.segmentLength3d(d[0],d[d.length-1],N)}else"extent"===F.type&&(c+=2*m.segmentLength3d([F.xmin,F.ymin,0],[F.xmax,F.ymin,0],N),c+=2*m.segmentLength3d([F.xmin,F.ymin,0],[F.xmin,F.ymax,
0],N),c=2*c+4*Math.abs(B.defaultUndefined(F.zmax,0)*N-B.defaultUndefined(F.zmin,0)*N));F=new y({hasZ:!1,hasM:!1,spatialReference:F.spatialReference,paths:[[0,0],[0,c]]});return A.planarLength(F,E)}let A=null;D.registerFunctions=function(F,E){function N(c){B.pcCheck(c,2,2);if(!(c[0]instanceof u&&c[1]instanceof u||c[0]instanceof u&&null===c[1]||c[1]instanceof u&&null===c[0]||null===c[0]&&null===c[1]))throw Error("Illegal Argument");}F.disjoint=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);
N(f);return null===f[0]||null===f[1]?!0:A.disjoint(f[0],f[1])})};F.intersects=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);N(f);return null===f[0]||null===f[1]?!1:A.intersects(f[0],f[1])})};F.touches=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);N(f);return null===f[0]||null===f[1]?!1:A.touches(f[0],f[1])})};F.crosses=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);N(f);return null===f[0]||null===f[1]?!1:A.crosses(f[0],
f[1])})};F.within=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);N(f);return null===f[0]||null===f[1]?!1:A.within(f[0],f[1])})};F.contains=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);N(f);return null===f[0]||null===f[1]?!1:A.contains(f[0],f[1])})};F.overlaps=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);N(f);return null===f[0]||null===f[1]?!1:A.overlaps(f[0],f[1])})};F.equals=function(c,q){return E(c,q,function(d,
t,f){B.pcCheck(f,2,2);return f[0]===f[1]?!0:f[0]instanceof u&&f[1]instanceof u?A.equals(f[0],f[1]):B.isDate(f[0])&&B.isDate(f[1])?f[0].getTime()===f[1].getTime():!1})};F.relate=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);B.pcCheck(f,3,3);if(f[0]instanceof u&&f[1]instanceof u)return A.relate(f[0],f[1],B.toString(f[2]));if(f[0]instanceof u&&null===f[1]||f[1]instanceof u&&null===f[0]||null===f[0]&&null===f[1])return!1;throw Error("Illegal Argument");})};F.intersection=
function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);N(f);return null===f[0]||null===f[1]?null:A.intersect(f[0],f[1])})};F.union=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);d=[];if(0===f.length)throw Error("Function called with wrong number of Parameters");if(1===f.length)if(B.isArray(f[0]))for(f=B.autoCastFeatureToGeometry(f[0]),t=0;t<f.length;t++){if(null!==f[t]){if(!(f[t]instanceof u))throw Error("Illegal Argument");d.push(f[t])}}else if(B.isImmutableArray(f[0]))for(f=
B.autoCastFeatureToGeometry(f[0].toArray()),t=0;t<f.length;t++){if(null!==f[t]){if(!(f[t]instanceof u))throw Error("Illegal Argument");d.push(f[t])}}else{if(f[0]instanceof u)return B.fixSpatialReference(G.cloneGeometry(f[0]),c.spatialReference);if(null===f[0])return null;throw Error("Illegal Argument");}else for(t=0;t<f.length;t++)if(null!==f[t]){if(!(f[t]instanceof u))throw Error("Illegal Argument");d.push(f[t])}return 0===d.length?null:A.union(d)})};F.difference=function(c,q){return E(c,q,function(d,
t,f){f=B.autoCastFeatureToGeometry(f);N(f);return null!==f[0]&&null===f[1]?G.cloneGeometry(f[0]):null===f[0]?null:A.difference(f[0],f[1])})};F.symmetricdifference=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);N(f);return null===f[0]&&null===f[1]?null:null===f[0]?G.cloneGeometry(f[1]):null===f[1]?G.cloneGeometry(f[0]):A.symmetricDifference(f[0],f[1])})};F.clip=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);B.pcCheck(f,2,2);if(!(f[1]instanceof
k)&&null!==f[1])throw Error("Illegal Argument");if(null===f[0])return null;if(!(f[0]instanceof u))throw Error("Illegal Argument");return null===f[1]?null:A.clip(f[0],f[1])})};F.cut=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);B.pcCheck(f,2,2);if(!(f[1]instanceof y)&&null!==f[1])throw Error("Illegal Argument");if(null===f[0])return[];if(!(f[0]instanceof u))throw Error("Illegal Argument");return null===f[1]?[G.cloneGeometry(f[0])]:A.cut(f[0],f[1])})};F.area=function(c,
q){return E(c,q,function(d,t,f){B.pcCheck(f,1,2);f=B.autoCastFeatureToGeometry(f);if(null===f[0])return 0;if(B.isArray(f[0])||B.isImmutableArray(f[0]))return d=B.autoCastArrayOfPointsToPolygon(f[0],c.spatialReference),null===d?0:A.planarArea(d,G.convertSquareUnitsToCode(B.defaultUndefined(f[1],-1)));if(!(f[0]instanceof u))throw Error("Illegal Argument");return A.planarArea(f[0],G.convertSquareUnitsToCode(B.defaultUndefined(f[1],-1)))})};F.areageodetic=function(c,q){return E(c,q,function(d,t,f){B.pcCheck(f,
1,2);f=B.autoCastFeatureToGeometry(f);if(null===f[0])return 0;if(B.isArray(f[0])||B.isImmutableArray(f[0]))return d=B.autoCastArrayOfPointsToPolygon(f[0],c.spatialReference),null===d?0:A.geodesicArea(d,G.convertSquareUnitsToCode(B.defaultUndefined(f[1],-1)));if(!(f[0]instanceof u))throw Error("Illegal Argument");return A.geodesicArea(f[0],G.convertSquareUnitsToCode(B.defaultUndefined(f[1],-1)))})};F.length=function(c,q){return E(c,q,function(d,t,f){B.pcCheck(f,1,2);f=B.autoCastFeatureToGeometry(f);
if(null===f[0])return 0;if(B.isArray(f[0])||B.isImmutableArray(f[0]))return d=B.autoCastArrayOfPointsToPolyline(f[0],c.spatialReference),null===d?0:A.planarLength(d,G.convertLinearUnitsToCode(B.defaultUndefined(f[1],-1)));if(!(f[0]instanceof u))throw Error("Illegal Argument");return A.planarLength(f[0],G.convertLinearUnitsToCode(B.defaultUndefined(f[1],-1)))})};F.length3d=function(c,q){return E(c,q,function(d,t,f){B.pcCheck(f,1,2);f=B.autoCastFeatureToGeometry(f);if(null===f[0])return 0;if(B.isArray(f[0])||
B.isImmutableArray(f[0]))return d=B.autoCastArrayOfPointsToPolyline(f[0],c.spatialReference),null===d?0:!0===d.hasZ?z(d,G.convertLinearUnitsToCode(B.defaultUndefined(f[1],-1))):A.planarLength(d,G.convertLinearUnitsToCode(B.defaultUndefined(f[1],-1)));if(!(f[0]instanceof u))throw Error("Illegal Argument");return!0===f[0].hasZ?z(f[0],G.convertLinearUnitsToCode(B.defaultUndefined(f[1],-1))):A.planarLength(f[0],G.convertLinearUnitsToCode(B.defaultUndefined(f[1],-1)))})};F.lengthgeodetic=function(c,q){return E(c,
q,function(d,t,f){B.pcCheck(f,1,2);f=B.autoCastFeatureToGeometry(f);if(null===f[0])return 0;if(B.isArray(f[0])||B.isImmutableArray(f[0]))return d=B.autoCastArrayOfPointsToPolyline(f[0],c.spatialReference),null===d?0:A.geodesicLength(d,G.convertLinearUnitsToCode(B.defaultUndefined(f[1],-1)));if(!(f[0]instanceof u))throw Error("Illegal Argument");return A.geodesicLength(f[0],G.convertLinearUnitsToCode(B.defaultUndefined(f[1],-1)))})};F.distance=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);
B.pcCheck(f,2,3);d=f[0];if(B.isArray(f[0])||B.isImmutableArray(f[0]))d=B.autoCastArrayOfPointsToMultiPoint(f[0],c.spatialReference);t=f[1];if(B.isArray(f[1])||B.isImmutableArray(f[1]))t=B.autoCastArrayOfPointsToMultiPoint(f[1],c.spatialReference);if(!(d instanceof u))throw Error("Illegal Argument");if(!(t instanceof u))throw Error("Illegal Argument");return A.distance(d,t,G.convertLinearUnitsToCode(B.defaultUndefined(f[2],-1)))})};F.distancegeodetic=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);
B.pcCheck(f,2,3);d=f[0];t=f[1];if(!(d instanceof e))throw Error("Illegal Argument");if(!(t instanceof e))throw Error("Illegal Argument");const S=new y({paths:[],spatialReference:d.spatialReference});S.addPath([d,t]);return A.geodesicLength(S,G.convertLinearUnitsToCode(B.defaultUndefined(f[2],-1)))})};F.densify=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);B.pcCheck(f,2,3);if(null===f[0])return null;if(!(f[0]instanceof u))throw Error("Illegal Argument");d=B.toNumber(f[1]);
if(isNaN(d))throw Error("Illegal Argument");if(0>=d)throw Error("Illegal Argument");return f[0]instanceof p||f[0]instanceof y?A.densify(f[0],d,G.convertLinearUnitsToCode(B.defaultUndefined(f[2],-1))):f[0]instanceof k?A.densify(l(f[0]),d,G.convertLinearUnitsToCode(B.defaultUndefined(f[2],-1))):f[0]})};F.densifygeodetic=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);B.pcCheck(f,2,3);if(null===f[0])return null;if(!(f[0]instanceof u))throw Error("Illegal Argument");d=B.toNumber(f[1]);
if(isNaN(d))throw Error("Illegal Argument");if(0>=d)throw Error("Illegal Argument");return f[0]instanceof p||f[0]instanceof y?A.geodesicDensify(f[0],d,G.convertLinearUnitsToCode(B.defaultUndefined(f[2],-1))):f[0]instanceof k?A.geodesicDensify(l(f[0]),d,G.convertLinearUnitsToCode(B.defaultUndefined(f[2],-1))):f[0]})};F.generalize=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);B.pcCheck(f,2,4);if(null===f[0])return null;if(!(f[0]instanceof u))throw Error("Illegal Argument");
d=B.toNumber(f[1]);if(isNaN(d))throw Error("Illegal Argument");return A.generalize(f[0],d,B.toBoolean(B.defaultUndefined(f[2],!0)),G.convertLinearUnitsToCode(B.defaultUndefined(f[3],-1)))})};F.buffer=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);B.pcCheck(f,2,3);if(null===f[0])return null;if(!(f[0]instanceof u))throw Error("Illegal Argument");d=B.toNumber(f[1]);if(isNaN(d))throw Error("Illegal Argument");return 0===d?G.cloneGeometry(f[0]):A.buffer(f[0],d,G.convertLinearUnitsToCode(B.defaultUndefined(f[2],
-1)))})};F.buffergeodetic=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);B.pcCheck(f,2,3);if(null===f[0])return null;if(!(f[0]instanceof u))throw Error("Illegal Argument");d=B.toNumber(f[1]);if(isNaN(d))throw Error("Illegal Argument");return 0===d?G.cloneGeometry(f[0]):A.geodesicBuffer(f[0],d,G.convertLinearUnitsToCode(B.defaultUndefined(f[2],-1)))})};F.offset=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);B.pcCheck(f,2,6);if(null===f[0])return null;
if(!(f[0]instanceof p||f[0]instanceof y))throw Error("Illegal Argument");d=B.toNumber(f[1]);if(isNaN(d))throw Error("Illegal Argument");t=B.toNumber(B.defaultUndefined(f[4],10));if(isNaN(t))throw Error("Illegal Argument");const S=B.toNumber(B.defaultUndefined(f[5],0));if(isNaN(S))throw Error("Illegal Argument");return A.offset(f[0],d,G.convertLinearUnitsToCode(B.defaultUndefined(f[2],-1)),B.toString(B.defaultUndefined(f[3],"round")).toLowerCase(),t,S)})};F.rotate=function(c,q){return E(c,q,function(d,
t,f){f=B.autoCastFeatureToGeometry(f);B.pcCheck(f,2,3);d=f[0];if(null===d)return null;if(!(d instanceof u))throw Error("Illegal Argument");d instanceof k&&(d=p.fromExtent(d));t=B.toNumber(f[1]);if(isNaN(t))throw Error("Illegal Argument");f=B.defaultUndefined(f[2],null);if(null===f)return A.rotate(d,t);if(f instanceof e)return A.rotate(d,t,f);throw Error("Illegal Argument");})};F.centroid=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);B.pcCheck(f,1,1);if(null===f[0])return null;
d=f[0];if(B.isArray(f[0])||B.isImmutableArray(f[0]))d=B.autoCastArrayOfPointsToMultiPoint(f[0],c.spatialReference);if(null===d)return null;if(!(d instanceof u))throw Error("Illegal Argument");return d instanceof e?B.fixSpatialReference(G.cloneGeometry(f[0]),c.spatialReference):d instanceof p?d.centroid:d instanceof y?m.centroidPolyline(d):d instanceof n?m.centroidMultiPoint(d):d instanceof k?d.center:null})};F.multiparttosinglepart=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);
B.pcCheck(f,1,1);t=[];if(null===f[0])return null;if(!(f[0]instanceof u))throw Error("Illegal Argument");if(f[0]instanceof e||f[0]instanceof k)return[B.fixSpatialReference(G.cloneGeometry(f[0]),c.spatialReference)];d=A.simplify(f[0]);if(d instanceof p){f=[];t=[];for(var S=0;S<d.rings.length;S++)if(d.isClockwise(d.rings[S])){const da=b.fromJSON({rings:[d.rings[S]],hasZ:!0===d.hasZ,hasM:!0===d.hasM,spatialReference:d.spatialReference.toJSON()});f.push(da)}else t.push({ring:d.rings[S],pt:d.getPoint(S,
0)});for(d=0;d<t.length;d++)for(S=0;S<f.length;S++)if(f[S].contains(t[d].pt)){f[S].addRing(t[d].ring);break}return f}if(d instanceof y){f=[];for(t=0;t<d.paths.length;t++)S=b.fromJSON({paths:[d.paths[t]],hasZ:!0===d.hasZ,hasM:!0===d.hasM,spatialReference:d.spatialReference.toJSON()}),f.push(S);return f}if(f[0]instanceof n){d=B.fixSpatialReference(G.cloneGeometry(f[0]),c.spatialReference);for(f=0;f<d.points.length;f++)t.push(d.getPoint(f));return t}return null})};F.issimple=function(c,q){return E(c,
q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);B.pcCheck(f,1,1);if(null===f[0])return!0;if(!(f[0]instanceof u))throw Error("Illegal Argument");return A.isSimple(f[0])})};F.simplify=function(c,q){return E(c,q,function(d,t,f){f=B.autoCastFeatureToGeometry(f);B.pcCheck(f,1,1);if(null===f[0])return null;if(!(f[0]instanceof u))throw Error("Illegal Argument");return A.simplify(f[0])})}};D.setGeometryEngine=function(F){A=F};Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/kernel":function(){define(["exports",
"../geometry/Extent"],function(D,w){D.cloneGeometry=function(G){if(null===G)return null;const B=G.clone();void 0!==G.cache._geVersion&&(B.cache._geVersion=G.cache._geVersion);return B};D.convertLinearUnitsToCode=function(G){if(void 0===G)return null;if("number"===typeof G)return G;G=G.toLowerCase();G=G.replace(/\s/g,"");G=G.replace(/-/g,"");switch(G){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 9001;case "miles":case "mile":case "squaremile":case "squaremiles":return 9035;
case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 9036;case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 9002;case "nm":case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 9030}return null};D.convertSquareUnitsToCode=function(G){if(void 0===G)return null;if("number"===typeof G)return G;
G=G.toLowerCase();G=G.replace(/\s/g,"");G=G.replace(/-/g,"");switch(G){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 109404;case "miles":case "mile":case "squaremile":case "squaremiles":return 109413;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 109414;case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 109442;
case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 109405;case "nm":case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 109409}return null};D.sameGeomType=function(G,B){return G===B||"point"===G&&"esriGeometryPoint"===B||"polyline"===G&&"esriGeometryPolyline"===B||"polygon"===G&&"esriGeometryPolygon"===B||"extent"===G&&"esriGeometryEnvelope"===B||"multipoint"===G&&"esriGeometryMultipoint"===B||"point"===B&&"esriGeometryPoint"===
G||"polyline"===B&&"esriGeometryPolyline"===G||"polygon"===B&&"esriGeometryPolygon"===G||"extent"===B&&"esriGeometryEnvelope"===G||"multipoint"===B&&"esriGeometryMultipoint"===G?!0:!1};D.shapeExtent=function(G){if(null===G)return null;switch(G.type){case "polygon":case "multipoint":case "polyline":return G.extent;case "point":return new w({xmin:G.x,ymin:G.y,xmax:G.x,ymax:G.y,spatialReference:G.spatialReference});case "extent":return G}return null};Object.defineProperty(D,"__esModule",{value:!0})})},
"esri/arcade/functions/maths":function(){define(["exports","../../chunks/languageUtils","../../core/number"],function(D,w,G){function B(m,k,u){if("undefined"===typeof u||0===+u)return Math[m](k);k=+k;u=+u;if(isNaN(k)||"number"!==typeof u||0!==u%1)return NaN;k=k.toString().split("e");k=Math[m](+(k[0]+"e"+(k[1]?+k[1]-u:-u)));k=k.toString().split("e");return+(k[0]+"e"+(k[1]?+k[1]+u:u))}D.registerFunctions=function(m,k){function u(n,e,p){n=w.toNumber(n);return isNaN(n)?n:isNaN(e)||isNaN(p)||e>p?NaN:n<
e?e:n>p?p:n}m.number=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,1,2);p=b[0];return w.isNumber(p)?p:null===p?0:w.isDate(p)||w.isBoolean(p)?Number(p):w.isArray(p)?NaN:""===p||void 0===p?Number(p):w.isString(p)?void 0!==b[1]?(b=w.multiReplace(b[1],"\u2030",""),b=w.multiReplace(b,"\u00a4",""),G.parse(p,{pattern:b})):Number(p.trim()):Number(p)})};m.abs=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,1,1);return Math.abs(w.toNumber(b[0]))})};m.acos=function(n,e){return k(n,e,function(p,
y,b){w.pcCheck(b,1,1);return Math.acos(w.toNumber(b[0]))})};m.asin=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,1,1);return Math.asin(w.toNumber(b[0]))})};m.atan=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,1,1);return Math.atan(w.toNumber(b[0]))})};m.atan2=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,2,2);return Math.atan2(w.toNumber(b[0]),w.toNumber(b[1]))})};m.ceil=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,1,2);return 2===b.length?(p=w.toNumber(b[1]),
isNaN(p)&&(p=0),B("ceil",w.toNumber(b[0]),-1*p)):Math.ceil(w.toNumber(b[0]))})};m.round=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,1,2);return 2===b.length?(p=w.toNumber(b[1]),isNaN(p)&&(p=0),B("round",w.toNumber(b[0]),-1*p)):Math.round(w.toNumber(b[0]))})};m.floor=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,1,2);return 2===b.length?(p=w.toNumber(b[1]),isNaN(p)&&(p=0),B("floor",w.toNumber(b[0]),-1*p)):Math.floor(w.toNumber(b[0]))})};m.cos=function(n,e){return k(n,e,function(p,
y,b){w.pcCheck(b,1,1);return Math.cos(w.toNumber(b[0]))})};m.isnan=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,1,1);return"number"===typeof b[0]&&isNaN(b[0])})};m.exp=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,1,1);return Math.exp(w.toNumber(b[0]))})};m.log=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,1,1);return Math.log(w.toNumber(b[0]))})};m.pow=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,2,2);return w.toNumber(b[0])**w.toNumber(b[1])})};m.random=function(n,
e){return k(n,e,function(p,y,b){w.pcCheck(b,0,0);return Math.random()})};m.sin=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,1,1);return Math.sin(w.toNumber(b[0]))})};m.sqrt=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,1,1);return Math.sqrt(w.toNumber(b[0]))})};m.tan=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,1,1);return Math.tan(w.toNumber(b[0]))})};m.defaultvalue=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,2,2);return null===b[0]||""===b[0]||void 0===b[0]?
b[1]:b[0]})};m.isempty=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,1,1);return null===b[0]||""===b[0]||void 0===b[0]?!0:!1})};m["boolean"]=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,1,1);return w.toBoolean(b[0])})};m.constrain=function(n,e){return k(n,e,function(p,y,b){w.pcCheck(b,3,3);p=w.toNumber(b[1]);y=w.toNumber(b[2]);if(w.isArray(b[0])){var h=[];for(var l of b[0])h.push(u(l,p,y));return h}if(w.isImmutableArray(b[0])){l=[];for(h=0;h<b[0].length();h++)l.push(u(b[0].get(h),
p,y));return l}return u(b[0],p,y)})}};Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/functions/stats":function(){define(["exports","../../chunks/languageUtils","./fieldStats"],function(D,w,G){function B(m,k,u,n){if(1===n.length){if(w.isArray(n[0]))return G.calculateStat(m,n[0],-1);if(w.isImmutableArray(n[0]))return G.calculateStat(m,n[0].toArray(),-1)}return G.calculateStat(m,n,-1)}D.registerFunctions=function(m,k){m.stdev=function(u,n){return k(u,n,function(e,p,y){return B("stdev",
e,p,y)})};m.variance=function(u,n){return k(u,n,function(e,p,y){return B("variance",e,p,y)})};m.average=function(u,n){return k(u,n,function(e,p,y){return B("mean",e,p,y)})};m.mean=function(u,n){return k(u,n,function(e,p,y){return B("mean",e,p,y)})};m.sum=function(u,n){return k(u,n,function(e,p,y){return B("sum",e,p,y)})};m.min=function(u,n){return k(u,n,function(e,p,y){return B("min",e,p,y)})};m.max=function(u,n){return k(u,n,function(e,p,y){return B("max",e,p,y)})};m.distinct=function(u,n){return k(u,
n,function(e,p,y){return B("distinct",e,p,y)})};m.count=function(u,n){return k(u,n,function(e,p,y){w.pcCheck(y,1,1);if(w.isArray(y[0])||w.isString(y[0]))return y[0].length;if(w.isImmutableArray(y[0]))return y[0].length();throw Error("Invalid Parameters for Count");})}};Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/functions/fieldStats":function(){define(["exports","../../chunks/languageUtils"],function(D,w){function G(m){let k=0;for(let u=0;u<m.length;u++)k+=m[u];return k/m.length}
function B(m){const k=G(m);let u=0;for(let n=0;n<m.length;n++)u+=(k-m[n])**2;return u/m.length}D.calculateStat=function(m,k,u=1E3){switch(m.toLowerCase()){case "distinct":a:{m=[];const n={},e=[];for(let p=0;p<k.length;p++){if(void 0!==k[p]&&null!==k[p]&&k[p]!==w.voidOperation){const y=k[p];if(w.isNumber(y)||w.isString(y))void 0===n[y]&&(m.push(y),n[y]=1);else{let b=!1;for(let h=0;h<e.length;h++)!0===w.equalityTest(e[h],y)&&(b=!0);!1===b&&(e.push(y),m.push(y))}}if(m.length>=u&&-1!==u){k=m;break a}}k=
m}return k;case "avg":case "mean":return G(w.toNumberArray(k));case "min":return Math.min.apply(Math,w.toNumberArray(k));case "sum":k=w.toNumberArray(k);u=0;for(m=0;m<k.length;m++)u+=k[m];return k=u;case "max":return Math.max.apply(Math,w.toNumberArray(k));case "stdev":case "stddev":return Math.sqrt(B(w.toNumberArray(k)));case "var":case "variance":return B(w.toNumberArray(k));case "count":return k.length}return 0};D.decodeStatType=function(m){switch(m.toLowerCase()){case "distinct":return"distinct";
case "avg":case "mean":return"avg";case "min":return"min";case "sum":return"sum";case "max":return"max";case "stdev":case "stddev":return"stddev";case "var":case "variance":return"var";case "count":return"count"}return""};Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/functions/string":function(){define("exports ../ArcadePortal ../Attachment ../Dictionary ../Feature ../../chunks/languageUtils ../featureset/support/shared ./convertdirection ./hash ../../geometry/Extent ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/SpatialReference".split(" "),
function(D,w,G,B,m,k,u,n,e,p,y,b,h,l,z){function A(E,N){if(E.x===N.x&&E.y===N.y){if(E.hasZ){if(E.z!==N.z)return!1}else if(N.hasZ)return!1;if(E.hasM){if(E.m!==N.m)return!1}else if(N.hasM)return!1;return!0}return!1}function F(E,N,c){if(null===E)N.updateUint8Array([0,139]);else if(k.isArray(E)){N.updateUint8Array([61]);if(c.map.has(E))E=c.map.get(E),N.updateIntArray([E^61237541]);else{c.map.set(E,c.currentLength++);for(var q of E)F(q,N,c);c.map.delete(E);c.currentLength--}N.updateUint8Array([199])}else if(k.isImmutableArray(E)){N.updateUint8Array([61]);
if(c.map.has(E))E=c.map.get(E),N.updateIntArray([E^61237541]);else{c.map.set(E,c.currentLength++);for(var d of E.toArray())F(d,N,c);c.map.delete(E);c.currentLength--}N.updateUint8Array([199])}else if(k.isDate(E))N.updateIntArray([E.getTime()]),N.updateUint8Array([241]);else if(k.isString(E))N.updateIntArray([E.length]),N.updateWithString(E),N.updateUint8Array([41]);else if(k.isBoolean(E))N.updateUint8Array([!0===E?1:0,113]);else if(k.isNumber(E))N.updateFloatArray([E]),N.updateUint8Array([173]);else{if(E instanceof
G)throw Error("Type not supported in Hash");if(E instanceof w)throw Error("Type not supported in Hash");if(E instanceof B){N.updateUint8Array([223]);if(c.map.has(E))E=c.map.get(E),N.updateIntArray([E^61237541]);else{c.map.set(E,c.currentLength++);for(var t of E.keys())N.updateIntArray([t.length]),N.updateWithString(t),N.updateUint8Array([251]),q=E.field(t),F(q,N,c),N.updateUint8Array([239]);c.map.delete(E);c.currentLength--}N.updateUint8Array([73])}else{if(E instanceof m)throw Error("Type not supported in Hash");
if(E instanceof b)N.updateIntArray([3833836621]),N.updateIntArray([0]),N.updateFloatArray([E.x]),N.updateIntArray([1]),N.updateFloatArray([E.y]),E.hasZ&&(N.updateIntArray([2]),N.updateFloatArray([E.z])),E.hasM&&(N.updateIntArray([3]),N.updateFloatArray([E.m])),N.updateIntArray([3765347959]),F(E.spatialReference.wkid,N,c);else if(E instanceof h){N.updateIntArray([1266616829]);for(t=0;t<E.rings.length;t++){d=E.rings[t];q=[];var f=null;let S=null;for(let da=0;da<d.length;da++){const aa=E.getPoint(t,
da);if(0===da)f=aa;else if(A(S,aa))continue;S=aa;da===d.length-1&&A(f,aa)||q.push(aa)}N.updateIntArray([1397116793,q.length]);for(d=0;d<q.length;d++)f=q[d],N.updateIntArray([3962308117,d]),F(f,N,c),N.updateIntArray([2716288009]);N.updateIntArray([2278822459])}N.updateIntArray([3878477243]);F(E.spatialReference.wkid,N,c)}else if(E instanceof l){N.updateIntArray([4106883559]);for(t=0;t<E.paths.length;t++){q=E.paths[t];N.updateIntArray([1397116793,q.length]);for(d=0;d<q.length;d++)N.updateIntArray([3962308117,
d]),F(E.getPoint(t,d),N,c),N.updateIntArray([2716288009]);N.updateIntArray([2278822459])}N.updateIntArray([2568784753]);F(E.spatialReference.wkid,N,c)}else if(E instanceof y){N.updateIntArray([588535921,E.points.length]);for(t=0;t<E.points.length;t++)q=E.getPoint(t),N.updateIntArray([t]),F(q,N,c);N.updateIntArray([1700171621]);F(E.spatialReference.wkid,N,c)}else if(E instanceof p)N.updateIntArray([3483648373]),N.updateIntArray([0]),N.updateFloatArray([E.xmax]),N.updateIntArray([1]),N.updateFloatArray([E.xmin]),
N.updateIntArray([2]),N.updateFloatArray([E.ymax]),N.updateIntArray([3]),N.updateFloatArray([E.ymin]),E.hasZ&&(N.updateIntArray([4]),N.updateFloatArray([E.zmax]),N.updateIntArray([5]),N.updateFloatArray([E.zmin])),E.hasM&&(N.updateIntArray([6]),N.updateFloatArray([E.mmax]),N.updateIntArray([7]),N.updateFloatArray([E.mmin])),N.updateIntArray([3622027469]),F(E.spatialReference.wkid,N,c);else if(E instanceof z)N.updateIntArray([14]),void 0!==E.wkid&&null!==E.wkid&&N.updateIntArray([E.wkid]),E.wkt&&N.updateWithString(E.wkt);
else{if(k.isFunctionParameter(E))throw Error("Type not supported in Hash");if(k.isFeatureSet(E))throw Error("Type not supported in Hash");k.isFeatureSetCollection(E);throw Error("Type not supported in Hash");}}}}D.registerFunctions=function(E,N){E.portal=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,1,1);return new w(k.toString(f[0]))})};E.trim=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,1,1);return k.toString(f[0]).trim()})};E.tohex=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,
1,1);d=k.toNumber(f[0]);return isNaN(d)?d:d.toString(16)})};E.upper=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,1,1);return k.toString(f[0]).toUpperCase()})};E.proper=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,1,2);d=1;2===f.length&&"firstword"===k.toString(f[1]).toLowerCase()&&(d=2);t=/\s/;f=k.toString(f[0]);let S="",da=!0;for(let aa=0;aa<f.length;aa++){let Ja=f[aa];t.test(Ja)?1===d&&(da=!0):Ja.toUpperCase()!==Ja.toLowerCase()&&(da?(Ja=Ja.toUpperCase(),da=!1):Ja=Ja.toLowerCase());
S+=Ja}return S})};E.lower=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,1,1);return k.toString(f[0]).toLowerCase()})};E.guid=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,0,1);if(0<f.length)switch(k.toString(f[0]).toLowerCase()){case "digits":return k.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return k.generateUUID();case "digits-hyphen-parentheses":return"("+k.generateUUID()+")"}return"{"+k.generateUUID()+"}"})};E.console=
function(c,q){return N(c,q,function(d,t,f){0!==f.length&&(1===f.length?c.console(k.toString(f[0])):c.console(k.toString(f)));return k.voidOperation})};E.mid=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,2,3);d=k.toNumber(f[1]);if(isNaN(d))return"";0>d&&(d=0);if(2===f.length)return k.toString(f[0]).substr(d);t=k.toNumber(f[2]);if(isNaN(t))return"";0>t&&(t=0);return k.toString(f[0]).substr(d,t)})};E.find=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,2,3);d=0;if(2<f.length){d=k.toNumber(k.defaultUndefined(f[2],
0));if(isNaN(d))return-1;0>d&&(d=0)}return k.toString(f[1]).indexOf(k.toString(f[0]),d)})};E.left=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,2,2);d=k.toNumber(f[1]);if(isNaN(d))return"";0>d&&(d=0);return k.toString(f[0]).substr(0,d)})};E.right=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,2,2);d=k.toNumber(f[1]);if(isNaN(d))return"";0>d&&(d=0);return k.toString(f[0]).substr(-1*d,d)})};E.split=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,2,4);d=k.toNumber(k.defaultUndefined(f[2],
-1));t=k.toBoolean(k.defaultUndefined(f[3],!1));-1===d||null===d||!0===t?f=k.toString(f[0]).split(k.toString(f[1])):(isNaN(d)&&(d=-1),-1>d&&(d=-1),f=k.toString(f[0]).split(k.toString(f[1]),d));if(!1===t)return f;t=[];for(let S=0;S<f.length&&!(-1!==d&&t.length>=d);S++)""!==f[S]&&void 0!==f[S]&&t.push(f[S]);return t})};E.text=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,1,2);return k.toStringExplicit(f[0],f[1])})};E.concatenate=function(c,q){return N(c,q,function(d,t,f){d=[];if(1>f.length)return"";
if(k.isArray(f[0])){t=k.defaultUndefined(f[2],"");for(var S=0;S<f[0].length;S++)d[S]=k.toStringExplicit(f[0][S],t);return 1<f.length?d.join(f[1]):d.join("")}if(k.isImmutableArray(f[0])){t=k.defaultUndefined(f[2],"");for(S=0;S<f[0].length();S++)d[S]=k.toStringExplicit(f[0].get(S),t);return 1<f.length?d.join(f[1]):d.join("")}for(t=0;t<f.length;t++)d[t]=k.toStringExplicit(f[t]);return d.join("")})};E.reverse=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,1,1);if(k.isArray(f[0]))return d=f[0].slice(0),
d.reverse(),d;if(k.isImmutableArray(f[0]))return d=f[0].toArray().slice(0),d.reverse(),d;throw Error("Invalid Parameter");})};E.replace=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,3,4);d=k.toString(f[0]);t=k.toString(f[1]);const S=k.toString(f[2]);return(4===f.length?k.toBoolean(f[3]):1)?k.multiReplace(d,t,S):d.replace(t,S)})};E.schema=function(c,q){return N(c,q,function(d,t,f){if(f[0]instanceof m)return(d=f[0].schema())?B.convertObjectToArcadeDictionary(d):null;throw Error("Invalid Parameter");
})};E.subtypes=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,1,1);if(f[0]instanceof m)return(d=f[0].subtypes())?B.convertObjectToArcadeDictionary(d):null;throw Error("Invalid Parameter");})};E.subtypecode=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,1,1);if(f[0]instanceof m){d=f[0].subtypes();if(!d)return null;if(d.subtypeField&&f[0].hasField(d.subtypeField)){f=f[0].field(d.subtypeField);for(const S of d.subtypes)if(S.code===f)return S.code}return null}throw Error("Invalid Parameter");
})};E.subtypename=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,1,1);if(f[0]instanceof m){d=f[0].subtypes();if(!d)return"";if(d.subtypeField&&f[0].hasField(d.subtypeField)){f=f[0].field(d.subtypeField);for(const S of d.subtypes)if(S.code===f)return S.name}return""}throw Error("Invalid Parameter");})};E.gdbversion=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,1,1);if(f[0]instanceof m)return f[0].gdbVersion();throw Error("Invalid Parameter");})};E.domain=function(c,q){return N(c,q,
function(d,t,f){k.pcCheck(f,2,3);if(f[0]instanceof m)return(d=f[0].fullDomain(k.toString(f[1]),void 0===f[2]?void 0:k.toNumber(f[2])))&&d.domain?"coded-value"===d.domain.type||"codedValue"===d.domain.type?B.convertObjectToArcadeDictionary({type:"codedValue",name:d.domain.name,dataType:u.layerFieldEsriConstants[d.field.type],codedValues:d.domain.codedValues.map(S=>({name:S.name,code:S.code}))}):B.convertObjectToArcadeDictionary({type:"range",name:d.domain.name,dataType:u.layerFieldEsriConstants[d.field.type],
min:d.domain.min,max:d.domain.max}):null;throw Error("Invalid Parameter");})};E.domainname=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,2,4);if(f[0]instanceof m)return f[0].domainValueLookup(k.toString(f[1]),f[2],void 0===f[3]?void 0:k.toNumber(f[3]));throw Error("Invalid Parameter");})};E.domaincode=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,2,4);if(f[0]instanceof m)return f[0].domainCodeLookup(k.toString(f[1]),f[2],void 0===f[3]?void 0:k.toNumber(f[3]));throw Error("Invalid Parameter");
})};E.urlencode=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,1,1);if(null===f[0])return"";if(f[0]instanceof B){d="";for(const S of f[0].keys())t=f[0].field(S),""!==d&&(d+="\x26"),d=null===t?d+(encodeURIComponent(S)+"\x3d"):d+(encodeURIComponent(S)+"\x3d"+encodeURIComponent(t));return d}return encodeURIComponent(k.toString(f[0]))})};E.hash=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,1,1);d=new e.XXH(0);F(f[0],d,{map:new Map,currentLength:0});return d.digest()})};E.convertdirection=
function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,3,3);return n.convertDirection(f[0],f[1],f[2])})};E.fromjson=function(c,q){return N(c,q,function(d,t,f){k.pcCheck(f,1,1);if(!1===k.isString(f[0]))throw Error("Invalid Parameter");return B.convertJsonToArcade(JSON.parse(k.toString(f[0])))})};E.expects=function(c,q){return N(c,q,function(d,t,f){if(1>f.length)throw Error("Function called with wrong number of Parameters");return k.voidOperation})}};Object.defineProperty(D,"__esModule",{value:!0})})},
"esri/arcade/functions/convertdirection":function(){define(["exports","../Dictionary","../../chunks/languageUtils"],function(D,w,G){function B(M){if(!1===G.isString(M))throw Error("Invalid Parameter");return M}function m(M,V){V=10**V;return Math.round(M*V)/V}function k(M){const V=parseFloat(M.toString().replace(Math.trunc(M).toString(),"0"))*Math.sign(M);return 0>M?{fraction:V,integer:Math.ceil(M)}:{fraction:V,integer:Math.floor(M)}}function u(M,V){switch(M){case 0:return"SHORT"===V?"N":"North";case 1:return"SHORT"===
V?"E":"East";case 2:return"SHORT"===V?"S":"South";case 3:return"SHORT"===V?"W":"West"}}function n(M,V,U){for(;M.length<U;)M=V+M;return M}function e(M,V){return M-Math.floor(M/V)*V}function p(M){switch(M){case 6:case 1:return 360;case 4:return na;case 5:return 400;case 2:return 1296E3;case 7:return 60;case 8:return 60;default:throw Error("Unnexpected evaluations");}}function y(M){switch(M.toUpperCase().trim()){case "NORTH":case "NORTHAZIMUTH":case "NORTH AZIMUTH":return 1;case "POLAR":return 2;case "QUADRANT":return 3;
case "SOUTH":case "SOUTHAZIMUTH":case "SOUTH AZIMUTH":return 4}throw Error("Unsupported direction type");}function b(M){switch(M.toUpperCase().trim()){case "D":case "DD":case "DECIMALDEGREE":case "DECIMAL DEGREE":case "DEGREE":case "DECIMALDEGREES":case "DECIMAL DEGREES":case "DEGREES":return 1;case "DMS":case "DEGREESMINUTESSECONDS":case "DEGREES MINUTES SECONDS":return 3;case "R":case "RAD":case "RADS":case "RADIAN":case "RADIANS":return 4;case "G":case "GON":case "GONS":case "GRAD":case "GRADS":case "GRADIAN":case "GRADIANS":return 5}throw Error("Unsupported units");
}function h(M,V,U){let W=null;switch(V){case 1:W=aa(M,3600);break;case 2:W=M;break;case 5:W=aa(M,3240);break;case 4:W=aa(M,Ca);break;default:throw Error("Unnexpected evaluation");}switch(U){case 1:return Ja(W,3600);case 2:return W;case 5:return Ja(W,3240);case 4:return W/Ca;default:throw Error("Unnexpected evaluation");}}function l(M){switch(M){case 1:case 6:case 3:return 1;case 5:return 5;case 7:return 7;case 4:return 4;case 2:case 8:return 2}}function z(M){switch(G.toNumber(M)){case 1:return{first:0,
second:1};case 2:return{first:2,second:1};case 3:return{first:2,second:3};case 4:return{first:0,second:3}}return null}function A(M){switch(M.toUpperCase().trim()){case "N":case "NORTH":return 0;case "E":case "EAST":return 1;case "S":case "SOUTH":return 2;case "W":case "WEST":return 3}return null}function F(M){M=parseFloat(M);if(G.isNumber(M)){if(isNaN(M))throw Error("Invalid conversion");return M}throw Error("Invalid conversion");}function E(M,V,U){const W=3===U;let ka=null;var ra=null;let za=0;var qa=
0;qa=0;if(W){if(2>M.length)throw Error("Conversion Error");qa=1;(ra=z(G.toString(M[M.length-1])))?(ka=ra.first,ra=ra.second):(za=1,ka=A(G.toString(M[0])),ra=A(G.toString(M[M.length-1])));if(null===ka||null===ra)throw Error("Invalid Conversion");}switch(V){case 1:case 4:case 5:if(0===M.length)throw Error("Invalid Conversion");return W?fa.createFromAngleMeridianAndDirection(la.createFromAngleAndUnits(F(M[za]),l(V)),ka,ra):fa.createFromAngleAndDirection(la.createFromAngleAndUnits(F(M[za]),l(V)),U);case 3:qa=
M.length-qa-za;if(3===qa)return M=la.createFromDegreesMinutesSeconds(F(M[za]),F(M[za+1]),F(M[za+2])),W?fa.createFromAngleMeridianAndDirection(M,ka,ra):fa.createFromAngleAndDirection(M,U);if(1===qa)return M=F(M[za]),M=Qa.number_to_dms(M),M=la.createFromDegreesMinutesSeconds(M.m_degrees,M.m_minutes,M.m_seconds),W?fa.createFromAngleMeridianAndDirection(M,ka,ra):fa.createFromAngleAndDirection(M,U)}throw Error("Conversion Error");}function N(M){const V=[" ","-","/","'",'"',"\\","^","\u00b0",Ua,"\t","\r",
"\n","*"];let U="";for(let W=0;W<M.length;W++){const ka=M.charAt(W);U=-1!==V.indexOf(ka)?U+"RRSPLITRRSPLITRR":U+ka}return U.split("RRSPLITRRSPLITRR").filter(W=>""!==W)}function c(M,V,U){const W={padding:0,rounding:0,newpos:V};let ka=!1;for(;V<M.length;){const ra=M[V];if(ra===U)ka?W.rounding++:W.padding++,V++;else if("."===ra)ka=!0,V++;else break}W.newpos=V-1;return W}const q=M=>(V,U,W)=>{W=W||14;return+M(V,U).toFixed(W)},d=(M,V)=>M+V,t=(M,V)=>M-V,f=(M,V)=>M*V,S=(M,V)=>M/V,da=(M,V,U)=>q(d)(M,V,U),
aa=(M,V,U)=>q(f)(M,V,U),Ja=(M,V,U)=>q(S)(M,V,U),na=2*Math.PI,Ca=648E3/Math.PI,Ua=String.fromCharCode(7501);let Qa=function(){function M(U,W,ka){this.m_degrees=U;this.m_minutes=W;this.m_seconds=ka}var V=M.prototype;V.get_field=function(U){switch(U){case 1:case 6:return this.m_degrees;case 7:return this.m_minutes;case 2:case 8:return this.m_seconds;default:throw Error("Unnexpected evaluation");}};M.seconds_to_DMS=function(U){const W=k(U).fraction;U=k(U).integer;const ka=Math.floor(U/3600);U-=3600*ka;
const ra=Math.floor(U/60);return new M(ka,ra,U-60*ra+W)};M.number_to_dms=function(U){var W=k(U).fraction;U=k(U).integer;const ka=aa(k(100*W).fraction,100);W=k(100*W).integer;return new M(U,W,ka)};V.format=function(U,W){W=m(this.m_seconds,W);let ka=this.m_minutes,ra=this.m_degrees;if(2===U||8===U)60<=W&&(W-=60,++ka),60<=ka&&(ka=0,++ra),360<=ra&&(ra=0);else if(7===U)W=0,ka=30<=this.m_seconds?this.m_minutes+1:this.m_minutes,ra=this.m_degrees,60<=ka&&(ka=0,++ra),360<=ra&&(ra=0);else if(1===U||6===U)U=
Ja(this.m_seconds,3600),W=Ja(this.m_minutes,60),ra=Math.round(this.m_degrees+W+U),W=ka=0;return new M(ra,ka,W)};M.DMS_to_seconds=function(U,W,ka){return 3600*U+60*W+ka};return M}(),ha=function(){function M(V,U,W){this.meridian=V;this.angle=U;this.direction=W}M.prototype.fetch_azimuth=function(V){return 0===V?this.meridian:this.direction};return M}(),fa=function(){function M(U){this.m_angle=U}M.createFromAngleAndDirection=function(U,W){return new M(new la(M.convertDirectionFormat(U.extract_angular_units(2),
W,1)))};var V=M.prototype;V.getAngle=function(U){const W=this.m_angle.extract_angular_units(2);switch(U){case 1:case 4:case 2:return new la(M.convertDirectionFormat(W,1,U));case 3:return U=M.seconds_north_azimuth_to_quadrant(W),new la(U.angle)}};V.getMeridian=function(U){const W=this.m_angle.extract_angular_units(2);switch(U){case 1:return 0;case 4:return 2;case 2:return 1;case 3:return M.seconds_north_azimuth_to_quadrant(W).meridian}};V.getDirection=function(U){const W=this.m_angle.extract_angular_units(2);
switch(U){case 1:return 1;case 4:return 3;case 2:return 0;case 3:return M.seconds_north_azimuth_to_quadrant(W).direction}};M.seconds_north_azimuth_to_quadrant=function(U){const W=324E3>=U||972E3<=U?0:2;return new ha(W,0===W?Math.min(1296E3-U,U):Math.abs(U-648E3),648E3<U?3:1)};M.createFromAngleMeridianAndDirection=function(U,W,ka){return new M(new la(M.secondsQuadrantToNorthAzimuth(U.extract_angular_units(2),W,ka)))};M.secondsQuadrantToNorthAzimuth=function(U,W,ka){return 0===W?1===ka?U:1296E3-U:1===
ka?648E3-U:648E3+U};M.convertDirectionFormat=function(U,W,ka){let ra=0;switch(W){case 1:ra=U;break;case 2:ra=324E3-U;break;case 3:throw Error("Unnexpected evaluation");case 4:ra=U+648E3}U=0;switch(ka){case 1:U=ra;break;case 2:U=324E3-ra;break;case 3:throw Error("Unnexpected evaluation");case 4:U=ra-648E3}U%=1296E3;return 0>U?1296E3+U:U};return M}(),la=function(){function M(V){this.m_seconds=V}M.createFromAngleAndUnits=function(V,U){return new M(h(V,U,2))};M.prototype.extract_angular_units=function(V){return h(this.m_seconds,
2,l(V))};M.createFromDegreesMinutesSeconds=function(V,U,W){return new M(da(da(aa(V,3600),aa(U,60)),W))};return M}(),ma=function(){function M(U,W,ka,ra){this.m_view=U;this.m_angle=W;this.m_merdian=ka;this.m_direction=ra;this.m_formatted_dms=this.m_dms=null}M.createFromStringAndBearing=function(U,W,ka){return new M(U,W.getAngle(ka),W.getMeridian(ka),W.getDirection(ka))};var V=M.prototype;V.fetch_angle=function(){return this.m_angle};V.fetch_meridian=function(){return this.m_merdian};V.fetch_direction=
function(){return this.m_direction};V.fetch_m_view=function(){return this.m_view};V.fetch_dms=function(){null===this.m_dms&&this.calculate_dms();return this.m_dms};V.fetch_formatted_dms=function(){null===this.m_formatted_dms&&this.calculate_dms();return this.m_formatted_dms};V.calculate_dms=function(){var U=null;let W=6,ka=0;for(U=0;U<this.m_view.length;U++){const ra=this.m_view[U];switch(ra){case "m":U=c(this.m_view,U,ra);W=6===W?7:W;U=U.newpos;continue;case "s":U=c(this.m_view,U,ra),W=8,ka=ka<U.rounding?
U.rounding:ka,U=U.newpos}}this.m_dms=Qa.seconds_to_DMS(this.m_angle.extract_angular_units(2));this.m_formatted_dms=Qa.seconds_to_DMS(this.m_angle.extract_angular_units(2)).format(W,ka)};return M}();D.convertDirection=function(M,V,U){if(!(V instanceof w))throw Error("Invalid Parameter");if(!1===V.hasField("directionType"))throw Error("Invalid Parameter - Missing directionType");if(!1===V.hasField("angleType"))throw Error("Invalid Parameter - Missing directionType");var W=y(B(V.field("directiontype")));
V=b(B(V.field("angletype")));if(G.isNumber(M)){M=G.toNumber(M);if(3===W)throw Error("Conversion error");3===V?(M=Qa.number_to_dms(M),W=fa.createFromAngleAndDirection(la.createFromDegreesMinutesSeconds(M.m_degrees,M.m_minutes,M.m_seconds),W)):W=fa.createFromAngleAndDirection(la.createFromAngleAndUnits(M,l(V)),W)}else if(G.isString(M))W=E(N(M),V,W);else if(G.isArray(M))W=E(M,V,W);else if(G.isImmutableArray(M))W=E(M.toArray(),V,W);else throw Error("Conversion Error");if(!(U instanceof w))throw Error("Invalid Parameter");
if(!1===U.hasField("directionType"))throw Error("Invalid Parameter - Missing directionType");if(!1===U.hasField("outputType"))throw Error("Invalid Parameter - Missing directionType");M=y(B(U.field("directiontype")));V=U.hasField("angleType")?b(B(U.field("angletype"))):null;var ka=B(U.field("outputType")).toUpperCase().trim();if(!M||!ka)throw Error("Conversion error");if(!(V||"TEXT"===ka&&U.hasField("format")))throw Error("Invalid unit");switch(ka){case "VALUE":if(3===M||3===V)return U=W.getAngle(M),
3===M&&3===V?(U=Qa.seconds_to_DMS(U.extract_angular_units(2)),W=[u(W.getMeridian(M),"SHORT"),U.m_degrees,U.m_minutes,U.m_seconds,u(W.getDirection(M),"SHORT")]):3===V?(W=Qa.seconds_to_DMS(U.extract_angular_units(2)),W=[W.m_degrees,W.m_minutes,W.m_seconds]):W=3===M?[u(W.getMeridian(M),"SHORT"),U.extract_angular_units(V),u(W.getDirection(M),"SHORT")]:[U.extract_angular_units(V)],W;if((U=l(V))&&3!==V)W=W.getAngle(M).extract_angular_units(U);else throw Error("Conversion Error");return W;case "TEXT":ka=
"";U.hasField("format")&&(ka=G.toString(U.field("format")));if(null===ka||""===ka){U="";switch(V){case 1:U=3===M?"DD.DD\u00b0":"DDD.DD\u00b0";break;case 3:U=3===M?"dd\u00b0 mm' ss\"":"ddd\u00b0 mm' ss.ss\"";break;case 4:U="R.RR";break;case 5:U="GGG.GG"+Ua;break;default:throw Error("Conversion error");}3===M&&(U="p "+U+" b");ka=U}U=ka;var ra="",za=null,qa=null;V=ma.createFromStringAndBearing(U,W,M);ka={D:1,d:6,m:7,s:8,R:4,G:5};for(qa=0;qa<U.length;qa++){var ba=U[qa];switch(ba){case "[":za=U;ba={escaped:"",
newpos:qa};for(qa++;qa<za.length;){var ia=za[qa];qa++;if("]"===ia)break;ba.escaped+=ia}ba.newpos=qa-1;za=ba;ra+=za.escaped;qa=za.newpos;continue;case "D":case "d":case "m":case "s":case "R":case "G":za=c(U,qa,ba);qa=W.getAngle(M);a:{ba=ka[ba];ia=za.padding;var wa=za.rounding,J=V;let H=null;switch(ba){case 1:case 4:case 5:H=e(m(qa.extract_angular_units(ba),wa),p(ba));qa=n(H.toFixed(wa),"0",ia+wa+(0<wa?1:0));break a;case 6:case 7:H=e(J.fetch_formatted_dms().get_field(ba),p(ba));qa=n(H.toFixed(wa),"0",
ia+wa+(0<wa?1:0));break a;case 8:H=e(m(J.fetch_dms().get_field(ba),wa),p(ba));qa=n(H.toFixed(wa),"0",ia+wa+(0<wa?1:0));break a;default:throw Error("Unnexepected evaluation");}}ra+=qa;qa=za.newpos;continue;case "P":case "p":ra+=u(V.fetch_meridian(),"p"===ba?"SHORT":"LONG");continue;case "B":case "b":ra+=u(V.fetch_direction(),"b"===ba?"SHORT":"LONG");continue;default:ra+=ba}}return W=ra;default:throw Error("Invalid Parameter");}};D.preciseAdd=da;D.preciseDivide=Ja;D.preciseMinus=(M,V,U)=>q(t)(M,V,U);
D.preciseMultiply=aa;Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/functions/hash":function(){define(["exports"],function(D){function w(B){const m=[];for(let k=0,u=B.length;k<u;k++){let n=B.charCodeAt(k);128>n?m.push(n):2048>n?m.push(192|n>>6,128|n&63):55296>n||57344<=n?m.push(224|n>>12,128|n>>6&63,128|n&63):(k++,n=65536+((n&1023)<<10|B.charCodeAt(k)&1023),m.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63))}return new Uint8Array(m)}let G=function(){function B(k){this.seed=k;this.totallen=
0;this.bufs=[];this.init()}var m=B.prototype;m.init=function(){this.bufs=[];this.totallen=0;return this};m.updateFloatArray=function(k){const u=[];for(const n of k)isNaN(n)?u.push("NaN"):Infinity===n?u.push("Infinity"):-Infinity===n?u.push("-Infinity"):0===n?u.push("0"):u.push(n.toString(16));this.update(w(u.join("")))};m.updateIntArray=function(k){k=Int32Array.from(k);this.update(new Uint8Array(k.buffer))};m.updateUint8Array=function(k){this.update(Uint8Array.from(k))};m.updateWithString=function(k){return this.update(w(k))};
m.update=function(k){this.bufs.push(k);this.totallen+=k.length;return this};m.digest=function(){const k=new Uint8Array(this.totallen);let u=0;for(const n of this.bufs)k.set(n,u),u+=n.length;this.init();return this.xxHash32(k,this.seed)};m.xxHash32=function(k,u=0){var n=u+374761393&4294967295;let e=0;if(16<=k.length){n=[u+2654435761+2246822519&4294967295,u+2246822519&4294967295,u+0&4294967295,u-2654435761&4294967295];u=k.length-16;var p=0;for(e=0;(e&4294967280)<=u;e+=4){var y=e;y=n[p]+(2246822519*
(k[y+0]+(k[y+1]<<8))+(2246822519*(k[y+2]+(k[y+3]<<8))<<16))&4294967295;y=y<<13|y>>>19;n[p]=2654435761*(y&65535)+(2654435761*(y>>>16)<<16)&4294967295;p=p+1&3}n=(n[0]<<1|n[0]>>>31)+(n[1]<<7|n[1]>>>25)+(n[2]<<12|n[2]>>>20)+(n[3]<<18|n[3]>>>14)&4294967295}n=n+k.length&4294967295;for(u=k.length-4;e<=u;e+=4)p=e,n=n+(3266489917*(k[p+0]+(k[p+1]<<8))+(3266489917*(k[p+2]+(k[p+3]<<8))<<16))&4294967295,n=n<<17|n>>>15,n=668265263*(n&65535)+(668265263*(n>>>16)<<16)&4294967295;for(;e<k.length;++e)n+=374761393*k[e],
n=n<<11|n>>>21,n=2654435761*(n&65535)+(2654435761*(n>>>16)<<16)&4294967295;n^=n>>>15;n=(2246822519*(n&65535)&4294967295)+(2246822519*(n>>>16)<<16);n^=n>>>13;n=(3266489917*(n&65535)&4294967295)+(3266489917*(n>>>16)<<16);n^=n>>>16;return 0>n?n+4294967296:n};return B}();D.XXH=G;Object.defineProperty(D,"__esModule",{value:!0})})},"esri/views/2d/layers/features/support/FeatureSetReader":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../geometry ../../../../../core/has ../../../../../core/maybe ../../../../../layers/graphics/centroid ../../../../../layers/graphics/featureConversionUtils ../../../../../layers/graphics/OptimizedGeometry ./StaticBitSet ../../../../../geometry/support/jsonUtils".split(" "),
function(D,w,G,B,m,k,u,n,e,p){var y,b;let h=0;G=null!=(y=B("featurelayer-simplify-thresholds"))?y:[.5,.5,.5,.5];const l=G[0],z=G[1],A=G[2],F=G[3];B=null!=(b=B("featurelayer-simplify-payload-size-factors"))?b:[1,2,4];const E=B[0],N=B[1],c=B[2];b=function(){function q(t){this.type="FeatureSetReader";this.seen=!1;this._ty=this._tx=this.instance=0;this._sy=this._sx=1;this._deleted=null;this._joined=[];this._objectIdToIndex=null;this._level=0;this.instance=t}q.createInstance=function(){h++;return h=65535<
h?0:h};var d=q.prototype;d.getAreaSimplificationThreshold=function(t,f){let S=1;4E6<f?S=c:1E6<f?S=N:5E5<f&&(S=E);f=0;4E3<t?f=F*S:2E3<t?f=A*S:100<t?f=z:15<t&&(f=l);t=8;4>this._level?t=1:5>this._level?t=2:6>this._level&&(t=4);return f*t};d.setArcadeSpatialReference=function(t){this._arcadeSpatialReference=t};d.attachStorage=function(t){this._storage=t};d.getQuantizationTransform=function(){throw Error("Unable to find transform for featureSet");};d.getStorage=function(){return this._storage};d.getComputedNumeric=
function(t){return this.getComputedNumericAtIndex(0)};d.setComputedNumeric=function(t,f){return this.setComputedNumericAtIndex(f,0)};d.getComputedString=function(t){return this.getComputedStringAtIndex(0)};d.setComputedString=function(t,f){return this.setComputedStringAtIndex(0,f)};d.getComputedNumericAtIndex=function(t){return this._storage.getComputedNumericAtIndex(this.getDisplayId(),t)};d.setComputedNumericAtIndex=function(t,f){this._storage.setComputedNumericAtIndex(this.getDisplayId(),t,f)};
d.getComputedStringAtIndex=function(t){return this._storage.getComputedStringAtIndex(this.getDisplayId(),t)};d.setComputedStringAtIndex=function(t,f){return this._storage.setComputedStringAtIndex(this.getDisplayId(),t,f)};d.transform=function(t,f,S,da){const aa=this.copy();aa._tx+=t;aa._ty+=f;aa._sx*=S;aa._sy*=da;return aa};d.readAttribute=function(t,f=!1){var S=this._readAttribute(t,f);if(void 0!==S)return S;for(const da of this._joined)if(da.setIndex(this.getIndex()),S=da._readAttribute(t,f),void 0!==
S)return S};d.readAttributes=function(){const t=this._readAttributes();for(const f of this._joined){f.setIndex(this.getIndex());const S=f._readAttributes();for(const da of Object.keys(S))t[da]=S[da]}return t};d.joinAttributes=function(t){this._joined.push(t)};d.readArcadeFeature=function(){return this};d.geometry=function(){var t=this.readHydratedGeometry();t=u.convertToGeometry(t,this.geometryType,this.hasZ,this.hasM);if(t=p.fromJSON(t))t.spatialReference=this._arcadeSpatialReference;return t};d.field=
function(t){return this.readAttribute(t,!0)};d.hasField=function(t){return!0};d.setField=function(t,f){};d.keys=function(){return[]};d.castToText=function(){return""};d.removeIds=function(t){if(m.isNone(this._objectIdToIndex)){var f=new Map;const S=this.getCursor();for(;S.next();)f.set(S.getObjectId(),S.getIndex());this._objectIdToIndex=f}f=this._objectIdToIndex;for(const S of t)f.has(S)&&this.removeAtIndex(f.get(S))};d.removeAtIndex=function(t){m.isNone(this._deleted)&&(this._deleted=e.StaticBitSet.create(this.getSize()));
this._deleted.set(t)};d.readGeometryForDisplay=function(){return this.readUnquantizedGeometry(!0)};d.readLegacyGeometryForDisplay=function(){return this.readLegacyGeometry(!0)};d.features=function*(){const t=this.getCursor();for(;t.next();)yield t.readOptimizedFeature()};d._getExists=function(){return m.isNone(this._deleted)||!this._deleted.has(this.getIndex())};d._computeCentroid=function(){if("esriGeometryPolygon"!==this.geometryType)return null;const t=this.readUnquantizedGeometry();if(!t||t.hasIndeterminateRingOrder)return null;
const f=m.unwrapOr(this.getQuantizationTransform(),null);return k.getCentroidOptimizedGeometry(new n,t,this.hasM,this.hasZ,f)};d.copyInto=function(t){t.seen=this.seen;t._storage=this._storage;t._arcadeSpatialReference=this._arcadeSpatialReference;t._joined=this._joined;t._tx=this._tx;t._ty=this._ty;t._sx=this._sx;t._sy=this._sy;t._deleted=this._deleted;t._objectIdToIndex=this._objectIdToIndex};w._createClass(q,[{key:"isEmpty",get:function(){return m.isSome(this._deleted)&&this._deleted.countSet()===
this.getSize()}},{key:"level",set:function(t){this._level=t}}]);return q}();D.FeatureSetReader=b;Object.defineProperty(D,"__esModule",{value:!0})})},"esri/layers/graphics/centroid":function(){define(["exports","../../core/maybe"],function(D,w){function G(m,k,u,n,e,p,y=1){p=e?p?4:3:p?3:2;let b=u,h=u+p,l=0,z=0,A=u=0,F=0;for(let E=0,N=n-1;E<N;E++,b+=p,h+=p){n=k[b];const c=k[b+1],q=k[b+2],d=k[h],t=k[h+1],f=k[h+2];let S=n*t-d*c;A+=S;l+=(n+d)*S;z+=(c+t)*S;e&&(S=n*f-d*q,u+=(q+f)*S,F+=S);n<m[0]&&(m[0]=n);
n>m[1]&&(m[1]=n);c<m[2]&&(m[2]=c);c>m[3]&&(m[3]=c);e&&(q<m[4]&&(m[4]=q),q>m[5]&&(m[5]=q))}0<A*y&&(A*=-1);0<F*y&&(F*=-1);if(!A)return null;m=[l,z,.5*A];e&&(m[3]=u,m[4]=.5*F);return m}function B(m,k,u,n,e){e=n?e?4:3:e?3:2;let p=k,y=k+e,b=0,h=0,l=0,z=0;for(let N=0,c=u-1;N<c;N++,p+=e,y+=e){var A=m[p];const q=m[p+1],d=m[p+2],t=m[y],f=m[y+1],S=m[y+2];if(n){{var F=t-A;var E=f-q;const da=S-d;F=Math.sqrt(F*F+E*E+da*da)}}else F=t-A,E=f-q,F=Math.sqrt(F*F+E*E);F&&(b+=F,n?(A=[A+.5*(t-A),q+.5*(f-q),d+.5*(S-d)],
h+=F*A[0],l+=F*A[1],z+=F*A[2]):(A=[A+.5*(t-A),q+.5*(f-q)],h+=F*A[0],l+=F*A[1]))}return 0<b?n?[h/b,l/b,z/b]:[h/b,l/b]:0<u?n?[m[k],m[k+1],m[k+2]]:[m[k],m[k+1]]:null}D.getCentroidOptimizedGeometry=function(m,k,u,n,e){if(w.isNone(k)||!k.lengths.length)return null;const p="upperLeft"===(null==e?void 0:e.originPosition)?-1:1;m.lengths.length&&(m.lengths.length=0);m.coords.length&&(m.coords.length=0);e=m.coords;const y=[],b=u?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,
Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:h,coords:l}=k,z=u?n?4:3:n?3:2;let A=0;for(var F of h){const E=G(b,l,A,F,u,n,p);E&&y.push(E);A+=F*z}y.sort((E,N)=>{let c=p*E[2]-p*N[2];0===c&&u&&(c=E[4]-N[4]);return c});y.length&&(F=6*y[0][2],e[0]=y[0][0]/F,e[1]=y[0][1]/F,u&&(F=6*y[0][4],e[2]=0!==F?y[0][3]/F:0),e[0]<b[0]||e[0]>b[1]||e[1]<b[2]||e[1]>b[3]||u&&(e[2]<b[4]||e[2]>b[5]))&&(e.length=
0);if(!e.length)if(k=k.lengths[0]?B(l,0,h[0],u,n):null)e[0]=k[0],e[1]=k[1],u&&2<k.length&&(e[2]=k[2]);else return null;return m};D.lineCentroid=B;Object.defineProperty(D,"__esModule",{value:!0})})},"esri/views/2d/layers/features/support/StaticBitSet":function(){define(["exports"],function(D){let w=function(){function G(m,k){this._mask=0;this._buf=m;this._mask=k}G.fromBuffer=function(m,k){return new G(m,k)};G.create=function(m,k=4294967295){m=new Uint32Array(Math.ceil(m/32));return new G(m,k)};var B=
G.prototype;B._getIndex=function(m){return Math.floor(m/32)};B.has=function(m){m&=this._mask;return!!(this._buf[this._getIndex(m)]&1<<m%32)};B.hasRange=function(m,k){for(;m%32&&m!==k;){if(this.has(m))return!0;m++}for(;k%32&&m!==k;){if(this.has(m))return!0;k--}if(m===k)return!1;for(m/=32;m!==k/32;m++)if(this._buf[m])return!0;return!1};B.set=function(m){m&=this._mask;const k=this._getIndex(m);this._buf[k]|=1<<m%32};B.setRange=function(m,k){for(;m%32&&m!==k;)this.set(m++);for(;k%32&&m!==k;)this.set(k--);
if(m!==k)for(m/=32;m!==k/32;m++)this._buf[m]=4294967295};B.unset=function(m){m&=this._mask;const k=this._getIndex(m);this._buf[k]&=4294967295^1<<m%32};B.resize=function(m){const k=this._buf;m=new Uint32Array(Math.ceil(m/32));m.set(k);this._buf=m};B.or=function(m){for(let k=0;k<this._buf.length;k++)this._buf[k]|=m._buf[k];return this};B.and=function(m){for(let k=0;k<this._buf.length;k++)this._buf[k]&=m._buf[k];return this};B.xor=function(m){for(let k=0;k<this._buf.length;k++)this._buf[k]^=m._buf[k];
return this};B.ior=function(m){for(let k=0;k<this._buf.length;k++)this._buf[k]|=~m._buf[k];return this};B.iand=function(m){for(let k=0;k<this._buf.length;k++)this._buf[k]&=~m._buf[k];return this};B.ixor=function(m){for(let k=0;k<this._buf.length;k++)this._buf[k]^=~m._buf[k];return this};B.any=function(){for(let m=0;m<this._buf.length;m++)if(this._buf[m])return!0;return!1};B.copy=function(m){for(let k=0;k<this._buf.length;k++)this._buf[k]=m._buf[k];return this};B.clone=function(){return new G(this._buf.slice(),
this._mask)};B.clear=function(){for(let m=0;m<this._buf.length;m++)this._buf[m]=0};B.forEachSet=function(m){for(let k=0;k<this._buf.length;k++){let u=this._buf[k],n=32*k;if(u)for(;u;)u&1&&m(n),u>>>=1,n++}};B.countSet=function(){let m=0;this.forEachSet(k=>{m++});return m};return G}();D.StaticBitSet=w;Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/arcadeRuntime":function(){define("exports ./ArcadePortal ./Attachment ./Dictionary ./Feature ./FunctionWrapper ./ImmutablePathArray ./ImmutablePointArray ../chunks/languageUtils ./treeAnalysis ./functions/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/SpatialReference".split(" "),
function(D,w,G,B,m,k,u,n,e,p,y,b,h,l,z,A,F,E,N,c,q,d,t,f){function S(J,H){const Q=[];for(let R=0;R<H.arguments.length;R++)Q.push(aa(J,H.arguments[R]));return Q}function da(J,H,Q){try{return Q(J,H,S(J,H))}catch(R){throw R;}}function aa(J,H){try{switch(H.type){case "EmptyStatement":return e.voidOperation;case "VariableDeclarator":{let ea=null===H.init?null:aa(J,H.init);ea===e.voidOperation&&(ea=null);if("Identifier"!==H.id.type)throw Error("Can only assign a regular variable");const ua=H.id.name.toLowerCase();
null!==J.localScope?J.localScope[ua]={value:ea,valueset:!0,node:H.init}:J.globalScope[ua]={value:ea,valueset:!0,node:H.init};var Q=e.voidOperation}return Q;case "VariableDeclaration":for(var R=0;R<H.declarations.length;R++)aa(J,H.declarations[R]);return e.voidOperation;case "BlockStatement":a:{let ea=e.voidOperation;for(R=0;R<H.body.length;R++)if(ea=aa(J,H.body[R]),ea instanceof e.ReturnResult||ea===e.breakResult||ea===e.continueResult){var Z=ea;break a}Z=ea}return Z;case "FunctionDeclaration":{const ea=
H.id.name.toLowerCase();J.globalScope[ea]={valueset:!0,node:null,value:new k(H,J)};var xa=e.voidOperation}return xa;case "ReturnStatement":if(null===H.argument)var La=new e.ReturnResult(e.voidOperation);else{var Ea=aa(J,H.argument);La=new e.ReturnResult(Ea)}return La;case "IfStatement":{if("AssignmentExpression"===H.test.type||"UpdateExpression"===H.test.type)throw Error(p.nodeErrorMessage(H.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const ea=aa(J,H.test);if(!0===ea)var r=aa(J,H.consequent);
else if(!1===ea)r=null!==H.alternate?aa(J,H.alternate):e.voidOperation;else throw Error(p.nodeErrorMessage(H,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}return r;case "ExpressionStatement":if("AssignmentExpression"===H.expression.type||"UpdateExpression"===H.expression.type)var v=aa(J,H.expression);else if("CallExpression"===H.expression.type){const ea=aa(J,H.expression);v=ea===e.voidOperation?e.voidOperation:new e.ImplicitResult(ea)}else{{const ea=aa(J,H.expression);v=ea===e.voidOperation?
e.voidOperation:new e.ImplicitResult(ea)}}return v;case "AssignmentExpression":{const ea=aa(J,H.right);R=null;var L="";if("MemberExpression"===H.left.type){R=aa(J,H.left.object);!0===H.left.computed?L=aa(J,H.left.property):"Identifier"===H.left.property.type&&(L=H.left.property.name);if(e.isArray(R))if(e.isNumber(L)){0>L&&(L=R.length+L);if(0>L||L>R.length)throw Error("Assignment outside of array bounds");if(L===R.length&&"\x3d"!==H.operator)throw Error("Invalid Parameter");R[L]=na(ea,H.operator,R[L],
H)}else throw Error("Invalid Parameter");else if(R instanceof B){if(!1===e.isString(L))throw Error("Dictionary accessor must be a string");if(!0===R.hasField(L))R.setField(L,na(ea,H.operator,R.field(L),H));else{if("\x3d"!==H.operator)throw Error("Invalid Parameter");R.setField(L,na(ea,H.operator,null,H))}}else if(R instanceof m){if(!1===e.isString(L))throw Error("Feature accessor must be a string");if(!0===R.hasField(L))R.setField(L,na(ea,H.operator,R.field(L),H));else{if("\x3d"!==H.operator)throw Error("Invalid Parameter");
R.setField(L,na(ea,H.operator,null,H))}}else{if(e.isImmutableArray(R))throw Error("Array is Immutable");throw Error("Invalid Parameter");}var P=e.voidOperation}else if(R=H.left.name.toLowerCase(),null!==J.localScope&&void 0!==J.localScope[R])J.localScope[R]={value:na(ea,H.operator,J.localScope[R].value,H),valueset:!0,node:H.right},P=e.voidOperation;else if(void 0!==J.globalScope[R])J.globalScope[R]={value:na(ea,H.operator,J.globalScope[R].value,H),valueset:!0,node:H.right},P=e.voidOperation;else throw Error("Variable not recognised");
}return P;case "UpdateExpression":{let ea;R=null;L="";if("MemberExpression"===H.argument.type){R=aa(J,H.argument.object);!0===H.argument.computed?L=aa(J,H.argument.property):"Identifier"===H.argument.property.type&&(L=H.argument.property.name);if(e.isArray(R))if(e.isNumber(L)){0>L&&(L=R.length+L);if(0>L||L>=R.length)throw Error("Assignment outside of array bounds");ea=e.toNumber(R[L]);R[L]="++"===H.operator?ea+1:ea-1}else throw Error("Invalid Parameter");else if(R instanceof B){if(!1===e.isString(L))throw Error("Dictionary accessor must be a string");
if(!0===R.hasField(L))ea=e.toNumber(R.field(L)),R.setField(L,"++"===H.operator?ea+1:ea-1);else throw Error("Invalid Parameter");}else if(R instanceof m){if(!1===e.isString(L))throw Error("Feature accessor must be a string");if(!0===R.hasField(L))ea=e.toNumber(R.field(L)),R.setField(L,"++"===H.operator?ea+1:ea-1);else throw Error("Invalid Parameter");}else{if(e.isImmutableArray(R))throw Error("Array is Immutable");throw Error("Invalid Parameter");}var Y=!1===H.prefix?ea:"++"===H.operator?ea+1:ea-1}else{R=
"Identifier"===H.argument.type?H.argument.name.toLowerCase():"";if(!R)throw Error("Invalid identifier");if(null!==J.localScope&&void 0!==J.localScope[R])ea=e.toNumber(J.localScope[R].value),J.localScope[R]={value:"++"===H.operator?ea+1:ea-1,valueset:!0,node:H},Y=!1===H.prefix?ea:"++"===H.operator?ea+1:ea-1;else if(void 0!==J.globalScope[R])ea=e.toNumber(J.globalScope[R].value),J.globalScope[R]={value:"++"===H.operator?ea+1:ea-1,valueset:!0,node:H},Y=!1===H.prefix?ea:"++"===H.operator?ea+1:ea-1;else throw Error("Variable not recognised");
}}return Y;case "BreakStatement":return e.breakResult;case "ContinueStatement":return e.continueResult;case "TemplateElement":return H.value?H.value.cooked:"";case "TemplateLiteral":var va;R="";L=0;for(const ea of H.quasis)if(R+=ea.value?ea.value.cooked:"",!1===ea.tail){const ua=H.expressions[L]?e.toString(aa(J,H.expressions[L])):"";R+=ua;L++}return va=R;case "ForStatement":null!==H.init&&aa(J,H.init);L={testResult:!0,lastAction:e.voidOperation};do b:{P=J;Y=H;va=L;if(null!==Y.test){va.testResult=
aa(P,Y.test);if(!1===va.testResult)break b;if(!0!==va.testResult)throw Error(p.nodeErrorMessage(Y,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}va.lastAction=aa(P,Y.body);va.lastAction===e.breakResult?va.testResult=!1:va.lastAction instanceof e.ReturnResult?va.testResult=!1:null!==Y.update&&aa(P,Y.update)}while(!0===L.testResult);R=L.lastAction instanceof e.ReturnResult?L.lastAction:e.voidOperation;return R;case "ForInStatement":return Ja(J,H);case "Identifier":return la(J,H);case "MemberExpression":return Ua(J,
H);case "Literal":return H.value;case "CallExpression":return ma(J,H);case "UnaryExpression":return Qa(J,H);case "BinaryExpression":return ha(J,H);case "LogicalExpression":return fa(J,H);case "ArrayExpression":try{R=[];for(L=0;L<H.elements.length;L++){const ea=aa(J,H.elements[L]);if(e.isFunctionParameter(ea))throw Error(p.nodeErrorMessage(H,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));ea===e.voidOperation?R.push(null):R.push(ea)}var Da=R}catch(ea){throw ea;}return Da;case "ObjectExpression":{R={};for(L=0;L<
H.properties.length;L++){const ua=aa(J,H.properties[L]);if(e.isFunctionParameter(ua.value))throw Error("Illegal Argument");if(!1===e.isString(ua.key))throw Error("Illegal Argument");R[ua.key.toString()]=ua.value===e.voidOperation?null:ua.value}const ea=new B(R);ea.immutable=!1;var Ka=ea}return Ka;case "Property":return{key:"Identifier"===H.key.type?H.key.name:aa(J,H.key),value:aa(J,H.value)};default:throw Error(p.nodeErrorMessage(H,"RUNTIME","UNREOGNISED"));}}catch(ea){throw ea;}}function Ja(J,H){var Q=
aa(J,H.right);"VariableDeclaration"===H.left.type&&aa(J,H.left);let R=null;var Z="";if("VariableDeclaration"===H.left.type){var xa=H.left.declarations[0].id;"Identifier"===xa.type&&(Z=xa.name)}else"Identifier"===H.left.type&&(Z=H.left.name);if(!Z)throw Error(p.nodeErrorMessage(H,"RUNTIME","INVALIDVARIABLE"));Z=Z.toLowerCase();null!==J.localScope&&void 0!==J.localScope[Z]&&(R=J.localScope[Z]);null===R&&void 0!==J.globalScope[Z]&&(R=J.globalScope[Z]);if(null===R)throw Error(p.nodeErrorMessage(H,"RUNTIME",
"VARIABLENOTDECLARED"));if(e.isArray(Q)||e.isString(Q)){Q=Q.length;for(Z=0;Z<Q;Z++){R.value=Z;xa=aa(J,H.body);if(xa===e.breakResult)break;if(xa instanceof e.ReturnResult)return xa}return e.voidOperation}if(e.isImmutableArray(Q)){for(Z=0;Z<Q.length();Z++){R.value=Z;xa=aa(J,H.body);if(xa===e.breakResult)break;if(xa instanceof e.ReturnResult)return xa}return e.voidOperation}if(Q instanceof B||Q instanceof m)for(Q=Q.keys(),Z=0;Z<Q.length;Z++){R.value=Q[Z];xa=aa(J,H.body);if(xa===e.breakResult)break;if(xa instanceof
e.ReturnResult)return xa}else return e.voidOperation}function na(J,H,Q,R){switch(H){case "\x3d":return J===e.voidOperation?null:J;case "/\x3d":return e.toNumber(Q)/e.toNumber(J);case "*\x3d":return e.toNumber(Q)*e.toNumber(J);case "-\x3d":return e.toNumber(Q)-e.toNumber(J);case "+\x3d":return e.isString(Q)||e.isString(J)?e.toString(Q)+e.toString(J):e.toNumber(Q)+e.toNumber(J);case "%\x3d":return e.toNumber(Q)%e.toNumber(J);default:throw Error(p.nodeErrorMessage(R,"RUNTIME","OPERATORNOTRECOGNISED"));
}}function Ca(J,H,Q){H=H.toLowerCase();switch(H){case "hasz":return J=J.hasZ,void 0===J?!1:J;case "hasm":return J=J.hasM,void 0===J?!1:J;case "spatialreference":return H=J.spatialReference._arcadeCacheId,void 0===H&&(Q=!0,Object.freeze&&Object.isFrozen(J.spatialReference)&&(Q=!1),Q&&(ba++,H=J.spatialReference._arcadeCacheId=ba)),J=new B({wkt:J.spatialReference.wkt,wkid:J.spatialReference.wkid}),void 0!==H&&(J._arcadeCacheId="SPREF"+H.toString()),J}switch(J.type){case "extent":switch(H){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return J=
J[H],void 0!==J?J:null;case "type":return"Extent"}break;case "polygon":switch(H){case "rings":return H=J.cache._arcadeCacheId,void 0===H&&(ba++,H=ba,J.cache._arcadeCacheId=H),new u(J.rings,J.spatialReference,!0===J.hasZ,!0===J.hasM,H);case "type":return"Polygon"}break;case "point":switch(H){case "x":case "y":case "z":case "m":return void 0!==J[H]?J[H]:null;case "type":return"Point"}break;case "polyline":switch(H){case "paths":return H=J.cache._arcadeCacheId,void 0===H&&(ba++,H=ba,J.cache._arcadeCacheId=
H),new u(J.paths,J.spatialReference,!0===J.hasZ,!0===J.hasM,H);case "type":return"Polyline"}break;case "multipoint":switch(H){case "points":return H=J.cache._arcadeCacheId,void 0===H&&(ba++,H=ba,J.cache._arcadeCacheId=H),new n(J.points,J.spatialReference,!0===J.hasZ,!0===J.hasM,H,1);case "type":return"Multipoint"}}throw Error(p.nodeErrorMessage(Q,"RUNTIME","PROPERTYNOTFOUND"));}function Ua(J,H){try{const Q=aa(J,H.object);if(null===Q)throw Error(p.nodeErrorMessage(H,"RUNTIME","NOTFOUND"));if(!1===
H.computed){if("Identifier"===H.property.type){if(Q instanceof B||Q instanceof m)return Q.field(H.property.name);if(Q instanceof N)return Ca(Q,H.property.name,H)}throw Error(p.nodeErrorMessage(H,"RUNTIME","INVALIDTYPE"));}{let R=aa(J,H.property);if(Q instanceof B||Q instanceof m){if(e.isString(R))return Q.field(R);throw Error(p.nodeErrorMessage(H,"RUNTIME","INVALIDTYPE"));}if(Q instanceof N){if(e.isString(R))return Ca(Q,R,H);throw Error(p.nodeErrorMessage(H,"RUNTIME","INVALIDTYPE"));}if(e.isArray(Q)){if(e.isNumber(R)&&
isFinite(R)&&Math.floor(R)===R){0>R&&(R=Q.length+R);if(R>=Q.length||0>R)throw Error(p.nodeErrorMessage(H,"RUNTIME","OUTOFBOUNDS"));return Q[R]}throw Error(p.nodeErrorMessage(H,"RUNTIME","INVALIDTYPE"));}if(e.isString(Q)){if(e.isNumber(R)&&isFinite(R)&&Math.floor(R)===R){0>R&&(R=Q.length+R);if(R>=Q.length||0>R)throw Error(p.nodeErrorMessage(H,"RUNTIME","OUTOFBOUNDS"));return Q[R]}throw Error(p.nodeErrorMessage(H,"RUNTIME","INVALIDTYPE"));}if(e.isImmutableArray(Q)&&e.isNumber(R)&&isFinite(R)&&Math.floor(R)===
R){0>R&&(R=Q.length()+R);if(R>=Q.length()||0>R)throw Error(p.nodeErrorMessage(H,"RUNTIME","OUTOFBOUNDS"));return Q.get(R)}throw Error(p.nodeErrorMessage(H,"RUNTIME","INVALIDTYPE"));}}catch(Q){throw Q;}}function Qa(J,H){try{const Q=aa(J,H.argument);if(e.isBoolean(Q)){if("!"===H.operator)return!Q;if("-"===H.operator)return-1*e.toNumber(Q);if("+"===H.operator)return 1*e.toNumber(Q);if("~"===H.operator)return~e.toNumber(Q);throw Error(p.nodeErrorMessage(H,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("~"===
H.operator)return~e.toNumber(Q);if("-"===H.operator)return-1*e.toNumber(Q);if("+"===H.operator)return 1*e.toNumber(Q);throw Error(p.nodeErrorMessage(H,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}catch(Q){throw Q;}}function ha(J,H){try{const Q=[aa(J,H.left),aa(J,H.right)],R=Q[0],Z=Q[1];switch(H.operator){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return e.binaryOperator(e.toNumber(R),e.toNumber(Z),H.operator);case "\x3d\x3d":return e.equalityTest(R,Z);case "!\x3d":return!e.equalityTest(R,
Z);case "\x3c":return e.greaterThanLessThan(R,Z,H.operator);case "\x3e":return e.greaterThanLessThan(R,Z,H.operator);case "\x3c\x3d":return e.greaterThanLessThan(R,Z,H.operator);case "\x3e\x3d":return e.greaterThanLessThan(R,Z,H.operator);case "+":return e.isString(R)||e.isString(Z)?e.toString(R)+e.toString(Z):e.toNumber(R)+e.toNumber(Z);case "-":return e.toNumber(R)-e.toNumber(Z);case "*":return e.toNumber(R)*e.toNumber(Z);case "/":return e.toNumber(R)/e.toNumber(Z);case "%":return e.toNumber(R)%
e.toNumber(Z);default:throw Error(p.nodeErrorMessage(H,"RUNTIME","OPERATORNOTRECOGNISED"));}}catch(Q){throw Q;}}function fa(J,H){try{if("AssignmentExpression"===H.left.type||"UpdateExpression"===H.left.type)throw Error(p.nodeErrorMessage(H.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===H.right.type||"UpdateExpression"===H.right.type)throw Error(p.nodeErrorMessage(H.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const Q=aa(J,H.left);if(e.isBoolean(Q))switch(H.operator){case "||":if(!0===
Q)return Q;{const R=aa(J,H.right);if(e.isBoolean(R))return R;throw Error(p.nodeErrorMessage(H,"RUNTIME","ONLYORORAND"));}case "\x26\x26":if(!1===Q)return Q;{const R=aa(J,H.right);if(e.isBoolean(R))return R;throw Error(p.nodeErrorMessage(H,"RUNTIME","ONLYORORAND"));}default:throw Error(p.nodeErrorMessage(H,"RUNTIME","ONLYORORAND"));}throw Error(p.nodeErrorMessage(H,"RUNTIME","ONLYBOOLEAN"));}catch(Q){throw Q;}}function la(J,H){let Q;try{const R=H.name.toLowerCase();if(null!==J.localScope&&void 0!==
J.localScope[R]){Q=J.localScope[R];if(!0===Q.valueset)return Q.value;Q.value=aa(J,Q.node);Q.valueset=!0;return Q.value}if(void 0!==J.globalScope[R]){Q=J.globalScope[R];if(!0===Q.valueset)return Q.value;Q.value=aa(J,Q.node);Q.valueset=!0;return Q.value}throw Error(p.nodeErrorMessage(H,"RUNTIME","VARIABLENOTFOUND"));}catch(R){throw R;}}function ma(J,H){try{if("Identifier"!==H.callee.type)throw Error(p.nodeErrorMessage(H,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==J.localScope&&void 0!==J.localScope[H.callee.name.toLowerCase()]){const Q=
J.localScope[H.callee.name.toLowerCase()];if(Q.value instanceof e.NativeFunction)return Q.value.fn(J,H);if(Q.value instanceof k)return ra(J,H,Q.value.definition);throw Error(p.nodeErrorMessage(H,"RUNTIME","NOTAFUNCTION"));}if(void 0!==J.globalScope[H.callee.name.toLowerCase()]){const Q=J.globalScope[H.callee.name.toLowerCase()];if(Q.value instanceof e.NativeFunction)return Q.value.fn(J,H);if(Q.value instanceof k)return ra(J,H,Q.value.definition);throw Error(p.nodeErrorMessage(H,"RUNTIME","NOTAFUNCTION"));
}throw Error(p.nodeErrorMessage(H,"RUNTIME","NOTFOUND"));}catch(Q){throw Q;}}function M(J){return null==J?"":e.isArray(J)||e.isImmutableArray(J)?"Array":e.isDate(J)?"Date":e.isString(J)?"String":e.isBoolean(J)?"Boolean":e.isNumber(J)?"Number":J instanceof G?"Attachment":J instanceof w?"Portal":J instanceof B?"Dictionary":J instanceof m?"Feature":J instanceof q?"Point":J instanceof d?"Polygon":J instanceof t?"Polyline":J instanceof c?"Multipoint":J instanceof E?"Extent":e.isFunctionParameter(J)?"Function":
e.isFeatureSet(J)?"FeatureSet":e.isFeatureSetCollection(J)?"FeatureSetCollection":J===e.voidOperation?"":"number"===typeof J&&isNaN(J)?"Number":"Unrecognised Type"}function V(J,H,Q,R){try{const Z=aa(J,H.arguments[Q]);if(e.equalityTest(Z,R))return aa(J,H.arguments[Q+1]);{const xa=H.arguments.length-Q;return 1===xa?aa(J,H.arguments[Q]):2===xa?null:3===xa?aa(J,H.arguments[Q+2]):V(J,H,Q+2,R)}}catch(Z){throw Z;}}function U(J,H,Q,R){try{if(!0===R)return aa(J,H.arguments[Q+1]);if(3===H.arguments.length-
Q)return aa(J,H.arguments[Q+2]);{const Z=aa(J,H.arguments[Q+2]);if(!1===e.isBoolean(Z))throw Error("WHEN needs boolean test conditions");return U(J,H,Q+2,Z)}}catch(Z){throw Z;}}function W(J,H){var Q=J.length,R=Math.floor(Q/2);if(0===Q)return[];if(1===Q)return[J[0]];var Z=W(J.slice(0,R),H);J=W(J.slice(R,Q),H);for(Q=[];0<Z.length||0<J.length;)0<Z.length&&0<J.length?(R=H(Z[0],J[0]),isNaN(R)&&(R=0),0>=R?(Q.push(Z[0]),Z=Z.slice(1)):(Q.push(J[0]),J=J.slice(1))):0<Z.length?(Q.push(Z[0]),Z=Z.slice(1)):0<
J.length&&(Q.push(J[0]),J=J.slice(1));return H=Q}function ka(J,H,Q){try{const R=J.body;if(Q.length!==J.params.length)throw Error("Invalid Parameter calls to function.");for(let xa=0;xa<Q.length;xa++)H.localScope[J.params[xa].name.toLowerCase()]={value:Q[xa],valueset:!0,node:null};const Z=aa(H,R);if(Z instanceof e.ReturnResult)return Z.value;if(Z===e.breakResult)throw Error("Cannot Break from a Function");if(Z===e.continueResult)throw Error("Cannot Continue from a Function");return Z instanceof e.ImplicitResult?
Z.value:Z}catch(R){throw R;}}function ra(J,H,Q){return da(J,H,function(R,Z,xa){R={spatialReference:J.spatialReference,globalScope:J.globalScope,depthCounter:J.depthCounter+1,console:J.console,lrucache:J.lrucache,interceptor:J.interceptor,localScope:{}};if(64<R.depthCounter)throw Error("Exceeded maximum function depth");return ka(Q,R,xa)})}function za(J){return function(){const H={spatialReference:J.context.spatialReference,console:J.context.console,lrucache:J.context.lrucache,interceptor:J.context.interceptor,
localScope:{},depthCounter:J.context.depthCounter+1,globalScope:J.context.globalScope};if(64<H.depthCounter)throw Error("Exceeded maximum function depth");return ka(J.definition,H,arguments)}}function qa(J){console.log(J)}let ba=0;const ia={};y.registerFunctions(ia,da);b.registerFunctions(ia,da);F.registerFunctions(ia,da);z.registerFunctions(ia,da);h.registerFunctions(ia,da);A.registerFunctions(ia,da);l.registerFunctions(ia,da);ia["typeof"]=function(J,H){return da(J,H,function(Q,R,Z){e.pcCheck(Z,
1,1);Q=M(Z[0]);if("Unrecognised Type"===Q)throw Error("Unrecognised Type");return Q})};ia.iif=function(J,H){try{e.pcCheck(null===H.arguments?[]:H.arguments,3,3);const Q=aa(J,H.arguments[0]);if(!1===e.isBoolean(Q))throw Error("IF Function must have a boolean test condition");const R=aa(J,H.arguments[1]),Z=aa(J,H.arguments[2]);return!0===Q?R:Z}catch(Q){throw Q;}};ia.decode=function(J,H){try{if(2>H.arguments.length)throw Error("Missing Parameters");if(2===H.arguments.length)return aa(J,H.arguments[1]);
{if(0===(H.arguments.length-1)%2)throw Error("Must have a default value result.");const Q=aa(J,H.arguments[0]);return V(J,H,1,Q)}}catch(Q){throw Q;}};ia.when=function(J,H){try{if(3>H.arguments.length)throw Error("Missing Parameters");if(0===H.arguments.length%2)throw Error("Must have a default value result.");const Q=aa(J,H.arguments[0]);if(!1===e.isBoolean(Q))throw Error("WHEN needs boolean test conditions");return U(J,H,0,Q)}catch(Q){throw Q;}};ia.top=function(J,H){return da(J,H,function(Q,R,Z){e.pcCheck(Z,
2,2);if(e.isArray(Z[0]))return e.toNumber(Z[1])>=Z[0].length?Z[0].slice(0):Z[0].slice(0,e.toNumber(Z[1]));if(e.isImmutableArray(Z[0]))return e.toNumber(Z[1])>=Z[0].length()?Z[0].slice(0):Z[0].slice(0,e.toNumber(Z[1]));throw Error("Top cannot accept this parameter type");})};ia.first=function(J,H){return da(J,H,function(Q,R,Z){e.pcCheck(Z,1,1);return e.isArray(Z[0])?0===Z[0].length?null:Z[0][0]:e.isImmutableArray(Z[0])?0===Z[0].length()?null:Z[0].get(0):null})};ia.sort=function(J,H){return da(J,H,
function(Q,R,Z){e.pcCheck(Z,1,2);Q=Z[0];e.isImmutableArray(Q)&&(Q=Q.toArray());if(!1===e.isArray(Q))throw Error("Illegal Argument");if(1<Z.length){if(!1===e.isFunctionParameter(Z[1]))throw Error("Illegal Argument");var xa=Q;const Ea=za(Z[1]);return xa=W(xa,function(r,v){return Ea(r,v)})}Z=Q;if(0===Z.length)return[];Q={};for(R=0;R<Z.length;R++){var La=M(Z[R]);""!==La&&(Q[La]=!0)}if(!0===Q.Array||!0===Q.Dictionary||!0===Q.Feature||!0===Q.Point||!0===Q.Polygon||!0===Q.Polyline||!0===Q.Multipoint||!0===
Q.Extent||!0===Q.Function)return Z.slice(0);R=0;La="";for(xa in Q)R++,La=xa;return Z=1<R||"String"===La?W(Z,function(Ea,r){if(null===Ea||void 0===Ea||Ea===e.voidOperation)return null===r||void 0===r||r===e.voidOperation?0:1;if(null===r||void 0===r||r===e.voidOperation)return-1;Ea=e.toString(Ea);r=e.toString(r);return Ea<r?-1:Ea===r?0:1}):"Number"===La?W(Z,function(Ea,r){return Ea-r}):"Boolean"===La?W(Z,function(Ea,r){return Ea===r?0:r?-1:1}):"Date"===La?W(Z,function(Ea,r){return r-Ea}):Z.slice(0)})};
for(const J in ia)ia[J]={value:new e.NativeFunction(ia[J]),valueset:!0,node:null};const wa=function(){};wa.prototype=ia;wa.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null};wa.prototype.pi={value:Math.PI,valueset:!0,node:null};y={fixSpatialReference:e.fixSpatialReference,parseArguments:S,standardFunction:da};D.executeScript=function(J,H){let Q=H.spatialReference;if(null===Q||void 0===Q)Q=new f({wkid:102100});{var R=H.vars;var Z=H.customfunctions;const xa=new wa;R||(R={});Z||
(Z={});const La=new B({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});La.immutable=!1;xa.textformatting={value:La,valueset:!0,node:null};for(const Ea in Z)xa[Ea]={value:new e.NativeFunction(Z[Ea]),native:!0,valueset:!0,node:null};for(const Ea in R)xa[Ea]=R[Ea]&&"esri.Graphic"===R[Ea].declaredClass?{value:m.createFromGraphic(R[Ea]),valueset:!0,node:null}:{value:R[Ea],valueset:!0,node:null};R=xa}J=aa({spatialReference:Q,globalScope:R,localScope:null,console:H.console?
H.console:qa,lrucache:H.lrucache,interceptor:H.interceptor,depthCounter:1},J.body[0].body);J instanceof e.ReturnResult&&(J=J.value);J instanceof e.ImplicitResult&&(J=J.value);J===e.voidOperation&&(J=null);if(J===e.breakResult)throw Error("Cannot return BREAK");if(J===e.continueResult)throw Error("Cannot return CONTINUE");if(J instanceof k)throw Error("Cannot return FUNCTION");if(J instanceof e.NativeFunction)throw Error("Cannot return FUNCTION");return J};D.extend=function(J){const H={mode:"sync",
compiled:!1,functions:{},signatures:[],standardFunction:da,evaluateIdentifier:la,arcadeCustomFunctionHandler:za};for(let Q=0;Q<J.length;Q++)J[Q].registerFunctions(H);for(const Q in H.functions)ia[Q]={value:new e.NativeFunction(H.functions[Q]),valueset:!0,node:null},wa.prototype[Q]=ia[Q];for(J=0;J<H.signatures.length;J++)p.addFunctionDeclaration(H.signatures[J],"async")};D.extractExpectedFieldLiterals=function(J){return p.findExpectedFieldLiterals(J)};D.extractFieldLiterals=function(J,H){return p.findFieldLiterals(J)};
D.findFunctionCalls=function(J){return p.findFunctionCalls(J)};D.functionHelper=y;D.referencesFunction=function(J,H){return p.referencesFunction(J,H)};D.referencesMember=function(J,H){return p.referencesMember(J,H)};D.validateScript=function(J,H){return p.validateScript(J,H,"simple")};Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/parser":function(){define(["exports","./treeAnalysis","./lib/arcade-parser"],function(D,w,G){D.extractExpectedFieldLiterals=function(B){return w.findExpectedFieldLiterals(B)};
D.extractFieldLiterals=function(B,m){return w.findFieldLiterals(B)};D.parseScript=function(B,m=[]){B=G.parse("function _() { "+B+"\n}");if(null===B.body||void 0===B.body)throw Error("No formula provided.");if(0===B.body.length)throw Error("No formula provided.");if(0===B.body.length)throw Error("No formula provided.");if("BlockStatement"!==B.body[0].body.type)throw Error("Invalid formula content.");const k=w.validateLanguage(B);if(""!==k)throw Error(k);w.findScriptDependencies(B,m);return B};D.referencesFunction=
function(B,m){return w.referencesFunction(B,m)};D.referencesMember=function(B,m){return w.referencesMember(B,m)};D.scriptCheck=function(B,m,k,u,n){const e=[];B="function _() { \n"+B+"\n}";try{const p=G.parse(B,{tolerant:!0,loc:!0,range:!0}),y=p.errors;if(0<y.length)for(let h=0;h<y.length;h++)e.push({line:y[h].lineNumber-2,character:y[h].column,reason:y[h].description});const b=w.checkScript(p,m,k,u,n);for(m=0;m<b.length;m++)b[m].line-=2,b[m].range&&(b[m].range=[b[m][0]-15,b[m][1]-15]),b[m].loc&&(b[m].loc.start.line-=
2,b[m].loc.end.line-=2),e.push(b[m])}catch(p){try{if("Unexpected token }"===p.description){const y=B.split("\n").length;p.lineNumber===y?(p.index=B.length-1,e.push({line:p.lineNumber-4,character:p.column,reason:"Unexpected end of script"})):(p.index=B.length-1,e.push({line:p.lineNumber-2,character:p.column,reason:"Unexpected end of script"}))}else e.push({line:p.lineNumber-2,character:p.column,reason:p.description})}catch(y){}}return e};D.validateScript=function(B,m,k){return w.validateScript(B,m,
k)};Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/lib/arcade-parser":function(){define("exports ./comment-handler ./parser ./tokenizer ./syntax ./token ./nodes".split(" "),function(D,w,G,B,m,k,u){D.Syntax=m.Syntax;D.TokenName=k.TokenName;D.ArrayExpression=u.ArrayExpression;D.AssignmentExpression=u.AssignmentExpression;D.AssignmentOperators=u.AssignmentOperators;D.BinaryExpression=u.BinaryExpression;D.BinaryOperators=u.BinaryOperators;D.BlockStatement=u.BlockStatement;D.BreakStatement=
u.BreakStatement;D.CallExpression=u.CallExpression;D.Comment=u.Comment;D.ComputedMemberExpression=u.ComputedMemberExpression;D.ContinueStatement=u.ContinueStatement;D.EmptyStatement=u.EmptyStatement;D.ExpressionStatement=u.ExpressionStatement;D.ForInStatement=u.ForInStatement;D.ForStatement=u.ForStatement;D.FunctionDeclaration=u.FunctionDeclaration;D.Identifier=u.Identifier;D.IfStatement=u.IfStatement;D.Literal=u.Literal;D.LogicalOperators=u.LogicalOperators;D.ObjectExpression=u.ObjectExpression;
D.Program=u.Program;D.Property=u.Property;D.ReturnStatement=u.ReturnStatement;D.StaticMemberExpression=u.StaticMemberExpression;D.TemplateElement=u.TemplateElement;D.TemplateLiteral=u.TemplateLiteral;D.UnaryExpression=u.UnaryExpression;D.UnaryOperators=u.UnaryOperators;D.UpdateExpression=u.UpdateExpression;D.UpdateOperators=u.UpdateOperators;D.VariableDeclaration=u.VariableDeclaration;D.VariableDeclarator=u.VariableDeclarator;D.parse=function(n,e,p){let y=null;const b=(z,A)=>{p&&p(z,A);y&&y.visit(z,
A)};let h="function"===typeof p?b:void 0,l=!1;if(e){l="boolean"===typeof e.comment&&e.comment;const z="boolean"===typeof e.attachComment&&e.attachComment;if(l||z)y=new w.CommentHandler,y.attach=z,e.comment=!0,h=b}n=new G.Parser(n,e,h);e=n.parseScript();l&&y&&(e.comments=y.comments);n.config.tokens&&(e.tokens=n.tokens);n.config.tolerant&&(e.errors=n.errorHandler.errors);return e};D.tokenize=function(n,e,p){n=new B.Tokenizer(n,e);e=[];let y=void 0;try{for(;;){let b=n.getNextToken();if(!b)break;p&&(b=
p(b));e.push(b)}}catch(b){n.errorHandler.tolerate(b)}n.errorHandler.tolerant&&(y=n.errors());return{tokens:e,errors:y}};D.version="4.0.0-dev";Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/lib/comment-handler":function(){define(["exports","./syntax"],function(D,w){let G=function(){function B(){this.attach=!1;this.comments=[];this.stack=[];this.leading=[];this.trailing=[]}var m=B.prototype;m.insertInnerComments=function(k,u){if(k.type===w.Syntax.BlockStatement&&0===k.body.length){const n=
[];for(let e=this.leading.length-1;0<=e;--e){const p=this.leading[e];u.end.offset>=p.start&&(n.unshift(p.comment),this.leading.splice(e,1),this.trailing.splice(e,1))}n.length&&(k.innerComments=n)}};m.findTrailingComments=function(k){let u=[];if(0<this.trailing.length){for(var n=this.trailing.length-1;0<=n;--n){var e=this.trailing[n];e.start>=k.end.offset&&u.unshift(e.comment)}this.trailing.length=0;return u}(n=this.stack[this.stack.length-1])&&n.node.trailingComments&&(e=n.node.trailingComments[0])&&
e.range[0]>=k.end.offset&&(u=n.node.trailingComments,delete n.node.trailingComments);return u};m.findLeadingComments=function(k){const u=[];for(var n;0<this.stack.length;){var e=this.stack[this.stack.length-1];if(e&&e.start>=k.start.offset)n=e.node,this.stack.pop();else break}if(n){e=n.leadingComments?n.leadingComments.length:0;for(--e;0<=e;--e){const p=n.leadingComments[e];p.range[1]<=k.start.offset&&(u.unshift(p),n.leadingComments.splice(e,1))}n.leadingComments&&0===n.leadingComments.length&&delete n.leadingComments;
return u}for(n=this.leading.length-1;0<=n;--n)e=this.leading[n],e.start<=k.start.offset&&(u.unshift(e.comment),this.leading.splice(n,1));return u};m.visitNode=function(k,u){if(!(k.type===w.Syntax.Program&&0<k.body.length)){this.insertInnerComments(k,u);var n=this.findTrailingComments(u),e=this.findLeadingComments(u);0<e.length&&(k.leadingComments=e);0<n.length&&(k.trailingComments=n);this.stack.push({node:k,start:u.start.offset})}};m.visitComment=function(k,u){this.comments.push(k);this.attach&&(u=
{comment:{type:k.type,value:k.value,range:[u.start.offset,u.end.offset]},start:u.start.offset},k.loc&&(u.comment.loc=k.loc),this.leading.push(u),this.trailing.push(u))};m.visit=function(k,u){"Line"===k.type||"Block"===k.type?this.visitComment(k,u):this.attach&&this.visitNode(k,u)};return B}();D.CommentHandler=G;Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/lib/syntax":function(){define(["exports"],function(D){D.Syntax={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",
BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",ContinueStatement:"ContinueStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",
ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator"};Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/lib/parser":function(){define("exports ./assert ./error-handler ./messages ./nodes ./scanner ./syntax ./token".split(" "),
function(D,w,G,B,m,k,u,n){let e=function(){function p(b,h={},l){this.config={range:"boolean"===typeof h.range&&h.range,loc:"boolean"===typeof h.loc&&h.loc,source:null,tokens:"boolean"===typeof h.tokens&&h.tokens,comment:"boolean"===typeof h.comment&&h.comment,tolerant:"boolean"===typeof h.tolerant&&h.tolerant,globalReturn:!!h.globalReturn};this.config.loc&&h.source&&null!==h.source&&(this.config.source=String(h.source));this.delegate=l;this.errorHandler=new G.ErrorHandler;this.errorHandler.tolerant=
this.config.tolerant;this.scanner=new k.Scanner(b,this.errorHandler);this.scanner.trackComment=this.config.comment;this.operatorPrecedence={")":0,";":0,",":0,"\x3d":0,"]":0,"||":1,"\x26\x26":2,"|":3,"^":4,"\x26":5,"\x3d\x3d":6,"!\x3d":6,"\x3d\x3d\x3d":6,"!\x3d\x3d":6,"\x3c":7,"\x3e":7,"\x3c\x3d":7,"\x3e\x3d":7,"\x3c\x3c":8,"\x3e\x3e":8,"\x3e\x3e\x3e":8,"+":9,"-":9,"*":11,"/":11,"%":11};this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0};this.hasLineTerminator=
!1;this.context={allowIn:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,curlyParsing:"asObject"};this.tokens=[];this.startMarker={index:0,line:this.scanner.lineNumber,column:0};this.lastMarker={index:0,line:this.scanner.lineNumber,column:0};this.nextToken();this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}var y=p.prototype;y.tolerateError=function(b,...h){const l=
h.slice();b=b.replace(/%(\d)/g,(z,A)=>{w.assert(A<l.length,"Message reference must be in range");return l[A]});this.errorHandler.tolerateError(this.lastMarker.index,this.scanner.lineNumber,this.lastMarker.column+1,b)};y.unexpectedTokenError=function(b,h){let l=h||B.Messages.UnexpectedToken;b?(h||(l=2===b.type?B.Messages.UnexpectedEOS:3===b.type?B.Messages.UnexpectedIdentifier:6===b.type?B.Messages.UnexpectedNumber:8===b.type?B.Messages.UnexpectedString:10===b.type?B.Messages.UnexpectedTemplate:B.Messages.UnexpectedToken),
h=b.value.toString()):h="ILLEGAL";l=l.replace("%0",h);return b&&"number"===typeof b.lineNumber?this.errorHandler.createError(b.start,b.lineNumber,b.start-(this.lastMarker.index-this.lastMarker.column)+1,l):this.errorHandler.createError(this.lastMarker.index,this.lastMarker.line,this.lastMarker.column+1,l)};y.throwUnexpectedToken=function(b,h){throw this.unexpectedTokenError(b,h);};y.tolerateUnexpectedToken=function(b,h){this.errorHandler.tolerate(this.unexpectedTokenError(b,h))};y.collectComments=
function(){if(this.config.comment){const b=this.scanner.scanComments();if(b&&0<b.length&&this.delegate)for(let h=0;h<b.length;++h){const l=b[h],z=new m.Comment(l.multiLine?"Block":"Line",this.scanner.source.slice(l.slice[0],l.slice[1]));this.config.range&&(z.range=l.range);this.config.loc&&(z.loc=l.loc);this.delegate(z,{start:{line:l.loc.start.line,column:l.loc.start.column,offset:l.range[0]},end:{line:l.loc.end.line,column:l.loc.end.column,offset:l.range[1]}})}}else this.scanner.scanComments()};
y.peekAhead=function(b){const h=this.scanner.saveState();b.call(this,()=>{this.scanner.scanComments();return this.scanner.lex()});this.scanner.restoreState(h)};y.getTokenRaw=function(b){return this.scanner.source.slice(b.start,b.end)};y.convertToken=function(b){const h={type:n.TokenName[b.type],value:this.getTokenRaw(b)};this.config.range&&(h.range=[b.start,b.end]);this.config.loc&&(h.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-
this.scanner.lineStart}});9===b.type&&(h.regex={pattern:b.pattern,flags:b.flags});return h};y.nextToken=function(){const b=this.lookahead;this.lastMarker.index=this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;this.collectComments();this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);
const h=this.scanner.lex();this.hasLineTerminator=b.lineNumber!==h.lineNumber;this.lookahead=h;this.config.tokens&&2!==h.type&&this.tokens.push(this.convertToken(h));return b};y.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}};y.startNode=function(b,h=0){let l=b.start-b.lineStart,z=b.lineNumber;0>l&&(l+=h,z--);return{index:b.start,line:z,column:l}};y.finalize=function(b,h){this.config.range&&(h.range=[b.index,this.lastMarker.index]);
this.config.loc&&(h.loc={start:{line:b.line,column:b.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(h.loc.source=this.config.source));this.delegate&&this.delegate(h,{start:{line:b.line,column:b.column,offset:b.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}});return h};y.expect=function(b){const h=this.nextToken();7===h.type&&h.value===b||this.throwUnexpectedToken(h)};y.expectCommaSeparator=function(){if(this.config.tolerant){const b=
this.lookahead;7===b.type&&","===b.value?this.nextToken():7===b.type&&";"===b.value?(this.nextToken(),this.tolerateUnexpectedToken(b)):this.tolerateUnexpectedToken(b,B.Messages.UnexpectedToken)}else this.expect(",")};y.expectKeyword=function(b){const h=this.nextToken();4===h.type&&h.value.toString().toLowerCase()===b.toLowerCase()||this.throwUnexpectedToken(h)};y.match=function(b){return 7===this.lookahead.type&&this.lookahead.value===b};y.matchKeyword=function(b){return 4===this.lookahead.type&&
this.lookahead.value.toLowerCase()===b.toLowerCase()};y.matchContextualKeyword=function(b){return 3===this.lookahead.type&&this.lookahead.value===b};y.matchAssign=function(){return 7!==this.lookahead.type?!1:m.AssignmentOperators.includes(this.lookahead.value)};y.isolateCoverGrammar=function(b){const h=this.context.isBindingElement,l=this.context.isAssignmentTarget,z=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=
null;b=b.call(this);null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError);this.context.isBindingElement=h;this.context.isAssignmentTarget=l;this.context.firstCoverInitializedNameError=z;return b};y.inheritCoverGrammar=function(b){const h=this.context.isBindingElement,l=this.context.isAssignmentTarget,z=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=
null;b=b.call(this);this.context.isBindingElement=this.context.isBindingElement&&h;this.context.isAssignmentTarget=this.context.isAssignmentTarget&&l;this.context.firstCoverInitializedNameError=z||this.context.firstCoverInitializedNameError;return b};y.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,
this.lastMarker.column=this.startMarker.column)};y.parsePrimaryExpression=function(){var b=this.createNode();let h,l;switch(this.lookahead.type){case 3:b=this.finalize(b,new m.Identifier(this.nextToken().value));break;case 6:case 8:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;h=this.nextToken();l=this.getTokenRaw(h);b=this.finalize(b,new m.Literal(h.value,l));break;case 1:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;h=this.nextToken();l=this.getTokenRaw(h);
b=this.finalize(b,new m.Literal("true"===h.value.toString().toLowerCase(),l));break;case 5:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;h=this.nextToken();l=this.getTokenRaw(h);b=this.finalize(b,new m.Literal(null,l));break;case 10:b=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case "(":this.context.isBindingElement=!1;b=this.inheritCoverGrammar(this.parseGroupExpression);break;case "[":b=this.inheritCoverGrammar(this.parseArrayInitializer);break;case "{":b=
this.inheritCoverGrammar(this.parseObjectInitializer);break;default:b=this.throwUnexpectedToken(this.nextToken())}break;case 4:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;b=this.throwUnexpectedToken(this.nextToken());break;default:b=this.throwUnexpectedToken(this.nextToken())}return b};y.parseArrayInitializer=function(){const b=this.createNode(),h=[];for(this.expect("[");!this.match("]");)this.match(",")?(this.nextToken(),h.push(null)):(h.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),
this.match("]")||this.expect(","));this.expect("]");return this.finalize(b,new m.ArrayExpression(h))};y.parseObjectPropertyKey=function(){var b=this.createNode();const h=this.nextToken();switch(h.type){case 8:case 6:b=this.finalize(b,new m.Literal(h.value,this.getTokenRaw(h)));break;case 3:case 1:case 5:case 4:b=this.finalize(b,new m.Identifier(h.value));break;default:b=this.throwUnexpectedToken(h)}return b};y.parseObjectProperty=function(){const b=this.createNode();var h=this.lookahead;let l=!1,
z=!1;var A=null;3===h.type?(A=h.value,this.nextToken(),l=this.match("["),A=this.finalize(b,new m.Identifier(A))):this.match("*")?this.nextToken():(l=this.match("["),A=this.parseObjectPropertyKey());A||this.throwUnexpectedToken(this.lookahead);let F=null;this.match(":")?(this.nextToken(),F=this.inheritCoverGrammar(this.parseAssignmentExpression)):3===h.type?(h=this.finalize(b,new m.Identifier(h.value)),z=!0,F=h):this.throwUnexpectedToken(this.nextToken());return this.finalize(b,new m.Property("init",
A,l,F,!1,z))};y.parseObjectInitializer=function(){const b=this.createNode();this.expect("{");const h=[];for(;!this.match("}");)h.push(this.parseObjectProperty()),this.match("}")||this.expectCommaSeparator();this.expect("}");return this.finalize(b,new m.ObjectExpression(h))};y.parseTemplateHead=function(){w.assert(this.lookahead.head,"Template literal must start with a template head");const b=this.createNode(),h=this.nextToken();return this.finalize(b,new m.TemplateElement({raw:h.value,cooked:h.cooked},
h.tail))};y.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();const b=this.createNode(),h=this.nextToken();return this.finalize(b,new m.TemplateElement({raw:h.value,cooked:h.cooked},h.tail))};y.parseTemplateLiteral=function(){const b=this.createNode(),h=[],l=[];let z=this.parseTemplateHead();for(l.push(z);!z.tail;)h.push(this.parseExpression()),z=this.parseTemplateElement(),l.push(z);return this.finalize(b,new m.TemplateLiteral(l,h))};y.parseGroupExpression=function(){this.expect("(");
this.context.isBindingElement=!0;const b=this.inheritCoverGrammar(this.parseAssignmentExpression);this.expect(")");this.context.isBindingElement=!1;return b};y.parseArguments=function(){this.expect("(");const b=[];if(!this.match(")"))for(;;){const h=this.isolateCoverGrammar(this.parseAssignmentExpression);b.push(h);if(this.match(")"))break;this.expectCommaSeparator();if(this.match(")"))break}this.expect(")");return b};y.isIdentifierName=function(b){return 3===b.type||4===b.type||1===b.type||5===b.type};
y.parseIdentifierName=function(){const b=this.createNode(),h=this.nextToken();this.isIdentifierName(h)||this.throwUnexpectedToken(h);return this.finalize(b,new m.Identifier(h.value))};y.parseLeftHandSideExpressionAllowCall=function(){const b=this.lookahead,h=this.context.allowIn;this.context.allowIn=!0;let l=this.inheritCoverGrammar(this.parsePrimaryExpression);for(;;)if(this.match("(")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!1;var z=this.parseArguments();l=this.finalize(this.startNode(b),
new m.CallExpression(l,z))}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),z=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),l=this.finalize(this.startNode(b),new m.ComputedMemberExpression(l,z));else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),z=this.parseIdentifierName(),l=this.finalize(this.startNode(b),new m.StaticMemberExpression(l,z));else break;this.context.allowIn=
h;return l};y.parseLeftHandSideExpression=function(){w.assert(this.context.allowIn,"callee of new expression always allow in keyword.");const b=this.startNode(this.lookahead);let h=this.inheritCoverGrammar(this.parsePrimaryExpression);for(;;)if(this.match("[")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!0;this.expect("[");var l=this.isolateCoverGrammar(this.parseExpression);this.expect("]");h=this.finalize(b,new m.ComputedMemberExpression(h,l))}else if(this.match("."))this.context.isBindingElement=
!1,this.context.isAssignmentTarget=!0,this.expect("."),l=this.parseIdentifierName(),h=this.finalize(b,new m.StaticMemberExpression(h,l));else break;return h};y.parseUpdateExpression=function(){let b;var h=this.lookahead;if(this.match("++")||this.match("--")){h=this.startNode(h);var l=this.nextToken();b=this.inheritCoverGrammar(this.parseUnaryExpression);this.context.isAssignmentTarget||this.tolerateError(B.Messages.InvalidLHSInAssignment);b=this.finalize(h,new m.UpdateExpression(l.value,b,!0));this.context.isAssignmentTarget=
!1;this.context.isBindingElement=!1}else b=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),this.hasLineTerminator||7!==this.lookahead.type||!this.match("++")&&!this.match("--")||(this.context.isAssignmentTarget||this.tolerateError(B.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,l=this.nextToken().value,b=this.finalize(this.startNode(h),new m.UpdateExpression(l,b,!1)));return b};y.parseUnaryExpression=function(){let b;if(this.match("+")||
this.match("-")||this.match("~")||this.match("!")){const h=this.startNode(this.lookahead),l=this.nextToken();b=this.inheritCoverGrammar(this.parseUnaryExpression);b=this.finalize(h,new m.UnaryExpression(l.value,b));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else b=this.parseUpdateExpression();return b};y.binaryPrecedence=function(b){const h=b.value;return 7===b.type?this.operatorPrecedence[h]||0:4===b.type?this.context.allowIn&&"in"===h?12:0:0};y.parseBinaryExpression=function(){var b=
this.lookahead,h=this.inheritCoverGrammar(this.parseUnaryExpression),l=this.lookahead,z=this.binaryPrecedence(l);if(0<z){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;b=[b,this.lookahead];var A=this.inheritCoverGrammar(this.parseUnaryExpression);l=[h,l.value,A];for(var F=[z];;){z=this.binaryPrecedence(this.lookahead);if(0>=z)break;for(;2<l.length&&z<=F[F.length-1];){A=l.pop();const N=l.pop();F.pop();h=l.pop();b.pop();var E=b[b.length-1];E=this.startNode(E,E.lineStart);
l.push(this.finalize(E,new m.BinaryExpression(N,h,A)))}l.push(this.nextToken().value);F.push(z);b.push(this.lookahead);l.push(this.inheritCoverGrammar(this.parseUnaryExpression))}z=l.length-1;h=l[z];for(F=b.pop();1<z;){A=b.pop();if(!A)break;F=this.startNode(A,F&&F.lineStart);h=this.finalize(F,new m.BinaryExpression(l[z-1],l[z-2],h));z-=2;F=A}}return h};y.parseAssignmentExpression=function(){const b=this.lookahead;var h=b;let l=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.matchAssign()){this.context.isAssignmentTarget||
this.tolerateError(B.Messages.InvalidLHSInAssignment);this.match("\x3d")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);h=this.nextToken();h=h.value;const z=this.isolateCoverGrammar(this.parseAssignmentExpression);l=this.finalize(this.startNode(b),new m.AssignmentExpression(h,l,z));this.context.firstCoverInitializedNameError=null}return l};y.parseExpression=function(){return this.isolateCoverGrammar(this.parseAssignmentExpression)};y.parseStatementListItem=function(){let b;
this.context.isAssignmentTarget=!0;this.context.isBindingElement=!0;if(4===this.lookahead.type)switch(this.lookahead.value){case "function":b=this.parseFunctionDeclaration();break;default:b=this.parseStatement()}else b=this.parseStatement();return b};y.parseBlock=function(){const b=this.createNode();this.expect("{");const h=[];for(;!this.match("}");)h.push(this.parseStatementListItem());this.expect("}");return this.finalize(b,new m.BlockStatement(h))};y.parseObjectStatement=function(){const b=this.createNode(),
h=this.parseObjectInitializer();return this.finalize(b,new m.ExpressionStatement(h))};y.parseBlockOrObjectStatement=function(){let b="asObject"===this.context.curlyParsing;"asObjectOrBlock"===this.context.curlyParsing&&this.peekAhead(h=>{let l=h();if(3===l.type||8===l.type)l=h(),7===l.type&&":"===l.value&&(b=!0)});return b?this.parseObjectStatement():this.parseBlock()};y.parseVariableIdentifier=function(){const b=this.createNode(),h=this.nextToken();3!==h.type&&this.throwUnexpectedToken(h,B.Messages.IdentiferExpected);
return this.finalize(b,new m.Identifier(h.value))};y.parseVariableDeclaration=function(b){const h=this.createNode(),l=this.parseVariableIdentifier();let z=null;this.match("\x3d")?(this.nextToken(),z=this.isolateCoverGrammar(this.parseAssignmentExpression)):l.type===u.Syntax.Identifier||b.inFor||this.expect("\x3d");return this.finalize(h,new m.VariableDeclarator(l,z))};y.parseVariableDeclarationList=function(b){const h=[this.parseVariableDeclaration(b)];for(;this.match(",");)this.nextToken(),h.push(this.parseVariableDeclaration(b));
return h};y.parseVariableStatement=function(){const b=this.createNode();this.expectKeyword("var");const h=this.parseVariableDeclarationList({inFor:!1});this.consumeSemicolon();return this.finalize(b,new m.VariableDeclaration(h,"var"))};y.parseEmptyStatement=function(){const b=this.createNode();this.expect(";");return this.finalize(b,new m.EmptyStatement)};y.parseExpressionStatement=function(){const b=this.createNode(),h=this.parseExpression();this.consumeSemicolon();return this.finalize(b,new m.ExpressionStatement(h))};
y.parseIfClause=function(){const b=this.context.curlyParsing;this.context.curlyParsing="asObjectOrBlock";const h=this.parseStatement();this.context.curlyParsing=b;return h};y.parseIfStatement=function(){const b=this.createNode();let h,l=null;this.expectKeyword("if");this.expect("(");const z=this.parseExpression();!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),h=this.finalize(this.createNode(),new m.EmptyStatement)):(this.expect(")"),h=this.parseIfClause(),this.matchKeyword("else")&&
(this.nextToken(),l=this.parseIfClause()));return this.finalize(b,new m.IfStatement(z,h,l))};y.parseForStatement=function(){let b=null,h=null,l=null,z=null,A=null;const F=this.createNode();this.expectKeyword("for");this.expect("(");if(this.match(";"))this.nextToken();else if(this.matchKeyword("var")){var E=this.createNode();this.nextToken();var N=this.context.allowIn;this.context.allowIn=!1;var c=this.parseVariableDeclarationList({inFor:!0});this.context.allowIn=N;1===c.length&&this.matchKeyword("in")?
(c[0].init&&this.tolerateError(B.Messages.ForInOfLoopInitializer,"for-in"),z=this.finalize(E,new m.VariableDeclaration(c,"var")),this.nextToken(),A=this.parseExpression()):(b=this.finalize(E,new m.VariableDeclaration(c,"var")),this.expect(";"))}else{E=this.context.isBindingElement;N=this.context.isAssignmentTarget;c=this.context.firstCoverInitializedNameError;const q=this.context.allowIn;this.context.allowIn=!1;b=this.inheritCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=q;this.matchKeyword("in")?
(this.context.isAssignmentTarget&&b.type!==u.Syntax.AssignmentExpression||this.tolerateError(B.Messages.InvalidLHSInForIn),this.nextToken(),z=b,A=this.parseExpression(),b=null):(this.context.isBindingElement=E,this.context.isAssignmentTarget=N,this.context.firstCoverInitializedNameError=c,this.expect(";"))}z||(this.match(";")||(h=this.isolateCoverGrammar(this.parseExpression)),this.expect(";"),this.match(")")||(l=this.isolateCoverGrammar(this.parseExpression)));!this.match(")")&&this.config.tolerant?
(this.tolerateUnexpectedToken(this.nextToken()),E=this.finalize(this.createNode(),new m.EmptyStatement)):(this.expect(")"),N=this.context.inIteration,c=this.context.curlyParsing,this.context.inIteration=!0,this.context.curlyParsing="asObjectOrBlock",E=this.isolateCoverGrammar(this.parseStatement),this.context.curlyParsing=c,this.context.inIteration=N);return z&&A?this.finalize(F,new m.ForInStatement(z,A,E)):this.finalize(F,new m.ForStatement(b,h,l,E))};y.parseContinueStatement=function(){const b=
this.createNode();this.expectKeyword("continue");this.consumeSemicolon();return this.finalize(b,new m.ContinueStatement)};y.parseBreakStatement=function(){const b=this.createNode();this.expectKeyword("break");this.consumeSemicolon();return this.finalize(b,new m.BreakStatement)};y.parseReturnStatement=function(){this.config.globalReturn||this.context.inFunctionBody||this.tolerateError(B.Messages.IllegalReturn);const b=this.createNode();this.expectKeyword("return");const h=(this.match(";")||this.match("}")||
this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();this.consumeSemicolon();return this.finalize(b,new m.ReturnStatement(h))};y.parseStatement=function(){switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 3:var b=this.parseExpressionStatement();break;case 7:b=this.lookahead.value;b="{"===b?this.parseBlockOrObjectStatement():"("===b?this.parseExpressionStatement():";"===b?this.parseEmptyStatement():this.parseExpressionStatement();
break;case 4:switch(this.lookahead.value.toLowerCase()){case "break":b=this.parseBreakStatement();break;case "continue":b=this.parseContinueStatement();break;case "for":b=this.parseForStatement();break;case "function":b=this.parseFunctionDeclaration();break;case "if":b=this.parseIfStatement();break;case "return":b=this.parseReturnStatement();break;case "var":b=this.parseVariableStatement();break;default:b=this.parseExpressionStatement()}break;default:b=this.throwUnexpectedToken(this.lookahead)}return b};
y.parseFunctionSourceElements=function(){const b=this.createNode();this.expect("{");const h=this.context.inIteration,l=this.context.inFunctionBody;this.context.inIteration=!1;this.context.inFunctionBody=!0;const z=[];for(;2!==this.lookahead.type&&!this.match("}");)z.push(this.parseStatementListItem());this.expect("}");this.context.inIteration=h;this.context.inFunctionBody=l;return this.finalize(b,new m.BlockStatement(z))};y.parseFormalParameters=function(){const b=[];this.expect("(");if(!this.match(")"))for(;2!==
this.lookahead.type;){b.push(this.parseVariableIdentifier());if(this.match(")"))break;this.expect(",");if(this.match(")"))break}this.expect(")");return b};y.parseFunctionDeclaration=function(){const b=this.createNode();this.expectKeyword("function");const h=this.parseVariableIdentifier(),l=this.parseFormalParameters(),z=this.parseFunctionSourceElements();return this.finalize(b,new m.FunctionDeclaration(h,l,z))};y.parseScript=function(){const b=this.createNode(),h=[];for(;2!==this.lookahead.type;)h.push(this.parseStatementListItem());
return this.finalize(b,new m.Program(h))};return p}();D.Parser=e;Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/lib/assert":function(){define(["exports"],function(D){D.assert=function(w,G){if(!w)throw Error("ASSERT: "+G);};Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/lib/error-handler":function(){define(["exports"],function(D){let w=function(){function G(){this.errors=[];this.tolerant=!1}var B=G.prototype;B.recordError=function(m){this.errors.push(m)};B.tolerate=
function(m){if(this.tolerant)this.recordError(m);else throw m;};B.constructError=function(m,k){m=Error(m);try{throw m;}catch(u){Object.create&&Object.defineProperty&&(m=Object.create(u),Object.defineProperty(m,"column",{value:k}))}return m};B.createError=function(m,k,u,n){u=this.constructError("Line "+k+": "+n,u);u.index=m;u.lineNumber=k;u.description=n;return u};B.throwError=function(m,k,u,n){throw this.createError(m,k,u,n);};B.tolerateError=function(m,k,u,n){m=this.createError(m,k,u,n);if(this.tolerant)this.recordError(m);
else throw m;};return G}();D.ErrorHandler=w;Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/lib/messages":function(){define(["exports"],function(D){D.Messages={ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",
IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidRegExp:"Invalid regular expression",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictParamDupe:"Strict mode function may not have duplicate parameter names",
TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnterminatedRegExp:"Invalid regular expression: missing /",IdentiferExpected:"Identifier expected"};Object.defineProperty(D,"__esModule",{value:!0})})},
"esri/arcade/lib/nodes":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","./syntax"],function(D,w,G){var B=function(){};let m=function(ha){function fa(la,ma){var M=ha.call(this)||this;M.type=la;M.value=ma;return M}w._inheritsLoose(fa,ha);return fa}(B),k=function(ha){function fa(la){var ma=ha.call(this)||this;ma.elements=la;ma.type=G.Syntax.ArrayExpression;return ma}w._inheritsLoose(fa,ha);return fa}(B),u=function(ha){function fa(la,ma,M){var V=ha.call(this)||this;V.operator=la;
V.left=ma;V.right=M;V.type=G.Syntax.AssignmentExpression;return V}w._inheritsLoose(fa,ha);return fa}(B);const n=["||","\x26\x26"];let e=function(ha){function fa(la,ma,M){var V=ha.call(this)||this;V.operator=la;V.left=ma;V.right=M;V.type=n.includes(la)?G.Syntax.LogicalExpression:G.Syntax.BinaryExpression;return V}w._inheritsLoose(fa,ha);return fa}(B),p=function(ha){function fa(la){var ma=ha.call(this)||this;ma.body=la;ma.type=G.Syntax.BlockStatement;return ma}w._inheritsLoose(fa,ha);return fa}(B),
y=function(ha){function fa(){var la=ha.apply(this,arguments)||this;la.type=G.Syntax.BreakStatement;return la}w._inheritsLoose(fa,ha);return fa}(B),b=function(ha){function fa(la,ma){var M=ha.call(this)||this;M.callee=la;M.args=ma;M.type=G.Syntax.CallExpression;M.arguments=ma;return M}w._inheritsLoose(fa,ha);return fa}(B),h=function(ha){function fa(la,ma){var M=ha.call(this)||this;M.object=la;M.property=ma;M.type=G.Syntax.MemberExpression;M.computed=!0;return M}w._inheritsLoose(fa,ha);return fa}(B),
l=function(ha){function fa(la,ma){var M=ha.call(this)||this;M.object=la;M.property=ma;M.type=G.Syntax.MemberExpression;M.computed=!1;return M}w._inheritsLoose(fa,ha);return fa}(B),z=function(ha){function fa(){var la=ha.apply(this,arguments)||this;la.type=G.Syntax.ContinueStatement;return la}w._inheritsLoose(fa,ha);return fa}(B),A=function(ha){function fa(){var la=ha.apply(this,arguments)||this;la.type=G.Syntax.EmptyStatement;return la}w._inheritsLoose(fa,ha);return fa}(B),F=function(ha){function fa(la){var ma=
ha.call(this)||this;ma.expression=la;ma.type=G.Syntax.ExpressionStatement;return ma}w._inheritsLoose(fa,ha);return fa}(B),E=function(ha){function fa(la,ma,M){var V=ha.call(this)||this;V.left=la;V.right=ma;V.body=M;V.type=G.Syntax.ForInStatement;V.each=!1;return V}w._inheritsLoose(fa,ha);return fa}(B),N=function(ha){function fa(la,ma,M,V){var U=ha.call(this)||this;U.init=la;U.test=ma;U.update=M;U.body=V;U.type=G.Syntax.ForStatement;return U}w._inheritsLoose(fa,ha);return fa}(B),c=function(ha){function fa(la,
ma,M){var V=ha.call(this)||this;V.id=la;V.params=ma;V.body=M;V.type=G.Syntax.FunctionDeclaration;V.generator=!1;V.expression=!1;V.async=!1;return V}w._inheritsLoose(fa,ha);return fa}(B),q=function(ha){function fa(la){var ma=ha.call(this)||this;ma.name=la;ma.type=G.Syntax.Identifier;return ma}w._inheritsLoose(fa,ha);return fa}(B),d=function(ha){function fa(la,ma,M){var V=ha.call(this)||this;V.test=la;V.consequent=ma;V.alternate=M;V.type=G.Syntax.IfStatement;return V}w._inheritsLoose(fa,ha);return fa}(B),
t=function(ha){function fa(la,ma){var M=ha.call(this)||this;M.value=la;M.raw=ma;M.type=G.Syntax.Literal;return M}w._inheritsLoose(fa,ha);return fa}(B),f=function(ha){function fa(la){var ma=ha.call(this)||this;ma.properties=la;ma.type=G.Syntax.ObjectExpression;return ma}w._inheritsLoose(fa,ha);return fa}(B),S=function(ha){function fa(la,ma,M,V,U,W){var ka=ha.call(this)||this;ka.kind=la;ka.key=ma;ka.computed=M;ka.value=V;ka.method=U;ka.shorthand=W;ka.type=G.Syntax.Property;return ka}w._inheritsLoose(fa,
ha);return fa}(B),da=function(ha){function fa(la){var ma=ha.call(this)||this;ma.argument=la;ma.type=G.Syntax.ReturnStatement;return ma}w._inheritsLoose(fa,ha);return fa}(B),aa=function(ha){function fa(la){var ma=ha.call(this)||this;ma.body=la;ma.type=G.Syntax.Program;return ma}w._inheritsLoose(fa,ha);return fa}(B),Ja=function(ha){function fa(la,ma){var M=ha.call(this)||this;M.value=la;M.tail=ma;M.type=G.Syntax.TemplateElement;return M}w._inheritsLoose(fa,ha);return fa}(B),na=function(ha){function fa(la,
ma){var M=ha.call(this)||this;M.quasis=la;M.expressions=ma;M.type=G.Syntax.TemplateLiteral;return M}w._inheritsLoose(fa,ha);return fa}(B),Ca=function(ha){function fa(la,ma){var M=ha.call(this)||this;M.operator=la;M.argument=ma;M.type=G.Syntax.UnaryExpression;M.prefix=!0;return M}w._inheritsLoose(fa,ha);return fa}(B),Ua=function(ha){function fa(la,ma,M){var V=ha.call(this)||this;V.operator=la;V.argument=ma;V.prefix=M;V.type=G.Syntax.UpdateExpression;return V}w._inheritsLoose(fa,ha);return fa}(B),Qa=
function(ha){function fa(la,ma){var M=ha.call(this)||this;M.declarations=la;M.kind=ma;M.type=G.Syntax.VariableDeclaration;return M}w._inheritsLoose(fa,ha);return fa}(B);B=function(ha){function fa(la,ma){var M=ha.call(this)||this;M.id=la;M.init=ma;M.type=G.Syntax.VariableDeclarator;return M}w._inheritsLoose(fa,ha);return fa}(B);D.ArrayExpression=k;D.AssignmentExpression=u;D.AssignmentOperators="\x3d /\x3d *\x3d %\x3d +\x3d -\x3d".split(" ");D.BinaryExpression=e;D.BinaryOperators="| \x26 \x3e\x3e \x3c\x3c \x3e\x3e \x3e\x3e\x3e ^ \x3d\x3d !\x3d \x3c \x3c\x3d \x3e \x3e\x3d + - * / %".split(" ");
D.BlockStatement=p;D.BreakStatement=y;D.CallExpression=b;D.Comment=m;D.ComputedMemberExpression=h;D.ContinueStatement=z;D.EmptyStatement=A;D.ExpressionStatement=F;D.ForInStatement=E;D.ForStatement=N;D.FunctionDeclaration=c;D.Identifier=q;D.IfStatement=d;D.Literal=t;D.LogicalOperators=n;D.ObjectExpression=f;D.Program=aa;D.Property=S;D.ReturnStatement=da;D.StaticMemberExpression=l;D.TemplateElement=Ja;D.TemplateLiteral=na;D.UnaryExpression=Ca;D.UnaryOperators=["-","+","!","~"];D.UpdateExpression=Ua;
D.UpdateOperators=["++","--"];D.VariableDeclaration=Qa;D.VariableDeclarator=B;Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/lib/scanner":function(){define(["exports","./assert","./character","./messages"],function(D,w,G,B){let m=function(){function k(n,e){this.source=n;this.errorHandler=e;this.isModule=this.trackComment=!1;this.length=n.length;this.index=0;this.lineNumber=0<n.length?1:0;this.lineStart=0;this.curlyStack=[]}var u=k.prototype;u.saveState=function(){return{index:this.index,
lineNumber:this.lineNumber,lineStart:this.lineStart,curlyStack:this.curlyStack.slice()}};u.restoreState=function(n){this.index=n.index;this.lineNumber=n.lineNumber;this.lineStart=n.lineStart;this.curlyStack=n.curlyStack};u.eof=function(){return this.index>=this.length};u.throwUnexpectedToken=function(n=B.Messages.UnexpectedTokenIllegal){return this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,n)};u.tolerateUnexpectedToken=function(n=B.Messages.UnexpectedTokenIllegal){this.errorHandler.tolerateError(this.index,
this.lineNumber,this.index-this.lineStart+1,n)};u.skipSingleLineComment=function(n){let e=[],p=0,y=null;this.trackComment&&(e=[],p=this.index-n,y={start:{line:this.lineNumber,column:this.index-this.lineStart-n},end:{line:0,column:0}});for(;!this.eof();){const b=this.source.charCodeAt(this.index);++this.index;if(G.Character.isLineTerminator(b))return y&&(y.end={line:this.lineNumber,column:this.index-this.lineStart-1},e.push({multiLine:!1,slice:[p+n,this.index-1],range:[p,this.index-1],loc:y})),13===
b&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,e}y&&(y.end={line:this.lineNumber,column:this.index-this.lineStart},e.push({multiLine:!1,slice:[p+n,this.index],range:[p,this.index],loc:y}));return e};u.skipMultiLineComment=function(){const n=[];let e=0,p=null;this.trackComment&&(e=this.index-2,p={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{line:0,column:0}});for(;!this.eof();){const y=this.source.charCodeAt(this.index);
if(G.Character.isLineTerminator(y))13===y&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else{if(42===y&&47===this.source.charCodeAt(this.index+1))return this.index+=2,p&&(p.end={line:this.lineNumber,column:this.index-this.lineStart},n.push({multiLine:!0,slice:[e+2,this.index-2],range:[e,this.index],loc:p})),n;++this.index}}p&&(p.end={line:this.lineNumber,column:this.index-this.lineStart},n.push({multiLine:!0,slice:[e+2,this.index],
range:[e,this.index],loc:p}));this.tolerateUnexpectedToken();return n};u.scanComments=function(){let n=null;this.trackComment&&(n=[]);for(var e=0===this.index;!this.eof();){var p=this.source.charCodeAt(this.index);if(G.Character.isWhiteSpace(p))++this.index;else if(G.Character.isLineTerminator(p))++this.index,13===p&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,e=!0;else if(47===p)if(p=this.source.charCodeAt(this.index+1),47===p)this.index+=2,e=
this.skipSingleLineComment(2),n&&(n=n.concat(e)),e=!0;else if(42===p)this.index+=2,p=this.skipMultiLineComment(),n&&(n=n.concat(p));else break;else if(e&&45===p)if(45===this.source.charCodeAt(this.index+1)&&62===this.source.charCodeAt(this.index+2))this.index+=3,p=this.skipSingleLineComment(3),n&&(n=n.concat(p));else break;else if(60!==p||this.isModule)break;else if("!--"===this.source.slice(this.index+1,this.index+4))this.index+=4,p=this.skipSingleLineComment(4),n&&(n=n.concat(p));else break}return n};
u.isKeyword=function(n){n=n.toLowerCase();switch(n.length){case 2:return"if"===n||"in"===n;case 3:return"var"===n||"for"===n;case 4:return"else"===n;case 5:return"break"===n;case 6:return"return"===n;case 8:return"function"===n||"continue"===n;default:return!1}};u.codePointAt=function(n){let e=this.source.charCodeAt(n);55296<=e&&56319>=e&&(n=this.source.charCodeAt(n+1),56320<=n&&57343>=n&&(e=1024*(e-55296)+n-56320+65536));return e};u.scanHexEscape=function(n){n="u"===n?4:2;let e=0;for(let p=0;p<n;++p)if(!this.eof()&&
G.Character.isHexDigit(this.source.charCodeAt(this.index)))e=16*e+"0123456789abcdef".indexOf(this.source[this.index++].toLowerCase());else return null;return String.fromCharCode(e)};u.scanUnicodeCodePointEscape=function(){let n=this.source[this.index],e=0;for("}"===n&&this.throwUnexpectedToken();!this.eof();){n=this.source[this.index++];if(!G.Character.isHexDigit(n.charCodeAt(0)))break;e=16*e+"0123456789abcdef".indexOf(n.toLowerCase())}(1114111<e||"}"!==n)&&this.throwUnexpectedToken();return G.Character.fromCodePoint(e)};
u.getIdentifier=function(){const n=this.index++;for(;!this.eof();){const e=this.source.charCodeAt(this.index);if(92===e||55296<=e&&57343>e)return this.index=n,this.getComplexIdentifier();if(G.Character.isIdentifierPart(e))++this.index;else break}return this.source.slice(n,this.index)};u.getComplexIdentifier=function(){let n=this.codePointAt(this.index),e=G.Character.fromCodePoint(n);this.index+=e.length;let p;92===n&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,
"{"===this.source[this.index]?(++this.index,p=this.scanUnicodeCodePointEscape()):(p=this.scanHexEscape("u"),null!==p&&"\\"!==p&&G.Character.isIdentifierStart(p.charCodeAt(0))||this.throwUnexpectedToken()),e=p);for(;!this.eof();){n=this.codePointAt(this.index);if(!G.Character.isIdentifierPart(n))break;p=G.Character.fromCodePoint(n);e+=p;this.index+=p.length;92===n&&(e=e.substr(0,e.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?
(++this.index,p=this.scanUnicodeCodePointEscape()):(p=this.scanHexEscape("u"),null!==p&&"\\"!==p&&G.Character.isIdentifierPart(p.charCodeAt(0))||this.throwUnexpectedToken()),e+=p)}return e};u.octalToDecimal=function(n){let e="0"!==n,p="01234567".indexOf(n);!this.eof()&&G.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(e=!0,p=8*p+"01234567".indexOf(this.source[this.index++]),0<="0123".indexOf(n)&&!this.eof()&&G.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(p=8*p+"01234567".indexOf(this.source[this.index++])));
return{code:p,octal:e}};u.scanIdentifier=function(){let n;const e=this.index,p=92===this.source.charCodeAt(e)?this.getComplexIdentifier():this.getIdentifier();n=1===p.length?3:this.isKeyword(p)?4:"null"===p.toLowerCase()?5:"true"===p.toLowerCase()||"false"===p.toLowerCase()?1:3;if(3!==n&&e+p.length!==this.index){const y=this.index;this.index=e;this.tolerateUnexpectedToken(B.Messages.InvalidEscapedReservedWord);this.index=y}return{type:n,value:p,lineNumber:this.lineNumber,lineStart:this.lineStart,
start:e,end:this.index}};u.scanPunctuator=function(){const n=this.index;let e=this.source[this.index];switch(e){case "(":case "{":"{"===e&&this.curlyStack.push("{");++this.index;break;case ".":++this.index;break;case "}":++this.index;this.curlyStack.pop();break;case ")":case ";":case ",":case "[":case "]":case ":":case "?":case "~":++this.index;break;default:e=this.source.substr(this.index,4),"\x3e\x3e\x3e\x3d"===e?this.index+=4:(e=e.substr(0,3),"\x3d\x3d\x3d"===e||"!\x3d\x3d"===e||"\x3e\x3e\x3e"===
e||"\x3c\x3c\x3d"===e||"\x3e\x3e\x3d"===e||"**\x3d"===e?this.index+=3:(e=e.substr(0,2),"\x26\x26"===e||"||"===e||"\x3d\x3d"===e||"!\x3d"===e||"+\x3d"===e||"-\x3d"===e||"*\x3d"===e||"/\x3d"===e||"++"===e||"--"===e||"\x3c\x3c"===e||"\x3e\x3e"===e||"\x26\x3d"===e||"|\x3d"===e||"^\x3d"===e||"%\x3d"===e||"\x3c\x3d"===e||"\x3e\x3d"===e||"\x3d\x3e"===e||"**"===e?this.index+=2:(e=this.source[this.index],0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(e)&&++this.index)))}this.index===n&&this.throwUnexpectedToken();
return{type:7,value:e,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}};u.scanHexLiteral=function(n){let e="";for(;!this.eof()&&G.Character.isHexDigit(this.source.charCodeAt(this.index));)e+=this.source[this.index++];0===e.length&&this.throwUnexpectedToken();G.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseInt("0x"+e,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}};u.scanBinaryLiteral=
function(n){let e="";for(;!this.eof();){var p=this.source[this.index];if("0"!==p&&"1"!==p)break;e+=this.source[this.index++]}0===e.length&&this.throwUnexpectedToken();this.eof()||(p=this.source.charCodeAt(this.index),(G.Character.isIdentifierStart(p)||G.Character.isDecimalDigit(p))&&this.throwUnexpectedToken());return{type:6,value:parseInt(e,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}};u.scanOctalLiteral=function(n,e){let p="",y=!1;G.Character.isOctalDigit(n.charCodeAt(0))?
(y=!0,p="0"+this.source[this.index++]):++this.index;for(;!this.eof()&&G.Character.isOctalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];y||0!==p.length||this.throwUnexpectedToken();(G.Character.isIdentifierStart(this.source.charCodeAt(this.index))||G.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken();return{type:6,value:parseInt(p,8),octal:y,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}};u.scanNumericLiteral=
function(){const n=this.index;let e=this.source[n];w.assert(G.Character.isDecimalDigit(e.charCodeAt(0))||"."===e,"Numeric literal must start with a decimal digit or a decimal point");let p="";if("."!==e){p=this.source[this.index++];e=this.source[this.index];if("0"===p){if("x"===e||"X"===e)return++this.index,this.scanHexLiteral(n);if("b"===e||"B"===e)return++this.index,this.scanBinaryLiteral(n);if("o"===e||"O"===e)return this.scanOctalLiteral(e,n)}for(;G.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=
this.source[this.index++];e=this.source[this.index]}if("."===e){for(p+=this.source[this.index++];G.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];e=this.source[this.index]}if("e"===e||"E"===e){p+=this.source[this.index++];e=this.source[this.index];if("+"===e||"-"===e)p+=this.source[this.index++];if(G.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;G.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];
else this.throwUnexpectedToken()}G.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseFloat(p),lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}};u.scanStringLiteral=function(){const n=this.index;let e=this.source[n];w.assert("'"===e||'"'===e,"String literal must starts with a quote");++this.index;let p=!1,y="";for(;!this.eof();){var b=this.source[this.index++];if(b===e){e="";break}if("\\"===b)if((b=this.source[this.index++])&&
G.Character.isLineTerminator(b.charCodeAt(0)))++this.lineNumber,"\r"===b&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(b){case "u":"{"===this.source[this.index]?(++this.index,y+=this.scanUnicodeCodePointEscape()):(b=this.scanHexEscape(b),null===b&&this.throwUnexpectedToken(),y+=b);break;case "x":b=this.scanHexEscape(b);null===b&&this.throwUnexpectedToken(B.Messages.InvalidHexEscapeSequence);y+=b;break;case "n":y+="\n";break;case "r":y+="\r";break;case "t":y+=
"\t";break;case "b":y+="\b";break;case "f":y+="\f";break;case "v":y+="\v";break;case "8":case "9":y+=b;this.tolerateUnexpectedToken();break;default:b&&G.Character.isOctalDigit(b.charCodeAt(0))?(b=this.octalToDecimal(b),p=b.octal||p,y+=String.fromCharCode(b.code)):y+=b}else if(G.Character.isLineTerminator(b.charCodeAt(0)))break;else y+=b}""!==e&&(this.index=n,this.throwUnexpectedToken());return{type:8,value:y,octal:p,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}};u.scanTemplate=
function(){let n="",e=!1;const p=this.index,y="`"===this.source[p];let b=!1,h=2;for(++this.index;!this.eof();){var l=this.source[this.index++];if("`"===l){h=1;e=b=!0;break}if("$"===l){if("{"===this.source[this.index]){this.curlyStack.push("${");++this.index;e=!0;break}n+=l}else if("\\"===l)if(l=this.source[this.index++],G.Character.isLineTerminator(l.charCodeAt(0)))++this.lineNumber,"\r"===l&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(l){case "n":n+="\n";break;
case "r":n+="\r";break;case "t":n+="\t";break;case "u":if("{"===this.source[this.index])++this.index,n+=this.scanUnicodeCodePointEscape();else{const z=this.index,A=this.scanHexEscape(l);null!==A?n+=A:(this.index=z,n+=l)}break;case "x":l=this.scanHexEscape(l);null===l&&this.throwUnexpectedToken(B.Messages.InvalidHexEscapeSequence);n+=l;break;case "b":n+="\b";break;case "f":n+="\f";break;case "v":n+="\v";break;default:"0"===l?(G.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(B.Messages.TemplateOctalLiteral),
n+="\x00"):G.Character.isOctalDigit(l.charCodeAt(0))?this.throwUnexpectedToken(B.Messages.TemplateOctalLiteral):n+=l}else G.Character.isLineTerminator(l.charCodeAt(0))?(++this.lineNumber,"\r"===l&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,n+="\n"):n+=l}e||this.throwUnexpectedToken();y||this.curlyStack.pop();return{type:10,value:this.source.slice(p+1,this.index-h),cooked:n,head:y,tail:b,lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}};u.testRegExp=
function(n,e){let p=n;0<=e.indexOf("u")&&(p=p.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(y,b,h)=>{y=parseInt(b||h,16);1114111<y&&this.throwUnexpectedToken(B.Messages.InvalidRegExp);return 65535>=y?String.fromCharCode(y):"\uffff"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uffff"));try{RegExp(p)}catch(y){this.throwUnexpectedToken(B.Messages.InvalidRegExp)}try{return new RegExp(n,e)}catch(y){return null}};u.scanRegExpBody=function(){let n=this.source[this.index];w.assert("/"===n,"Regular expression literal must start with a slash");
let e=this.source[this.index++],p=!1,y=!1;for(;!this.eof();)if(n=this.source[this.index++],e+=n,"\\"===n)n=this.source[this.index++],G.Character.isLineTerminator(n.charCodeAt(0))&&this.throwUnexpectedToken(B.Messages.UnterminatedRegExp),e+=n;else if(G.Character.isLineTerminator(n.charCodeAt(0)))this.throwUnexpectedToken(B.Messages.UnterminatedRegExp);else if(p)"]"===n&&(p=!1);else{if("/"===n){y=!0;break}"["===n&&(p=!0)}y||this.throwUnexpectedToken(B.Messages.UnterminatedRegExp);return e.substr(1,
e.length-2)};u.scanRegExpFlags=function(){let n="";for(;!this.eof();){var e=this.source[this.index];if(!G.Character.isIdentifierPart(e.charCodeAt(0)))break;++this.index;if("\\"!==e||this.eof())n+=e;else{e=this.source[this.index];if("u"===e){++this.index;e=this.index;const p=this.scanHexEscape("u");if(null!==p)for(n+=p;e<this.index;++e);else this.index=e,n+="u"}this.tolerateUnexpectedToken()}}return n};u.scanRegExp=function(){const n=this.index,e=this.scanRegExpBody(),p=this.scanRegExpFlags(),y=this.testRegExp(e,
p);return{type:9,value:"",pattern:e,flags:p,regex:y,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}};u.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};const n=this.source.charCodeAt(this.index);return G.Character.isIdentifierStart(n)?this.scanIdentifier():40===n||41===n||59===n?this.scanPunctuator():39===n||34===n?this.scanStringLiteral():46===n?G.Character.isDecimalDigit(this.source.charCodeAt(this.index+
1))?this.scanNumericLiteral():this.scanPunctuator():G.Character.isDecimalDigit(n)?this.scanNumericLiteral():96===n||125===n&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():55296<=n&&57343>n&&G.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()};return k}();D.Scanner=m;Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/lib/character":function(){define(["exports"],function(D){var w=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,
G=/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/;
const B={fromCodePoint(m){return 65536>m?String.fromCharCode(m):String.fromCharCode(55296+(m-65536>>10))+String.fromCharCode(56320+(m-65536&1023))},isWhiteSpace(m){return 32===m||9===m||11===m||12===m||160===m||5760<=m&&0<=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(m)},isLineTerminator(m){return 10===m||13===m||8232===m||8233===m},isIdentifierStart(m){return 36===m||95===m||65<=m&&90>=m||97<=m&&122>=m||92===m||128<=m&&w.test(B.fromCodePoint(m))},isIdentifierPart(m){return 36===
m||95===m||65<=m&&90>=m||97<=m&&122>=m||48<=m&&57>=m||92===m||128<=m&&G.test(B.fromCodePoint(m))},isDecimalDigit(m){return 48<=m&&57>=m},isHexDigit(m){return 48<=m&&57>=m||65<=m&&70>=m||97<=m&&102>=m},isOctalDigit(m){return 48<=m&&55>=m}};D.Character=B;Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/lib/token":function(){define(["exports"],function(D){D.TokenName={1:"Boolean",2:"\x3cend\x3e",3:"Identifier",4:"Keyword",5:"Null",6:"Numeric",7:"Punctuator",8:"String",9:"RegularExpression",
10:"Template"};Object.defineProperty(D,"__esModule",{value:!0})})},"esri/arcade/lib/tokenizer":function(){define(["exports","./error-handler","./nodes","./scanner","./token"],function(D,w,G,B,m){let k=function(){function n(){this.values=[];this.curly=this.paren=-1}var e=n.prototype;e.beforeFunctionExpression=function(p){return 0<=["(","{","[","return",",",...G.AssignmentOperators,...G.BinaryOperators,...G.LogicalOperators,...G.UnaryOperators].indexOf(p)};e.isRegexStart=function(){var p=this.values[this.values.length-
1];let y=null!==p;switch(p){case "this":case "]":y=!1;break;case ")":p=this.values[this.paren-1];y="if"===p||"while"===p||"for"===p||"with"===p;break;case "}":y=!0,"function"===this.values[this.curly-3]?y=(p=this.values[this.curly-4])?!this.beforeFunctionExpression(p):!1:"function"===this.values[this.curly-4]&&(y=(p=this.values[this.curly-5])?!this.beforeFunctionExpression(p):!0)}return y};e.push=function(p){7===p.type||4===p.type?("{"===p.value?this.curly=this.values.length:"("===p.value&&(this.paren=
this.values.length),this.values.push(p.value)):this.values.push(null)};return n}(),u=function(){function n(p,y){this.errorHandler=new w.ErrorHandler;this.errorHandler.tolerant=y?"boolean"===typeof y.tolerant&&y.tolerant:!1;this.scanner=new B.Scanner(p,this.errorHandler);this.scanner.trackComment=y?"boolean"===typeof y.comment&&y.comment:!1;this.trackRange=y?"boolean"===typeof y.range&&y.range:!1;this.trackLoc=y?"boolean"===typeof y.loc&&y.loc:!1;this.buffer=[];this.reader=new k}var e=n.prototype;
e.errors=function(){return this.errorHandler.errors};e.getNextToken=function(){if(0===this.buffer.length){var p=this.scanner.scanComments();if(p)for(var y=0;y<p.length;++y){const h=p[y];var b=this.scanner.source.slice(h.slice[0],h.slice[1]);b={type:h.multiLine?"BlockComment":"LineComment",value:b};this.trackRange&&(b.range=h.range);this.trackLoc&&(b.loc=h.loc);this.buffer.push(b)}if(!this.scanner.eof()){p=null;this.trackLoc&&(p={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},
end:{line:0,column:0}});let h;if("/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()){y=this.scanner.saveState();try{h=this.scanner.scanRegExp()}catch(l){this.scanner.restoreState(y),h=this.scanner.lex()}}else h=this.scanner.lex();this.reader.push(h);y={type:m.TokenName[h.type],value:this.scanner.source.slice(h.start,h.end)};this.trackRange&&(y.range=[h.start,h.end]);this.trackLoc&&p&&(p.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},y.loc=
p);9===h.type&&(y.regex={pattern:h.pattern,flags:h.flags});this.buffer.push(y)}}return this.buffer.shift()};return n}();D.Tokenizer=u;Object.defineProperty(D,"__esModule",{value:!0})})},"*noref":1}});
define("exports ../chunks/arcade ../arcade/Dictionary ../arcade/Feature ../core/lang ../renderers/visualVariables/support/sizeVariableUtils".split(" "),function(D,w,G,B,m,k){function u(l){return l.replace(/[|\\{}()[\]^$+*?.]/g,"\\$\x26")}function n(l){if(!l)return null;try{return w.parseScript(l)}catch(z){}return null}function e(l,z){if(!l)return!1;if("string"===typeof l)return z(l);if("simple"===l.type||"class-breaks"===l.type||"unique-value"===l.type||"dot-density"===l.type||"dictionary"===l.type){if("dot-density"===
l.type){var A=l.attributes.some(F=>z(F.valueExpression));if(A)return A}A=l.visualVariables;A=!!A&&A.some(F=>{let E=z(F.valueExpression);"size"===F.type&&(k.isSizeVariable(F.minSize)&&(E=E||z(F.minSize.valueExpression)),k.isSizeVariable(F.maxSize)&&(E=E||z(F.maxSize.valueExpression)));return E});return"valueExpression"in l&&z(l.valueExpression)?!0:A}return"esri.layers.support.LabelClass"===l.declaredClass?(l=l.labelExpressionInfo&&l.labelExpressionInfo.expression,!(!l||!z(l))||!1):"esri.PopupTemplate"===
l.declaredClass?!!l.expressionInfos&&l.expressionInfos.some(F=>z(F.expression)):!1}function p(l){l=n(l);return!!l&&w.scriptTouchesGeometry(l)}function y(l){l=n(l);return!!l&&w.scriptUsesGeometryEngine(l)}const b=/^\$(feature|aggregatedFeatures)\./i,h={vars:{$feature:"any",$view:"any"},spatialReference:null};D.arcade=w.arcade;D.Dictionary=G;D.arcadeFeature=B;D.convertFeatureLayerToFeatureSet=function({layer:l,spatialReference:z,outFields:A,returnGeometry:F,lrucache:E,interceptor:N}){if(null===l)return null;
const c=w.featureSetUtils();return c?c.constructFeatureSet(l,z,A,null!=F?F:!0,E,N):null};D.convertMapToFeatureSetCollection=function(l){if(null===(null==l?void 0:l.map))return null;const z=w.featureSetUtils();return z?z.createFeatureSetCollectionFromMap(l.map,l.spatialReference,l.lrucache,l.interceptor):null};D.convertServiceUrlToWorkspace=function({url:l,spatialReference:z,lrucache:A,interceptor:F}){const E=w.featureSetUtils();return E?E.createFeatureSetCollectionFromService(l,z,A,F):null};D.createExecContext=
function(l,z){return{vars:{$feature:null==l?new B:B.createFromGraphic(l),$view:z&&z.view},spatialReference:z&&z.sr}};D.createFeature=function(l,z,A){return B.createFromGraphicLikeObject(z,l,A)};D.createFunction=function(l,z){l="string"===typeof l?n(l):l;if(!l)return null;try{return z=z||m.clone(h),w.compileScript(l,z)}catch(A){}return null};D.createSyntaxTree=n;D.dependsOnView=function(l){return w.referencesMember(l,"$view")};D.enableFeatureSetOperations=function(){return w.enableFeatureSetSupport()};
D.enableGeometryOperations=function(){return w.enableGeometrySupport()};D.evalSyntaxTree=function(l,z){let A;try{A=w.executeScript(l,z)}catch(F){A=null}return A};D.executeAsyncFunction=function(l,z){try{return l?l(z):Promise.resolve(null)}catch(A){return Promise.resolve(null)}};D.executeFunction=function(l,z){let A;try{A=l?l(z):null}catch(F){A=null}return A};D.extractFieldNames=function(l,z){if(!l)return[];l="string"===typeof l?n(l):l;if(!l)return[];let A=[];w.extractExpectedFieldLiterals(l).forEach(E=>
{b.test(E)&&(E=E.replace(b,""),A.push(E))});const F=A.filter(E=>E.includes("*"));A=A.filter(E=>!F.includes(E));z&&F.forEach(E=>{const N=new RegExp(`^${E.split(/\*+/).map(u).join(".*")}$`,"i");z.forEach(c=>N.test(c)?A.push(c):null)});return[...new Set(A.sort())]};D.getViewInfo=function(l){if(l&&(null!=l.spatialReference||null!=l.scale&&null!=l.viewingMode))return{view:l.viewingMode&&null!=l.scale?new G({viewingMode:l.viewingMode,scale:l.scale}):null,sr:l.spatialReference}};D.hasGeometryFunctions=function(l){return e(l,
p)};D.hasGeometryOperations=function(l){return e(l,y)};D.hasVariable=function(l,z){return l?w.referencesMember(l,z):!1};D.loadScriptDependencies=function(l,z,A=[]){return w.loadScriptDependencies(l,z,A)};D.updateExecContext=function(l,z){l.vars.$feature=z};Object.defineProperty(D,"__esModule",{value:!0})});