// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.21/esri/copyright.txt for details.
//>>built
require({cache:{"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),function(q,d,Z,T,m,v,h,J){function k(e,t){return e?t?4:3:t?3:2}function w(e,t,I,N){if(e){if(I)return t&&N?b:Sa;if(t&&N)return sa}else if(t&&N)return Sa;return Da}function ba({scale:e,translate:t},I){return Math.round((I-t[0])/e[0])}function W({scale:e,translate:t},
I){return Math.round((t[1]-I)/e[1])}function C({scale:e,translate:t},I){return I*e[0]+t[0]}function B({scale:e,translate:t},I){return t[1]-I*e[1]}function R(e){e=e.coords;return{x:e[0],y:e[1]}}function f(e,t){e.coords[0]=t.x;e.coords[1]=t.y;return e}function r(e){e=e.coords;return{x:e[0],y:e[1],z:e[2]}}function u(e,t){e.coords[0]=t.x;e.coords[1]=t.y;e.coords[2]=t.z;return e}function E(e){e=e.coords;return{x:e[0],y:e[1],m:e[2]}}function x(e,t){e.coords[0]=t.x;e.coords[1]=t.y;e.coords[2]=t.m;return e}
function A(e){e=e.coords;return{x:e[0],y:e[1],z:e[2],m:e[3]}}function F(e,t){e.coords[0]=t.x;e.coords[1]=t.y;e.coords[2]=t.z;e.coords[3]=t.m;return e}function S(e,t){return e&&t?F:e?u:t?x:f}function ha(e,t,I,N,aa){I=S(I,N);for(const Y of t){const {geometry:y,attributes:G}=Y;let X;y&&(X=I(new J,y));e.push(new v["default"](X,G,null,G[aa]))}return e}function ca(e,t,I,N){for(const aa of t){const {geometry:Y,attributes:y}=aa;let G;Y&&(G=ja(Y,I,N));e.push({attributes:y,geometry:G})}return e}function ja(e,
t,I){if(T.isNone(e))return null;const N=k(t,I),aa=[];for(let Y=0;Y<e.coords.length;Y+=N){const y=[];for(let G=0;G<N;G++)y.push(e.coords[Y+G]);aa.push(y)}return t?I?{points:aa,hasZ:t,hasM:I}:{points:aa,hasZ:t}:I?{points:aa,hasM:I}:{points:aa}}function K(e,t,I,N,aa){I=k(I,N);for(const Y of t){t=Y.geometry;N=Y.attributes;let y;t&&(y=L(new J,t,I));e.push(new v["default"](y,N,null,N[aa]))}return e}function L(e,t,I=k(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const N=e.coords;let aa=0;for(const Y of t.points)for(t=
0;t<I;t++)N[aa++]=Y[t];return e}function P(e,t,I){if(!e)return null;const N=k(t,I),{coords:aa,lengths:Y}=e;e=[];let y=0;for(const G of Y){const X=[];for(let ma=0;ma<G;ma++){const na=[];for(let ta=0;ta<N;ta++)na.push(aa[y++]);X.push(na)}e.push(X)}return t?I?{paths:e,hasZ:t,hasM:I}:{paths:e,hasZ:t}:I?{paths:e,hasM:I}:{paths:e}}function Q(e,t,I,N,aa){I=k(I,N);for(const Y of t){t=Y.geometry;N=Y.attributes;let y;t&&(y=p(new J,t,I));e.push(new v["default"](y,N,null,N[aa]))}return e}function p(e,t,I=k(t.hasZ,
t.hasM)){const {lengths:N,coords:aa}=e;let Y=0;for(const y of t.paths){for(const G of y)for(t=0;t<I;t++)aa[Y++]=G[t];N.push(y.length)}return e}function n(e,t,I){if(!e)return null;const N=k(t,I),{coords:aa,lengths:Y}=e;e=[];let y=0;for(const G of Y){const X=[];for(let ma=0;ma<G;ma++){const na=[];for(let ta=0;ta<N;ta++)na.push(aa[y++]);X.push(na)}e.push(X)}return t?I?{rings:e,hasZ:t,hasM:I}:{rings:e,hasZ:t}:I?{rings:e,hasM:I}:{rings:e}}function H(e,t,I,N,aa){for(const Y of t){t=Y.geometry;const y=Y.centroid,
G=Y.attributes;let X;t&&(X=O(new J,t,I,N));T.isSome(y)?e.push(new v["default"](X,G,f(new J,y),G[aa])):e.push(new v["default"](X,G,null,G[aa]))}return e}function O(e,t,I=t.hasZ,N=t.hasM){ea(e,t.rings,I,N);return e}function ea(e,t,I,N){I=k(I,N);const {lengths:aa,coords:Y}=e;N=0;aa.length=Y.length=0;for(const y of t){for(const G of y)for(t=0;t<I;t++)Y[N++]=G[t];aa.push(y.length)}return e}function ia(e,t,I,N,aa,Y){e.length=0;if(!I){for(const y of t)e.push(new v["default"](null,y.attributes,null,y.attributes[Y]));
return e}switch(I){case "esriGeometryPoint":return ha(e,t,N,aa,Y);case "esriGeometryMultipoint":return K(e,t,N,aa,Y);case "esriGeometryPolyline":return Q(e,t,N,aa,Y);case "esriGeometryPolygon":return H(e,t,N,aa,Y);default:Ta.error("convertToFeatureSet:unknown-geometry",new d(`Unable to parse unknown geometry type '${I}'`)),e.length=0}return e}function la(e,t,I,N){e=e&&("coords"in e?e:e.geometry);if(T.isNone(e))return null;switch(t){case "esriGeometryPoint":return t=R,I&&N?t=A:I?t=r:N&&(t=E),t(e);
case "esriGeometryMultipoint":return ja(e,I,N);case "esriGeometryPolyline":return P(e,I,N);case "esriGeometryPolygon":return n(e,I,N);default:Ta.error("convertToGeometry:unknown-geometry",new d(`Unable to parse unknown geometry type '${t}'`))}}function qa(e,t,I,N,aa){e.length=0;if(T.isNone(I)){for(const G of t)e.push({attributes:G.attributes});return e}switch(I){case "esriGeometryPoint":var Y=R;N&&aa?Y=A:N?Y=r:aa&&(Y=E);for(var y of t){const {geometry:G,attributes:X}=y;N=T.isSome(G)?Y(G):null;e.push({attributes:X,
geometry:N})}break;case "esriGeometryMultipoint":return ca(e,t,N,aa);case "esriGeometryPolyline":for(const G of t){const {geometry:X,attributes:ma}=G;let na;T.isSome(X)&&(na=P(X,N,aa));e.push({attributes:ma,geometry:na})}break;case "esriGeometryPolygon":for(Y of t){const {geometry:G,attributes:X,centroid:ma}=Y;let na;T.isSome(G)&&(na=n(G,N,aa));ma?(y=R(ma),e.push({attributes:X,centroid:y,geometry:na})):e.push({attributes:X,geometry:na})}break;default:Ta.error("convertToFeatureSet:unknown-geometry",
new d(`Unable to parse unknown geometry type '${I}'`))}return e}function za(e,t,I,N,aa,Y,y=I,G=N){e.lengths.length&&(e.lengths.length=0);e.coords.length&&(e.coords.length=0);if(T.isNone(t)||!t.coords.length)return null;aa=Ka[aa];const {coords:X,lengths:ma}=t;t=k(I,N);const na=k(I&&y,N&&G);I=w(I,N,y,G);if(!ma.length)return I(e.coords,X,0,0,ba(Y,X[0]),W(Y,X[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=t,e;let ta,wa=0,ya,Ja=0;for(const Ga of ma){if(Ga<aa)continue;let Fa=0;ya=Ja;G=N=ba(Y,
X[wa]);ta=y=W(Y,X[wa+1]);I(e.coords,X,ya,wa,G,ta);Fa++;wa+=t;ya+=na;for(let Aa=1;Aa<Ga;Aa++,wa+=t)if(G=ba(Y,X[wa]),ta=W(Y,X[wa+1]),G!==N||ta!==y)I(e.coords,X,ya,wa,G-N,ta-y),ya+=na,Fa++,N=G,y=ta;Fa>=aa&&(e.lengths.push(Fa),Ja=ya)}e.coords.length=Ja;return e.coords.length?e:null}function va(e,t,I,N,aa,Y,y){let G=N,X=0;for(let na=Y+I;na<y;na+=I){{var ma=t[na];const ta=t[na+1],wa=t[y],ya=t[y+1];let Ja=t[Y],Ga=t[Y+1],Fa=wa-Ja,Aa=ya-Ga;if(0!==Fa||0!==Aa){const Ea=((ma-Ja)*Fa+(ta-Ga)*Aa)/(Fa*Fa+Aa*Aa);
1<Ea?(Ja=wa,Ga=ya):0<Ea&&(Ja+=Fa*Ea,Ga+=Aa*Ea)}Fa=ma-Ja;Aa=ta-Ga;ma=Fa*Fa+Aa*Aa}ma>G&&(X=na,G=ma)}G>N&&(X-Y>I&&va(e,t,I,N,aa,Y,X),aa(e,t,e.length,X,t[X],t[X+1]),y-X>I&&va(e,t,I,N,aa,X,y))}function Ba(e,t,I,N,aa){const {coords:Y,lengths:y}=t,G=I?N?b:Sa:N?Sa:Da;I=k(I,N);if(!Y.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!y.length)return G(e.coords,Y,0,0,C(aa,Y[0]),B(aa,Y[1])),e!==t&&(e.lengths.length=0,e.coords.length=I),e;const [X,ma]=aa.scale;N=0;for(let na=0;na<y.length;na++){const ta=
y[na];e.lengths[na]=ta;let wa=C(aa,Y[N]),ya=B(aa,Y[N+1]);G(e.coords,Y,N,N,wa,ya);N+=I;for(let Ja=1;Ja<ta;Ja++,N+=I)wa+=Y[N]*X,ya-=Y[N+1]*ma,G(e.coords,Y,N,N,wa,ya)}e!==t&&(e.lengths.length=y.length,e.coords.length=Y.length);return e}function Na(e,t,I,N){let aa=0,Y=e[N*t],y=e[N*(t+1)];for(let G=1;G<I;G++){const X=Y+e[N*(t+G)],ma=y+e[N*(t+G)+1],na=(X-Y)*(ma+y);Y=X;y=ma;aa+=na}return.5*aa}const Ta=Z.getLogger("esri.tasks.support.optimizedFeatureSet"),Ka={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,
esriGeometryMultipoint:0},Da=(e,t,I,N,aa,Y)=>{e[I]=aa;e[I+1]=Y},Sa=(e,t,I,N,aa,Y)=>{e[I]=aa;e[I+1]=Y;e[I+2]=t[N+2]},sa=(e,t,I,N,aa,Y)=>{e[I]=aa;e[I+1]=Y;e[I+2]=t[N+3]},b=(e,t,I,N,aa,Y)=>{e[I]=aa;e[I+1]=Y;e[I+2]=t[N+2];e[I+3]=t[N+3]},g=[],M=[];q.convertFromFeature=function(e,t,I,N,aa){g[0]=e;[e]=ia(M,g,t,I,N,aa);g.length=M.length=0;return e};q.convertFromFeatureSet=function(e,t){const I=new h,{hasM:N,hasZ:aa,features:Y,objectIdFieldName:y,spatialReference:G,geometryType:X,exceededTransferLimit:ma,
transform:na,fields:ta}=e;ta&&(I.fields=ta);I.geometryType=X;I.objectIdFieldName=y||t;I.spatialReference=G;if(!I.objectIdFieldName)return Ta.error(new d("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),I;Y&&ia(I.features,Y,X,aa,N,I.objectIdFieldName);ma&&(I.exceededTransferLimit=ma);N&&(I.hasM=N);aa&&(I.hasZ=aa);na&&(I.transform=na);return I};q.convertFromFeatures=ia;q.convertFromGeometry=function(e,t,I){if(T.isNone(e))return null;const N=new J;"hasZ"in e&&null==t&&
(t=e.hasZ);"hasM"in e&&null==I&&(I=e.hasM);if(m.isPoint(e))return S(null!=t?t:null!=e.z,null!=I?I:null!=e.m)(N,e);if(m.isPolygon(e))return O(N,e,t,I);if(m.isPolyline(e))return p(N,e,k(t,I));if(m.isMultipoint(e))return L(N,e,k(t,I));Ta.error("convertFromGeometry:unknown-geometry",new d(`Unable to parse unknown geometry type '${e}'`))};q.convertFromGraphics=function(e,t,I,N,aa,Y){const y=e.length;switch(I){case "esriGeometryPoint":ha(e,t,N,aa,Y);break;case "esriGeometryMultipoint":K(e,t,N,aa,Y);break;
case "esriGeometryPolyline":Q(e,t,N,aa,Y);break;case "esriGeometryPolygon":H(e,t,N,aa,Y);break;default:Ta.error("convertToFeatureSet:unknown-geometry",new d(`Unable to parse unknown geometry type '${I}'`))}for(N=0;N<t.length;N++)e[N+y].geometryType=I,e[N+y].insertAfter=t[N].insertAfter,e[N+y].groupId=t[N].groupId;return e};q.convertFromMultipoint=L;q.convertFromMultipointFeatures=K;q.convertFromNestedArray=ea;q.convertFromPoint=function(e,t,I=S(null!=t.z,null!=t.m)){return I(e,t)};q.convertFromPointFeatures=
ha;q.convertFromPolygon=O;q.convertFromPolyline=p;q.convertFromPolylineFeatures=Q;q.convertToFeature=function(e,t,I,N){M[0]=e;qa(g,M,t,I,N);e=g[0];g.length=M.length=0;return e};q.convertToFeatureSet=function(e){const {objectIdFieldName:t,spatialReference:I,transform:N,fields:aa,hasM:Y,hasZ:y,features:G,geometryType:X,exceededTransferLimit:ma,uniqueIdField:na,queryGeometry:ta,queryGeometryType:wa}=e;e=qa([],G,X,y,Y);const ya=la(ta,wa,!1,!1);e={features:e,fields:aa,geometryType:X,objectIdFieldName:t,
spatialReference:I,uniqueIdField:na,queryGeometry:ya};N&&(e.transform=N);ma&&(e.exceededTransferLimit=ma);Y&&(e.hasM=Y);y&&(e.hasZ=y);return e};q.convertToFeatures=qa;q.convertToGeometry=la;q.convertToMultipoint=ja;q.convertToMultipointFeatures=ca;q.convertToPoint=function(e,t,I){return e?t?I?A(e):r(e):I?E(e):R(e):null};q.convertToPolygon=n;q.convertToPolyline=P;q.deltaDecodeGeometry=function(e,t){if(T.isNone(e))return null;const I=e.clone(),N=e.coords;e=e.lengths;let aa=0;for(let G=0;G<e.length;G++){const X=
e[G];var Y=N[t*aa],y=N[t*aa+1];for(let ma=1;ma<X;ma++)Y+=N[t*(aa+ma)],y+=N[t*(aa+ma)+1],I.coords[t*(aa+ma)]=Y,I.coords[t*(aa+ma)+1]=y;aa+=X}return I};q.deltaEncodeGeometry=function(e,t){const I=e.clone(),N=e.coords;e=e.lengths;let aa=0;for(let y=0;y<e.length;y++){const G=e[y];let X=N[t*aa];var Y=N[t*aa+1];for(let ma=1;ma<G;ma++){const na=N[t*(aa+ma)],ta=N[t*(aa+ma)+1];Y=ta-Y;I.coords[t*(aa+ma)]=na-X;I.coords[t*(aa+ma)+1]=Y;X=na;Y=ta}aa+=G}return I};q.generalizeOptimizedGeometry=function(e,t,I,N,aa,
Y,y=I,G=N){e.lengths.length&&(e.lengths.length=0);e.coords.length&&(e.coords.length=0);if(!t||!t.coords.length)return null;aa=Ka[aa];const {coords:X,lengths:ma}=t;t=k(I,N);const na=k(I&&y,N&&G);I=w(I,N,y,G);if(!ma.length)return I(e.coords,X,0,0,X[0],X[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=t,e;N=0;Y*=Y;for(const ta of ma){if(ta<aa){N+=ta*t;continue}y=e.coords.length/na;G=N;const wa=N+(ta-1)*t;I(e.coords,X,e.coords.length,G,X[G],X[G+1]);va(e.coords,X,t,Y,I,G,wa);I(e.coords,X,e.coords.length,
wa,X[wa],X[wa+1]);G=e.coords.length/na-y;G>=aa?e.lengths.push(G):e.coords.length=y*na;N+=ta*t}return e.coords.length?e:null};q.getBoundsOptimizedGeometry=function(e,t,I,N){if(T.isNone(t)||!t.coords||!t.coords.length)return null;I=k(I,N);let aa=N=Number.POSITIVE_INFINITY,Y=Number.NEGATIVE_INFINITY,y=Number.NEGATIVE_INFINITY;if(t&&t.coords){t=t.coords;for(let G=0;G<t.length;G+=I){const X=t[G],ma=t[G+1];N=Math.min(N,X);Y=Math.max(Y,X);aa=Math.min(aa,ma);y=Math.max(y,ma)}}e[0]=N;e[1]=aa;e[2]=Y;e[3]=y;
return e};q.getQuantizedArea=function(e,t){const {coords:I,lengths:N}=e;let aa=e=0;for(let Y=0;Y<N.length;Y++)aa+=Na(I,e,N[Y],t),e+=Y;return Math.abs(aa)};q.getQuantizedBoundsOptimizedGeometry=function(e,t,I,N){I=k(I,N);const {lengths:aa,coords:Y}=t;N=t=Number.POSITIVE_INFINITY;let y=Number.NEGATIVE_INFINITY,G=Number.NEGATIVE_INFINITY,X=0;for(const ma of aa){let na=Y[X],ta=Y[X+1];t=Math.min(na,t);N=Math.min(ta,N);y=Math.max(na,y);G=Math.max(ta,G);X+=I;for(let wa=1;wa<ma;wa++,X+=I){const ya=Y[X],Ja=
Y[X+1];na+=ya;ta+=Ja;0>ya&&(t=Math.min(t,na));0<ya&&(y=Math.max(y,na));0>Ja?N=Math.min(N,ta):0<Ja&&(G=Math.max(G,ta))}}e[0]=t;e[1]=N;e[2]=y;e[3]=G;return e};q.getSignedQuantizedRingArea=Na;q.quantizeOptimizedFeatureSet=function(e,t){const {geometryType:I,features:N,hasM:aa,hasZ:Y}=t;if(!e)return t;for(let y=0;y<N.length;y++){const G=N[y],X=G.weakClone();X.geometry=new J;za(X.geometry,G.geometry,aa,Y,I,e);G.centroid&&(X.centroid=new J,za(X.centroid,G.centroid,aa,Y,"esriGeometryPoint",e));N[y]=X}t.transform=
e;return t};q.quantizeOptimizedGeometry=za;q.quantizeX=ba;q.quantizeY=W;q.removeCollinearVectices=function(e,t,I,N,aa){if(!t||!t.coords||!t.coords.length)return null;I=Ka[I];const {coords:Y,lengths:y}=t;t=w(N,aa,N,aa);N=k(N,aa);let G=aa=0,X=0,ma=0;for(const wa of y){G=ma;t(e.coords,Y,G,aa,Y[aa],Y[aa+1]);aa+=N;var na=Y[aa];let ya=Y[aa+1],Ja=na,Ga=ya;var ta=ya/na;G+=N;t(e.coords,Y,G,aa,Ja,Ga);aa+=N;for(let Fa=2;Fa<wa;Fa++){na=Y[aa];ya=Y[aa+1];const Aa=ya/na,Ea=ta===Aa||!isFinite(ta)&&!isFinite(Aa);
ta=Ea&&isFinite(Aa)?0<=ta&&0<=Aa||0>=ta&&0>=Aa:0<=Ga&&0<=ya||0>=Ga&&0>=ya;Ea&&ta?(Ja+=na,Ga+=ya):(Ja=na,Ga=ya,G+=N);t(e.coords,Y,G,aa,Ja,Ga);aa+=N;ta=Aa}G+=N;na=(G-ma)/N;na>=I&&(e.lengths[X]=na,ma=G,X++)}e.coords.length>ma&&(e.coords.length=ma);e.lengths.length>X&&(e.lengths.length=X);return e.coords.length&&e.lengths.length?e:null};q.removeZMValues=function(e,t,I,N,aa,Y){const y=k(I,N);I=w(I,N,aa,Y);N=t.coords;e.coords.length=0;e.lengths.length=0;e.lengths.push(...t.lengths);for(t=0;t<N.length;t+=
y)I(e.coords,N,e.coords.length,t,N[t],N[t+1]);return e};q.unquantizeOptimizedFeatureSet=function(e){const {transform:t,features:I,hasM:N,hasZ:aa}=e;if(!t)return e;for(const Y of I)T.isSome(Y.geometry)&&Ba(Y.geometry,Y.geometry,N,aa,t),Y.centroid&&Ba(Y.centroid,Y.centroid,N,aa,t);e.transform=null;return e};q.unquantizeOptimizedGeometry=Ba;q.unquantizeX=C;q.unquantizeY=B;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers",
"../../core/maybe"],function(q,d,Z){let T=function(){function v(h=null,J={},k,w){this.geometry=h;this.attributes=J;this.centroid=k;this.objectId=w;this.geohashY=this.geohashX=this.displayId=0}v.prototype.weakClone=function(){const h=new v(this.geometry,this.attributes,this.centroid,this.objectId);h.displayId=this.displayId;h.geohashX=this.geohashX;h.geohashY=this.geohashY;return h};return v}(),m=function(v){function h(){return v.apply(this,arguments)||this}d._inheritsLoose(h,v);return h}(T);q.OptimizedFeatureWithGeometry=
m;q["default"]=T;q.hasGeometry=function(v){return!(Z.isNone(v.geometry)||!v.geometry.coords||!v.geometry.coords.length)};Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){return function(){function q(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=
!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}q.prototype.weakClone=function(){const d=new q;d.objectIdFieldName=this.objectIdFieldName;d.globalIdFieldName=this.globalIdFieldName;d.geohashFieldName=this.geohashFieldName;d.geometryProperties=this.geometryProperties;d.geometryType=this.geometryType;d.spatialReference=this.spatialReference;d.hasZ=this.hasZ;d.hasM=this.hasM;d.features=this.features;d.fields=this.fields;d.transform=this.transform;d.exceededTransferLimit=this.exceededTransferLimit;
d.uniqueIdField=this.uniqueIdField;d.queryGeometry=this.queryGeometry;d.queryGeometryType=this.queryGeometryType;return d};return q}()})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(q){return function(){function d(T=[],m=[],v=!1){this.lengths=null!=T?T:[];this.coords=null!=m?m:[];this.hasIndeterminateRingOrder=v}var Z=d.prototype;Z.forEachVertex=function(T){let m=0;this.lengths.length||T(this.coords[0],this.coords[1]);for(let v=0;v<
this.lengths.length;v++){const h=this.lengths[v];for(let J=0;J<h;J++)T(this.coords[2*(J+m)],this.coords[2*(J+m)+1]);m+=h}};Z.clone=function(T){return T?(T.set(this.coords),new d(this.lengths.slice(),T,this.hasIndeterminateRingOrder)):new d(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};q._createClass(d,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max(...this.lengths)}},{key:"size",get:function(){return this.lengths.reduce((T,
m)=>T+m)}}]);return d}()})},"esri/layers/graphics/data/FeatureStore":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../core/Error ../../../core/Evented ../../../core/Logger ../../../core/maybe ../../../geometry/support/aaBoundingBox ../../../geometry/support/aaBoundingRect ../featureConversionUtils ./BoundsStore ./optimizedFeatureQueryEngineAdapter".split(" "),function(q,d,Z,T,m,v,h,J,k,w){return function(){function ba(C){this.geometryInfo=C;this._boundsStore=new k.BoundsStore;
this._featuresById=new Map;this._markedIds=new Set;this.events=new Z;this.featureAdapter=w.optimizedFeatureQueryEngineAdapter}var W=ba.prototype;W.add=function(C){this._add(C);this._emitChanged()};W.addMany=function(C){for(const B of C)this._add(B);this._emitChanged()};W.clear=function(){this._featuresById.clear();this._boundsStore.clear();this._emitChanged()};W.removeById=function(C){C=this._featuresById.get(C);if(!C)return null;this._remove(C);this._emitChanged();return C};W.removeManyById=function(C){this._boundsStore.invalidateIndex();
for(const B of C)(C=this._featuresById.get(B))&&this._remove(C);this._emitChanged()};W.forEachBounds=function(C,B,R){for(const f of C)(C=this._boundsStore.get(f.objectId))&&B(v.fromRect(R,C))};W.getFeature=function(C){return this._featuresById.get(C)};W.has=function(C){return this._featuresById.has(C)};W.forEach=function(C){this._featuresById.forEach(B=>C(B))};W.forEachInBounds=function(C,B){this._boundsStore.forEachInBounds(C,R=>{B(this._featuresById.get(R))})};W.startMarkingUsedFeatures=function(){this._boundsStore.invalidateIndex();
this._markedIds.clear()};W.sweep=function(){let C=!1;this._featuresById.forEach((B,R)=>{this._markedIds.has(R)||(C=!0,this._remove(B))});this._markedIds.clear();C&&this._emitChanged()};W._emitChanged=function(){this.events.emit("changed",void 0)};W._add=function(C){if(C){var B=C.objectId;if(null==B)T.getLogger("esri.layers.graphics.data.FeatureStore").error(new d("featurestore:invalid-feature","feature id is missing",{feature:C}));else{var R=this._featuresById.get(B);this._markedIds.add(B);if(R){C.displayId=
R.displayId;var f=this._boundsStore.get(B);this._boundsStore.delete(B)}else if(m.isSome(this.onFeatureAdd))this.onFeatureAdd(C);!m.isNone(C.geometry)&&C.geometry.coords&&C.geometry.coords.length?(f=J.getBoundsOptimizedGeometry(m.isSome(f)?f:h.create(),C.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),m.isSome(f)&&this._boundsStore.set(B,f)):this._boundsStore.set(B,null);this._featuresById.set(B,C)}}};W._remove=function(C){if(m.isSome(this.onFeatureRemove))this.onFeatureRemove(C);this._markedIds.delete(C.objectId);
this._boundsStore.delete(C.objectId);this._featuresById.delete(C.objectId);return C};q._createClass(ba,[{key:"geometryType",get:function(){return this.geometryInfo.geometryType}},{key:"hasM",get:function(){return this.geometryInfo.hasM}},{key:"hasZ",get:function(){return this.geometryInfo.hasZ}},{key:"numFeatures",get:function(){return this._featuresById.size}},{key:"fullBounds",get:function(){if(!this.numFeatures)return null;const C=h.create(h.NEGATIVE_INFINITY);this._featuresById.forEach(B=>{if(B=
this._boundsStore.get(B.objectId))C[0]=Math.min(B[0],C[0]),C[1]=Math.min(B[1],C[1]),C[2]=Math.max(B[2],C[2]),C[3]=Math.max(B[3],C[3])});return C}},{key:"storeStatistics",get:function(){let C=0;this._featuresById.forEach(B=>{m.isSome(B.geometry)&&B.geometry.coords&&(C+=B.geometry.coords.length)});return{featureCount:this._featuresById.size,vertexCount:C/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}}]);return ba}()})},"esri/core/Evented":function(){define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6",
"./Accessor","./handleUtils","./accessorSupport/decorators/subclass"],function(q,d,Z,T,m){let v=function(){function h(){this._emitter=new h.EventEmitter(this)}var J=h.prototype;J.emit=function(k,w){return this._emitter.emit(k,w)};J.on=function(k,w){return this._emitter.on(k,w)};J.once=function(k,w){return this._emitter.once(k,w)};J.hasEventListener=function(k){return this._emitter.hasEventListener(k)};return h}();(function(h){let J=function(){function w(W=null){this.target=W;this._listenersMap=null}
var ba=w.prototype;ba.clear=function(){this._listenersMap&&this._listenersMap.clear();this._listenersMap=null};ba.emit=function(W,C){W=this._listenersMap&&this._listenersMap.get(W);if(!W)return!1;const B=this.target||this;[...W].forEach(R=>{R.call(B,C)});return 0<W.length};ba.on=function(W,C){if(Array.isArray(W)){var B=W.map(R=>this.on(R,C));return T.handlesGroup(B)}if(-1<W.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||
(this._listenersMap=new Map);B=this._listenersMap.get(W)||[];B.push(C);this._listenersMap.set(W,B);return{remove:()=>{const R=this._listenersMap&&this._listenersMap.get(W)||[],f=R.indexOf(C);0<=f&&R.splice(f,1)}}};ba.once=function(W,C){const B=this.on(W,R=>{B.remove();C.call(null,R)});return B};ba.hasEventListener=function(W){W=this._listenersMap&&this._listenersMap.get(W);return null!=W&&0<W.length};return w}();h.EventEmitter=J;h.EventedMixin=w=>{w=function(ba){function W(){var B=ba.apply(this,arguments)||
this;B._emitter=new J;return B}q._inheritsLoose(W,ba);var C=W.prototype;C.destroy=function(){this._emitter.clear()};C.emit=function(B,R){return this._emitter.emit(B,R)};C.on=function(B,R){return this._emitter.on(B,R)};C.once=function(B,R){return this._emitter.once(B,R)};C.hasEventListener=function(B){return this._emitter.hasEventListener(B)};return W}(w);return w=d.__decorate([m.subclass("esri.core.Evented")],w)};let k=function(w){function ba(){var C=w.apply(this,arguments)||this;C._emitter=new v.EventEmitter(q._assertThisInitialized(C));
return C}q._inheritsLoose(ba,w);var W=ba.prototype;W.destroy=function(){this._emitter.clear()};W.emit=function(C,B){return this._emitter.emit(C,B)};W.on=function(C,B){return this._emitter.on(C,B)};W.once=function(C,B){return this._emitter.once(C,B)};W.hasEventListener=function(C){return this._emitter.hasEventListener(C)};return ba}(Z);k=d.__decorate([m.subclass("esri.core.Evented")],k);h.EventedAccessor=k})(v||(v={}));return v})},"esri/geometry/support/aaBoundingBox":function(){define(["exports",
"../../core/maybe","../Extent","./aaBoundingRect"],function(q,d,Z,T){function m(f=B){return[f[0],f[1],f[2],f[3],f[4],f[5]]}function v(f,r,u,E,x,A,F=m()){F[0]=f;F[1]=r;F[2]=u;F[3]=E;F[4]=x;F[5]=A;return F}function h(f){return f[0]>=f[3]?0:f[3]-f[0]}function J(f){return f[1]>=f[4]?0:f[4]-f[1]}function k(f){return f[2]>=f[5]?0:f[5]-f[2]}function w(f,r){return Math.max(r[0],f[0])<=Math.min(r[3],f[3])&&Math.max(r[1],f[1])<=Math.min(r[4],f[4])&&Math.max(r[2],f[2])<=Math.min(r[5],f[5])}function ba(f,r){f[0]=
r[0];f[1]=r[1];f[2]=r[2];f[3]=r[3];f[4]=r[4];f[5]=r[5];return f}function W(f){return 6===f.length}const C=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],B=[0,0,0,0,0,0],R=m();q.NEGATIVE_INFINITY=C;q.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];q.ZERO=B;q.allFinite=function(f){for(let r=0;6>r;r++)if(!isFinite(f[r]))return!1;return!0};q.center=function(f,r=[0,0,0]){r[0]=f[0]+h(f)/2;r[1]=f[1]+J(f)/2;r[2]=f[2]+k(f)/2;return r};q.contains=function(f,r){return r[0]>=
f[0]&&r[1]>=f[1]&&r[2]>=f[2]&&r[3]<=f[3]&&r[4]<=f[4]&&r[5]<=f[5]};q.containsPoint=function(f,r){return r[0]>=f[0]&&r[1]>=f[1]&&r[2]>=f[2]&&r[0]<=f[3]&&r[1]<=f[4]&&r[2]<=f[5]};q.containsPointWithMargin=function(f,r,u){return r[0]>=f[0]-u&&r[1]>=f[1]-u&&r[2]>=f[2]-u&&r[0]<=f[3]+u&&r[1]<=f[4]+u&&r[2]<=f[5]+u};q.create=m;q.depth=J;q.diameter=function(f){const r=h(f),u=k(f);f=J(f);return Math.sqrt(r*r+u*u+f*f)};q.empty=function(f){return f?ba(f,C):m(C)};q.equals=function(f,r,u){if(d.isNone(f)||d.isNone(r))return f===
r;if(!W(f)||!W(r))return!1;if(u)for(let E=0;E<f.length;E++){if(!u(f[E],r[E]))return!1}else for(u=0;u<f.length;u++)if(f[u]!==r[u])return!1;return!0};q.expandWithAABB=function(f,r){f[0]=Math.min(f[0],r[0]);f[1]=Math.min(f[1],r[1]);f[2]=Math.min(f[2],r[2]);f[3]=Math.max(f[3],r[3]);f[4]=Math.max(f[4],r[4]);f[5]=Math.max(f[5],r[5])};q.expandWithBuffer=function(f,r,u=0,E=r.length/3){let x=f[0],A=f[1],F=f[2],S=f[3],ha=f[4],ca=f[5];for(let ja=0;ja<E;ja++)x=Math.min(x,r[u+3*ja]),A=Math.min(A,r[u+3*ja+1]),
F=Math.min(F,r[u+3*ja+2]),S=Math.max(S,r[u+3*ja]),ha=Math.max(ha,r[u+3*ja+1]),ca=Math.max(ca,r[u+3*ja+2]);f[0]=x;f[1]=A;f[2]=F;f[3]=S;f[4]=ha;f[5]=ca};q.expandWithNestedArray=function(f,r,u){const E=r.length;let x=f[0],A=f[1],F=f[2],S=f[3],ha=f[4],ca=f[5];if(u)for(u=0;u<E;u++){var ja=r[u];x=Math.min(x,ja[0]);A=Math.min(A,ja[1]);F=Math.min(F,ja[2]);S=Math.max(S,ja[0]);ha=Math.max(ha,ja[1]);ca=Math.max(ca,ja[2])}else for(u=0;u<E;u++)ja=r[u],x=Math.min(x,ja[0]),A=Math.min(A,ja[1]),S=Math.max(S,ja[0]),
ha=Math.max(ha,ja[1]);f[0]=x;f[1]=A;f[2]=F;f[3]=S;f[4]=ha;f[5]=ca};q.expandWithOffset=function(f,r,u,E){f[0]=Math.min(f[0],f[0]+r);f[3]=Math.max(f[3],f[3]+r);f[1]=Math.min(f[1],f[1]+u);f[4]=Math.max(f[4],f[4]+u);f[2]=Math.min(f[2],f[2]+E);f[5]=Math.max(f[5],f[5]+E)};q.expandWithRect=function(f,r){f[0]=Math.min(f[0],r[0]);f[1]=Math.min(f[1],r[1]);f[3]=Math.max(f[3],r[2]);f[4]=Math.max(f[4],r[3])};q.expandWithVec3=function(f,r){f[0]=Math.min(f[0],r[0]);f[1]=Math.min(f[1],r[1]);f[2]=Math.min(f[2],r[2]);
f[3]=Math.max(f[3],r[0]);f[4]=Math.max(f[4],r[1]);f[5]=Math.max(f[5],r[2])};q.fromExtent=function(f,r=m()){r[0]=f.xmin;r[1]=f.ymin;r[2]=f.zmin;r[3]=f.xmax;r[4]=f.ymax;r[5]=f.zmax;return r};q.fromMinMax=function(f,r,u=m()){u[0]=f[0];u[1]=f[1];u[2]=f[2];u[3]=r[0];u[4]=r[1];u[5]=r[2];return u};q.fromRect=function(f,r){f[0]=r[0];f[1]=r[1];f[2]=Number.NEGATIVE_INFINITY;f[3]=r[2];f[4]=r[3];f[5]=Number.POSITIVE_INFINITY;return f};q.fromValues=v;q.getMax=function(f,r){r[0]=f[3];r[1]=f[4];r[2]=f[5];return r};
q.getMin=function(f,r){r[0]=f[0];r[1]=f[1];r[2]=f[2];return r};q.height=k;q.intersects=w;q.intersectsClippingArea=function(f,r){return d.isNone(r)?!0:w(f,r)};q.is=W;q.isPoint=function(f){return 0===h(f)&&0===J(f)&&0===k(f)};q.maximumDimension=function(f){return Math.max(h(f),k(f),J(f))};q.offset=function(f,r,u,E,x=f){x[0]=f[0]+r;x[1]=f[1]+u;x[2]=f[2]+E;x[3]=f[3]+r;x[4]=f[4]+u;x[5]=f[5]+E;return x};q.scale=function(f,r,u=f){const E=f[0]+h(f)/2,x=f[1]+J(f)/2,A=f[2]+k(f)/2;u[0]=E+(f[0]-E)*r;u[1]=x+(f[1]-
x)*r;u[2]=A+(f[2]-A)*r;u[3]=E+(f[3]-E)*r;u[4]=x+(f[4]-x)*r;u[5]=A+(f[5]-A)*r;return u};q.set=ba;q.setMax=function(f,r,u=f){u[3]=r[0];u[4]=r[1];u[5]=r[2];u!==f&&(u[0]=f[0],u[1]=f[1],u[2]=f[2]);return f};q.setMin=function(f,r,u=f){u[0]=r[0];u[1]=r[1];u[2]=r[2];u!==f&&(u[3]=f[3],u[4]=f[4],u[5]=f[5]);return u};q.size=function(f,r=[0,0,0]){r[0]=h(f);r[1]=J(f);r[2]=k(f);return r};q.toExtent=function(f,r){return isFinite(f[2])||isFinite(f[5])?new Z({xmin:f[0],xmax:f[3],ymin:f[1],ymax:f[4],zmin:f[2],zmax:f[5],
spatialReference:r}):new Z({xmin:f[0],xmax:f[3],ymin:f[1],ymax:f[4],spatialReference:r})};q.toRect=function(f,r){r||(r=T.create());r[0]=f[0];r[1]=f[1];r[2]=f[3];r[3]=f[4];return r};q.width=h;q.wrap=function(f,r,u,E,x,A){return v(f,r,u,E,x,A,R)};Object.defineProperty(q,"__esModule",{value:!0})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../../core/maybe","../Extent"],function(q,d,Z,T,m){function v(B=C){return[B[0],B[1],B[2],B[3]]}
function h(B,R){B!==R&&(B[0]=R[0],B[1]=R[1],B[2]=R[2],B[3]=R[3]);return B}function J(B){return T.isNone(B)||B[0]>=B[2]?0:B[2]-B[0]}function k(B){return B[1]>=B[3]?0:B[3]-B[1]}function w(B,R,f){return R>=B[0]&&f>=B[1]&&R<=B[2]&&f<=B[3]}function ba(B){return null!=B&&4===B.length}const W=[Infinity,Infinity,-Infinity,-Infinity],C=[0,0,0,0];q.NEGATIVE_INFINITY=W;q.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];q.UNIT=[0,0,1,1];q.ZERO=C;q.allFinite=function(B){for(let R=0;4>R;R++)if(!isFinite(B[R]))return!1;
return!0};q.area=function(B){return J(B)*k(B)};q.center=function(B,R=[0,0]){R[0]=(B[0]+B[2])/2;R[1]=(B[1]+B[3])/2;return R};q.clone=function(B){return[B[0],B[1],B[2],B[3]]};q.contains=function(B,R){return R[0]>=B[0]&&R[2]<=B[2]&&R[1]>=B[1]&&R[3]<=B[3]};q.containsPoint=function(B,R){return w(B,R[0],R[1])};q.containsPointObject=function(B,R){return w(B,R.x,R.y)};q.containsPointWithMargin=function(B,R,f){return R[0]>=B[0]-f&&R[1]>=B[1]-f&&R[0]<=B[2]+f&&R[1]<=B[3]+f};q.containsXY=w;q.copy=h;q.create=
v;q.distance=function(B,R){const f=(B[1]+B[3])/2,r=Math.max(Math.abs(R[0]-(B[0]+B[2])/2)-J(B)/2,0);B=Math.max(Math.abs(R[1]-f)-k(B)/2,0);return Math.sqrt(r*r+B*B)};q.empty=function(B){return B?h(B,W):v(W)};q.equals=function(B,R){return ba(B)&&ba(R)?B[0]===R[0]&&B[1]===R[1]&&B[2]===R[2]&&B[3]===R[3]:B===R};q.expand=function(B,R,f){if(T.isNone(R))h(f,B);else if("length"in R)if(ba(R))f[0]=Math.min(B[0],R[0]),f[1]=Math.min(B[1],R[1]),f[2]=Math.max(B[2],R[2]),f[3]=Math.max(B[3],R[3]);else{if(2===R.length||
3===R.length)f[0]=Math.min(B[0],R[0]),f[1]=Math.min(B[1],R[1]),f[2]=Math.max(B[2],R[0]),f[3]=Math.max(B[3],R[1])}else switch(R.type){case "extent":f[0]=Math.min(B[0],R.xmin);f[1]=Math.min(B[1],R.ymin);f[2]=Math.max(B[2],R.xmax);f[3]=Math.max(B[3],R.ymax);break;case "point":f[0]=Math.min(B[0],R.x),f[1]=Math.min(B[1],R.y),f[2]=Math.max(B[2],R.x),f[3]=Math.max(B[3],R.y)}};q.expandPointInPlace=function(B,R){R[0]<B[0]&&(B[0]=R[0]);R[0]>B[2]&&(B[2]=R[0]);R[1]<B[1]&&(B[1]=R[1]);R[1]>B[3]&&(B[3]=R[1])};q.expandWithNestedArray=
function(B,R,f=B){const r=R.length;let u=B[0],E=B[1],x=B[2];B=B[3];for(let A=0;A<r;A++){const F=R[A];u=Math.min(u,F[0]);E=Math.min(E,F[1]);x=Math.max(x,F[0]);B=Math.max(B,F[1])}f[0]=u;f[1]=E;f[2]=x;f[3]=B;return f};q.fromExtent=function(B,R=v()){R[0]=B.xmin;R[1]=B.ymin;R[2]=B.xmax;R[3]=B.ymax;return R};q.fromValues=function(B,R,f,r,u=v()){u[0]=B;u[1]=R;u[2]=f;u[3]=r;return u};q.height=k;q.intersection=function(B,R,f){if(T.isNone(R))return h(f,B);const r=R[0],u=R[1],E=R[2];R=R[3];f[0]=Z.clamp(B[0],
r,E);f[1]=Z.clamp(B[1],u,R);f[2]=Z.clamp(B[2],r,E);f[3]=Z.clamp(B[3],u,R);return f};q.intersects=function(B,R){return Math.max(R[0],B[0])<=Math.min(R[2],B[2])&&Math.max(R[1],B[1])<=Math.min(R[3],B[3])};q.is=ba;q.isPoint=function(B){return(0===J(B)||!isFinite(B[0]))&&(0===k(B)||!isFinite(B[1]))};q.offset=function(B,R,f,r=B){r[0]=B[0]+R;r[1]=B[1]+f;r[2]=B[2]+R;r[3]=B[3]+f;return r};q.pad=function(B,R,f=B){f[0]=B[0]-R;f[1]=B[1]-R;f[2]=B[2]+R;f[3]=B[3]+R;return f};q.setMax=function(B,R,f=B){f[2]=R[0];
f[3]=R[1];f!==B&&(f[0]=B[0],f[1]=B[1]);return B};q.setMin=function(B,R,f=B){f[0]=R[0];f[1]=R[1];f!==B&&(f[2]=B[2],f[3]=B[3]);return f};q.size=function(B,R){R[0]=B[2]-B[0];R[1]=B[3]-B[1]};q.toExtent=function(B,R){return new m({xmin:B[0],ymin:B[1],xmax:B[2],ymax:B[3],spatialReference:R})};q.width=J;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/graphics/data/BoundsStore":function(){define(["exports","../../../core/has","../../../core/libs/rbush/PooledRBush"],function(q,d,Z){function T(h,
J,k){m.minX=J[0];m.minY=J[1];m.maxX=J[2];m.maxY=J[3];h.search(m,k)}const m={minX:0,minY:0,maxX:0,maxY:0};let v=function(){function h(){this._indexInvalid=!1;this._boundsToLoad=[];this._boundsById=new Map;this._idByBounds=new Map;this._index=new Z.PooledRBush(9,d("csp-restrictions")?k=>({minX:k[0],minY:k[1],maxX:k[2],maxY:k[3]}):["[0]","[1]","[2]","[3]"]);this._loadIndex=()=>{if(this._indexInvalid){const k=Array(this._idByBounds.size);let w=0;this._idByBounds.forEach((ba,W)=>{k[w++]=W});this._indexInvalid=
!1;this._index.clear();this._index.load(k)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter(k=>this._idByBounds.has(k))),this._boundsToLoad.length=0)}}var J=h.prototype;J.clear=function(){this._indexInvalid=!1;this._boundsToLoad.length=0;this._boundsById.clear();this._idByBounds.clear();this._index.clear()};J.delete=function(k){const w=this._boundsById.get(k);this._boundsById.delete(k);w&&(this._idByBounds.delete(w),this._indexInvalid||this._index.remove(w))};J.forEachInBounds=
function(k,w){this._loadIndex();T(this._index,k,ba=>w(this._idByBounds.get(ba)))};J.get=function(k){return this._boundsById.get(k)};J.has=function(k){return this._boundsById.has(k)};J.invalidateIndex=function(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)};J.set=function(k,w){if(!this._indexInvalid){const ba=this._boundsById.get(k);ba&&(this._index.remove(ba),this._idByBounds.delete(ba))}this._boundsById.set(k,w);w&&(this._idByBounds.set(w,k),this._indexInvalid||(this._boundsToLoad.push(w),
5E4<this._boundsToLoad.length&&this._loadIndex()))};return h}();q.BoundsStore=v;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/core/libs/rbush/PooledRBush":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../arrayUtils ../../maybe ../../PooledArray ../../../chunks/quickselect".split(" "),function(q,d,Z,T,m,v){function h(ca,ja){J(ca,0,ca.children.length,ja,ca)}function J(ca,ja,K,L,P){P||(P=new S([]));P.minX=Infinity;P.minY=Infinity;P.maxX=-Infinity;P.maxY=-Infinity;
for(let Q=ja,p;Q<K;Q++)p=ca.children[Q],k(P,ca.leaf?L(p):p);return P}function k(ca,ja){ca.minX=Math.min(ca.minX,ja.minX);ca.minY=Math.min(ca.minY,ja.minY);ca.maxX=Math.max(ca.maxX,ja.maxX);ca.maxY=Math.max(ca.maxY,ja.maxY)}function w(ca,ja){return ca.minX-ja.minX}function ba(ca,ja){return ca.minY-ja.minY}function W(ca){return(ca.maxX-ca.minX)*(ca.maxY-ca.minY)}function C(ca){return ca.maxX-ca.minX+(ca.maxY-ca.minY)}function B(ca,ja){return ca.minX<=ja.minX&&ca.minY<=ja.minY&&ja.maxX<=ca.maxX&&ja.maxY<=
ca.maxY}function R(ca,ja){return ja.minX<=ca.maxX&&ja.minY<=ca.maxY&&ja.maxX>=ca.minX&&ja.maxY>=ca.minY}function f(ca,ja,K,L,P){for(ja=[ja,K];ja.length;){K=T.assumeNonNull(ja.pop());const Q=T.assumeNonNull(ja.pop());if(K-Q<=L)continue;const p=Q+Math.ceil((K-Q)/L/2)*L;v.quickselect(ca,p,Q,K,P);ja.push(Q,p,p,K)}}let r=function(){function ca(K=9,L){this.compareMinX=w;this.compareMinY=ba;this.toBBox=function(P){return P};this._maxEntries=Math.max(4,K||9);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));
L&&("function"===typeof L?this.toBBox=L:this._initFormat(L));this.clear()}var ja=ca.prototype;ja.destroy=function(){this.clear();u.prune();E.prune();x.prune();A.prune()};ja.all=function(K){this._all(this.data,K)};ja.search=function(K,L){let P=this.data;const Q=this.toBBox;if(R(K,P))for(u.clear();P;){for(let p=0,n=P.children.length;p<n;p++){const H=P.children[p],O=P.leaf?Q(H):H;R(K,O)&&(P.leaf?L(H):B(K,O)?this._all(H,L):u.push(H))}P=u.pop()}};ja.collides=function(K){let L=this.data;const P=this.toBBox;
if(!R(K,L))return!1;for(u.clear();L;){for(let Q=0,p=L.children.length;Q<p;Q++){const n=L.children[Q],H=L.leaf?P(n):n;if(R(K,H)){if(L.leaf||B(K,H))return!0;u.push(n)}}L=u.pop()}return!1};ja.load=function(K){if(!K.length)return this;if(K.length<this._minEntries){for(let L=0,P=K.length;L<P;L++)this.insert(K[L]);return this}K=this._build(K.slice(0,K.length),0,K.length-1,0);if(this.data.children.length)if(this.data.height===K.height)this._splitRoot(this.data,K);else{if(this.data.height<K.height){const L=
this.data;this.data=K;K=L}this._insert(K,this.data.height-K.height-1,!0)}else this.data=K;return this};ja.insert=function(K){K&&this._insert(K,this.data.height-1);return this};ja.clear=function(){this.data=new S([]);return this};ja.remove=function(K){if(!K)return this;let L=this.data,P=null,Q=0,p=!1,n;const H=this.toBBox(K);x.clear();for(A.clear();L||0<x.length;){if(!L){var O;L=T.assumeNonNull(x.pop());P=x.data[x.length-1];Q=null!=(O=A.pop())?O:0;p=!0}if(L.leaf&&(n=Z.indexOf(L.children,K,L.children.length,
L.indexHint),-1!==n)){L.children.splice(n,1);x.push(L);this._condense(x);break}p||L.leaf||!B(L,H)?P?(Q++,L=P.children[Q],p=!1):L=null:(x.push(L),A.push(Q),Q=0,P=L,L=L.children[0])}return this};ja.toJSON=function(){return this.data};ja.fromJSON=function(K){this.data=K;return this};ja._all=function(K,L){for(E.clear();K;){var P;if(!0===K.leaf)for(const Q of K.children)L(Q);else E.pushArray(K.children);K=null!=(P=E.pop())?P:null}};ja._build=function(K,L,P,Q){var p=P-L+1,n=this._maxEntries;if(p<=n)return K=
new S(K.slice(L,P+1)),h(K,this.toBBox),K;Q||(Q=Math.ceil(Math.log(p)/Math.log(n)),n=Math.ceil(p/n**(Q-1)));const H=new ha([]);H.height=Q;p=Math.ceil(p/n);n=p*Math.ceil(Math.sqrt(n));for(f(K,L,P,n,this.compareMinX);L<=P;L+=n){const O=Math.min(L+n-1,P);f(K,L,O,p,this.compareMinY);for(let ea=L;ea<=O;ea+=p)H.children.push(this._build(K,ea,Math.min(ea+p-1,O),Q-1))}h(H,this.toBBox);return H};ja._chooseSubtree=function(K,L,P,Q){for(;;){Q.push(L);if(!0===L.leaf||Q.length-1===P)break;let p=Infinity,n=Infinity,
H=void 0;for(let O=0,ea=L.children.length;O<ea;O++){const ia=L.children[O],la=W(ia),qa=(Math.max(ia.maxX,K.maxX)-Math.min(ia.minX,K.minX))*(Math.max(ia.maxY,K.maxY)-Math.min(ia.minY,K.minY))-la;qa<n?(n=qa,p=la<p?la:p,H=ia):qa===n&&la<p&&(p=la,H=ia)}L=H||L.children[0]}return L};ja._insert=function(K,L,P){var Q=this.toBBox;P=P?K:Q(K);x.clear();Q=this._chooseSubtree(P,this.data,L,x);Q.children.push(K);for(k(Q,P);0<=L;)if(x.data[L].children.length>this._maxEntries)this._split(x,L),L--;else break;this._adjustParentBBoxes(P,
x,L)};ja._split=function(K,L){const P=K.data[L];var Q=P.children.length;const p=this._minEntries;this._chooseSplitAxis(P,p,Q);(Q=this._chooseSplitIndex(P,p,Q))?(Q=P.children.splice(Q,P.children.length-Q),Q=P.leaf?new S(Q):new ha(Q),Q.height=P.height,h(P,this.toBBox),h(Q,this.toBBox),L?K.data[L-1].children.push(Q):this._splitRoot(P,Q)):console.log("  Error: assertion failed at PooledRBush._split: no valid split index")};ja._splitRoot=function(K,L){this.data=new ha([K,L]);this.data.height=K.height+
1;h(this.data,this.toBBox)};ja._chooseSplitIndex=function(K,L,P){let Q,p,n=void 0;Q=p=Infinity;for(let O=L;O<=P-L;O++){var H=J(K,0,O,this.toBBox);const ea=J(K,O,P,this.toBBox),ia=Math.max(0,Math.min(H.maxX,ea.maxX)-Math.max(H.minX,ea.minX))*Math.max(0,Math.min(H.maxY,ea.maxY)-Math.max(H.minY,ea.minY));H=W(H)+W(ea);ia<Q?(Q=ia,n=O,p=H<p?H:p):ia===Q&&H<p&&(p=H,n=O)}return n};ja._chooseSplitAxis=function(K,L,P){const Q=K.leaf?this.compareMinX:w,p=K.leaf?this.compareMinY:ba,n=this._allDistMargin(K,L,P,
Q);L=this._allDistMargin(K,L,P,p);n<L&&K.children.sort(Q)};ja._allDistMargin=function(K,L,P,Q){K.children.sort(Q);Q=this.toBBox;var p=J(K,0,L,Q);const n=J(K,P-L,P,Q);let H=C(p)+C(n);for(let O=L;O<P-L;O++){const ea=K.children[O];k(p,K.leaf?Q(ea):ea);H+=C(p)}for(P=P-L-1;P>=L;P--)p=K.children[P],k(n,K.leaf?Q(p):p),H+=C(n);return H};ja._adjustParentBBoxes=function(K,L,P){for(;0<=P;P--)k(L.data[P],K)};ja._condense=function(K){for(let L=K.length-1;0<=L;L--){const P=K.data[L];if(0===P.children.length)if(0<
L){const Q=K.data[L-1],p=Q.children;p.splice(Z.indexOf(p,P,p.length,Q.indexHint),1)}else this.clear();else h(P,this.toBBox)}};ja._initFormat=function(K){const L=["return a"," - b",";"];this.compareMinX=new Function("a","b",L.join(K[0]));this.compareMinY=new Function("a","b",L.join(K[1]));this.toBBox=new Function("a","return {minX: a"+K[0]+", minY: a"+K[1]+", maxX: a"+K[2]+", maxY: a"+K[3]+"};")};return ca}();const u=new m,E=new m,x=new m,A=new m({deallocator:void 0});m=function(){this.minY=this.minX=
Infinity;this.maxY=this.maxX=-Infinity};let F=function(ca){function ja(){var K=ca.apply(this,arguments)||this;K.height=1;K.indexHint=new Z.PositionHint;return K}d._inheritsLoose(ja,ca);return ja}(m),S=function(ca){function ja(K){var L=ca.call(this)||this;L.children=K;L.leaf=!0;return L}d._inheritsLoose(ja,ca);return ja}(F),ha=function(ca){function ja(K){var L=ca.call(this)||this;L.children=K;L.leaf=!1;return L}d._inheritsLoose(ja,ca);return ja}(F);q.BBox=m;q.PooledRBush=r;q["default"]=r;Object.defineProperty(q,
"__esModule",{value:!0})})},"esri/chunks/quickselect":function(){define(["exports"],function(q){var d={exports:{}};(function(Z){(function(T){T=T();void 0!==T&&(Z.exports=T)})(function(){function T(h,J,k,w,ba){for(;w>k;){if(600<w-k){var W=w-k+1,C=J-k+1,B=Math.log(W),R=.5*Math.exp(2*B/3);B=.5*Math.sqrt(B*R*(W-R)/W)*(0>C-W/2?-1:1);T(h,J,Math.max(k,Math.floor(J-C*R/W+B)),Math.min(w,Math.floor(J+(W-C)*R/W+B)),ba)}W=h[J];C=k;R=w;m(h,k,J);for(0<ba(h[w],W)&&m(h,k,w);C<R;){m(h,C,R);C++;for(R--;0>ba(h[C],W);)C++;
for(;0<ba(h[R],W);)R--}0===ba(h[k],W)?m(h,k,R):(R++,m(h,R,w));R<=J&&(k=R+1);J<=R&&(w=R-1)}}function m(h,J,k){var w=h[J];h[J]=h[k];h[k]=w}function v(h,J){return h<J?-1:h>J?1:0}return function(h,J,k,w,ba){T(h,J,k||0,w||h.length-1,ba||v)}})})(d);q.quickselect=d.exports})},"esri/layers/graphics/data/optimizedFeatureQueryEngineAdapter":function(){define(["exports","../centroid","../OptimizedFeature","../OptimizedGeometry"],function(q,d,Z,T){const m={getObjectId(v){return v.objectId},getAttributes(v){return v.attributes},
getAttribute(v,h){return v.attributes[h]},cloneWithGeometry(v,h){return new Z["default"](h,v.attributes,null,v.objectId)},getGeometry(v){return v.geometry},getCentroid(v,h){v.centroid||(v.centroid=d.getCentroidOptimizedGeometry(new T,v.geometry,h.hasZ,h.hasM));return v.centroid}};q["default"]=m;q.optimizedFeatureQueryEngineAdapter=m;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/graphics/centroid":function(){define(["exports","../../core/maybe"],function(q,d){function Z(m,v,h,J,
k,w,ba=1){w=k?w?4:3:w?3:2;let W=h,C=h+w,B=0,R=0,f=h=0,r=0;for(let u=0,E=J-1;u<E;u++,W+=w,C+=w){J=v[W];const x=v[W+1],A=v[W+2],F=v[C],S=v[C+1],ha=v[C+2];let ca=J*S-F*x;f+=ca;B+=(J+F)*ca;R+=(x+S)*ca;k&&(ca=J*ha-F*A,h+=(A+ha)*ca,r+=ca);J<m[0]&&(m[0]=J);J>m[1]&&(m[1]=J);x<m[2]&&(m[2]=x);x>m[3]&&(m[3]=x);k&&(A<m[4]&&(m[4]=A),A>m[5]&&(m[5]=A))}0<f*ba&&(f*=-1);0<r*ba&&(r*=-1);if(!f)return null;m=[B,R,.5*f];k&&(m[3]=h,m[4]=.5*r);return m}function T(m,v,h,J,k){k=J?k?4:3:k?3:2;let w=v,ba=v+k,W=0,C=0,B=0,R=
0;for(let E=0,x=h-1;E<x;E++,w+=k,ba+=k){var f=m[w];const A=m[w+1],F=m[w+2],S=m[ba],ha=m[ba+1],ca=m[ba+2];if(J){{var r=S-f;var u=ha-A;const ja=ca-F;r=Math.sqrt(r*r+u*u+ja*ja)}}else r=S-f,u=ha-A,r=Math.sqrt(r*r+u*u);r&&(W+=r,J?(f=[f+.5*(S-f),A+.5*(ha-A),F+.5*(ca-F)],C+=r*f[0],B+=r*f[1],R+=r*f[2]):(f=[f+.5*(S-f),A+.5*(ha-A)],C+=r*f[0],B+=r*f[1]))}return 0<W?J?[C/W,B/W,R/W]:[C/W,B/W]:0<h?J?[m[v],m[v+1],m[v+2]]:[m[v],m[v+1]]:null}q.getCentroidOptimizedGeometry=function(m,v,h,J,k){if(d.isNone(v)||!v.lengths.length)return null;
const w="upperLeft"===(null==k?void 0:k.originPosition)?-1:1;m.lengths.length&&(m.lengths.length=0);m.coords.length&&(m.coords.length=0);k=m.coords;const ba=[],W=h?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:C,coords:B}=v,R=h?J?4:3:J?3:2;let f=0;for(var r of C){const u=Z(W,B,f,r,h,
J,w);u&&ba.push(u);f+=r*R}ba.sort((u,E)=>{let x=w*u[2]-w*E[2];0===x&&h&&(x=u[4]-E[4]);return x});ba.length&&(r=6*ba[0][2],k[0]=ba[0][0]/r,k[1]=ba[0][1]/r,h&&(r=6*ba[0][4],k[2]=0!==r?ba[0][3]/r:0),k[0]<W[0]||k[0]>W[1]||k[1]<W[2]||k[1]>W[3]||h&&(k[2]<W[4]||k[2]>W[5]))&&(k.length=0);if(!k.length)if(v=v.lengths[0]?T(B,0,C[0],h,J):null)k[0]=v[0],k[1]=v[1],h&&2<v.length&&(k[2]=v[2]);else return null;return m};q.lineCentroid=T;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/graphics/data/projectionSupport":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../geometry/projection ../../../geometry/geometryAdapters/json ../../../geometry/support/spatialReferenceUtils ../../../geometry/support/webMercatorUtils".split(" "),
function(q,d,Z,T,m,v,h){function J(f,r){if(!r)return null;if("x"in r){var u={x:0,y:0};[u.x,u.y]=f(r.x,r.y,W);null!=r.z&&(u.z=r.z);null!=r.m&&(u.m=r.m);return u}if("xmin"in r)return u={xmin:0,ymin:0,xmax:0,ymax:0},[u.xmin,u.ymin]=f(r.xmin,r.ymin,W),[u.xmax,u.ymax]=f(r.xmax,r.ymax,W),r.hasZ&&(u.zmin=r.zmin,u.zmax=r.zmax,u.hasZ=!0),r.hasM&&(u.mmin=r.mmin,u.mmax=r.mmax,u.hasM=!0),u;if("rings"in r)return{rings:k(r.rings,f),hasM:r.hasM,hasZ:r.hasZ};if("paths"in r)return{paths:k(r.paths,f),hasM:r.hasM,hasZ:r.hasZ};
if("points"in r)return{points:w(r.points,f),hasM:r.hasM,hasZ:r.hasZ}}function k(f,r){const u=[];for(const E of f)u.push(w(E,r));return u}function w(f,r){const u=[];for(const E of f)f=r(E[0],E[1],[0,0]),u.push(f),2<E.length&&f.push(E[2]),3<E.length&&f.push(E[3]);return u}function ba(){ba=d._asyncToGenerator(function*(f,r){r&&(f=Array.isArray(f)?f.map(u=>Z.isSome(u.geometry)&&u.geometry.spatialReference):[f],yield T.initializeProjection(f.map(u=>({source:u,dest:r}))))});return ba.apply(this,arguments)}
const W=[0,0],C=J.bind(null,h.lngLatToXY),B=J.bind(null,h.xyToLngLat),R=new (function(){function f(){this._jobs=[];this._timer=null;this._process=this._process.bind(this)}var r=f.prototype;r.push=function(){var u=d._asyncToGenerator(function*(E,x,A){if(!(E&&E.length&&x&&A)||v.equals(x,A))return E;const F={geometries:E,inSpatialReference:x,outSpatialReference:A,resolve:null};this._jobs.push(F);return new Promise(S=>{F.resolve=S;null===this._timer&&(this._timer=setTimeout(this._process,10))})});return function(E,
x,A){return u.apply(this,arguments)}}();r._process=function(){this._timer=null;const u=this._jobs.shift();if(u){var {geometries:E,inSpatialReference:x,outSpatialReference:A,resolve:F}=u;h.canProject(x,A)?v.isWebMercator(A)?F(E.map(C)):F(E.map(B)):F(T.projectMany(m.jsonAdapter,E,x,A,null));0<this._jobs.length&&(this._timer=setTimeout(this._process,10))}};return f}());q.checkProjectionSupport=function(f,r){return ba.apply(this,arguments)};q.project=function(f,r,u){if(!f)return f;u||(u=r,r=f.spatialReference);
return v.isValid(r)&&v.isValid(u)&&!v.equals(r,u)?h.canProject(r,u)?v.isWebMercator(u)?C(f):B(f):T.projectMany(m.jsonAdapter,[f],r,u,null)[0]:f};q.projectMany=function(f,r,u){return R.push(f,r,u)};Object.defineProperty(q,"__esModule",{value:!0})})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/maybe ../core/promiseUtils ../core/unitUtils ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./projectionEllipsoid ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils".split(" "),
function(q,d,Z,T,m,v,h,J,k,w,ba,W,C,B,R,f,r,u,E,x,A,F,S){function ha(){return!!oa&&B.isLoaded()}function ca(V){v.isNone(fb)&&(fb=Promise.all([B.load(),(new Promise(function(fa,U){q(["../chunks/geometryEngineBase"],fa,U)})).then(function(fa){return fa.geometryEngineBase}),new Promise(function(fa,U){q(["./geometryAdapters/hydrated"],fa,U)})]));return fb.then(([,fa,{hydratedAdapter:U}])=>{h.throwIfAborted(V);cb=U;oa=fa.default;oa._enableProjection(B.pe)})}function ja(V,fa,U,ka,ua=null){if(v.isNone(U)||
v.isNone(ka))return fa;if(L(U,ka,ua))return fa.map(xa=>v.unwrap(Q(xa,U,ka)));if(v.isNone(ua)){const xa=F.cacheKey(U,ka);void 0!==bb[xa]?ua=bb[xa]:(ua=K(U,ka,null),v.isNone(ua)&&(ua=new F),bb[xa]=ua)}if(v.isNone(oa))throw new a;return oa._project(V,fa,U,ka,ua)}function K(V,fa,U=null){if(v.isNone(oa))throw new a;if(v.isNone(V)||v.isNone(fa))return null;V=oa._getTransformation(cb,V,fa,U,null==U?void 0:U.spatialReference);return null!==V?F.fromGE(V):null}function L(V,fa,U){return U?!1:S.equals(V,fa)?
!0:S.isValid(V)&&S.isValid(fa)&&!!Fa(V,fa,Fb)}function P(){P=Z._asyncToGenerator(function*(V,fa,U,ka){if(!ha())if(Array.isArray(V))for(const {source:ua,dest:xa,geographicTransformation:Ia}of V){if(!L(ua,xa,Ia))return ca(ka)}else if(!L(V,fa,U))return ca(ka)});return P.apply(this,arguments)}function Q(V,fa,U){return V?"x"in V?p(V,fa,new R,U,0):"xmin"in V?ea(V,fa,new W,U,0):"rings"in V?O(V,fa,new f,U,0):"paths"in V?H(V,fa,new r,U,0):"points"in V?n(V,fa,new C,U,0):null:null}function p(V,fa,U,ka,ua){Pa[0]=
V.x;Pa[1]=V.y;const xa=V.z;Pa[2]=void 0!==xa?xa:ua;if(!za(Pa,fa,0,Pa,ka,0,1))return null;U.x=Pa[0];U.y=Pa[1];U.spatialReference=ka;void 0===xa?(U.z=void 0,U.hasZ=!1):(U.z=Pa[2],U.hasZ=!0);void 0===V.m?(U.m=void 0,U.hasM=!1):(U.m=V.m,U.hasM=!0);return U}function n(V,fa,U,ka,ua){const {points:xa,hasZ:Ia,hasM:Ma}=V;V=[];const $a=xa.length,Za=[];for(var Ya of xa)Za.push(Ya[0],Ya[1],Ia?Ya[2]:ua);if(!za(Za,fa,0,Za,ka,0,$a))return null;for(fa=0;fa<$a;++fa){ua=3*fa;Ya=Za[ua];const ib=Za[ua+1];Ia&&Ma?V.push([Ya,
ib,Za[ua+2],xa[fa][3]]):Ia?V.push([Ya,ib,Za[ua+2]]):Ma?V.push([Ya,ib,xa[fa][2]]):V.push([Ya,ib])}U.points=V;U.spatialReference=ka;U.hasZ=Ia;U.hasM=Ma;return U}function H(V,fa,U,ka,ua){const {paths:xa,hasZ:Ia,hasM:Ma}=V;V=[];if(!va(xa,Ia,Ma,fa,V,ka,ua))return null;U.paths=V;U.spatialReference=ka;U.hasZ=Ia;U.hasM=Ma;return U}function O(V,fa,U,ka,ua){const {rings:xa,hasZ:Ia,hasM:Ma}=V;V=[];if(!va(xa,Ia,Ma,fa,V,ka,ua))return null;U.rings=V;U.spatialReference=ka;U.hasZ=Ia;U.hasM=Ma;return U}function ea(V,
fa,U,ka,ua){const {xmin:xa,ymin:Ia,xmax:Ma,ymax:$a,hasZ:Za,hasM:Ya}=V;if(!ia(xa,Ia,Za?V.zmin:ua,fa,Pa,ka))return null;U.xmin=Pa[0];U.ymin=Pa[1];Za&&(U.zmin=Pa[2]);if(!ia(Ma,$a,Za?V.zmax:ua,fa,Pa,ka))return null;U.xmax=Pa[0];U.ymax=Pa[1];Za&&(U.zmax=Pa[2]);Ya&&(U.mmin=V.mmin,U.mmax=V.mmax);U.spatialReference=ka;return U}function ia(V,fa,U,ka,ua,xa){Va[0]=V;Va[1]=fa;Va[2]=U;return za(Va,ka,0,ua,xa,0,1)}function la(V,fa,U,ka){if(v.isNone(fa)||v.isNone(ka)||2>V.length)return!1;2===V.length&&(Va[0]=V[0],
Va[1]=V[1],Va[2]=0,V=Va);return za(V,fa,0,U,ka,0,1)}function qa(V,fa,U){if(v.isNone(fa))return!1;fa=Ka(fa,vb);fa=Ra[fa][6];if(v.isNone(fa))return!1;fa(V,0,Va,0);U!==Va&&(U[0]=Va[0],U[1]=Va[1],2<U.length&&(U[2]=Va[2]));return!0}function za(V,fa,U,ka,ua,xa,Ia=1){fa=Fa(fa,ua,Fb);if(v.isNone(fa))return!1;if(fa===Da){if(V===ka&&U===xa)return!0;Ia=U+3*Ia;for(let Ma=U,$a=xa;Ma<Ia;Ma++,$a++)ka[$a]=V[Ma];return!0}Ia=U+3*Ia;for(let Ma=U,$a=xa;Ma<Ia;Ma+=3,$a+=3)fa(V,Ma,ka,$a);return!0}function va(V,fa,U,ka,
ua,xa,Ia=0){const Ma=[];for(const $a of V)for(const Za of $a)Ma.push(Za[0],Za[1],fa?Za[2]:Ia);if(!za(Ma,ka,0,Ma,xa,0,Ma.length/3))return!1;ka=0;ua.length=0;for(const $a of V){V=[];for(const Za of $a)fa&&U?V.push([Ma[ka++],Ma[ka++],Ma[ka++],Za[3]]):fa?V.push([Ma[ka++],Ma[ka++],Ma[ka++]]):(U?V.push([Ma[ka++],Ma[ka++],Za[2]]):V.push([Ma[ka++],Ma[ka++]]),ka++);ua.push(V)}return!0}function Ba(V,fa,U,ka){V=Math.abs(mb*V)+Math.asin(U/(ka+fa));return V>=Math.PI/2?Number.MAX_VALUE:U/Math.cos(V)}function Na(V,
fa,U){const ka=Math.sin(V);V=Math.cos(V);const ua=Math.sin(fa);fa=Math.cos(fa);U[0]=-ka;U[4]=-ua*V;U[8]=fa*V;U[12]=0;U[1]=V;U[5]=-ua*ka;U[9]=fa*ka;U[13]=0;U[2]=0;U[6]=fa;U[10]=ua;U[14]=0;U[3]=0;U[7]=0;U[11]=0;U[15]=1;return U}function Ta(V,fa,U){Na(V,fa,U);k.transpose(U,U);return U}function Ka(V,fa){if(fa.spatialReference===V)return fa.spatialReferenceId;fa.spatialReference=V;"metersPerUnit"in fa&&(fa.metersPerUnit=J.getMetersPerUnitForSR(V,1));return V.wkt===u.SphericalECEFSpatialReference.wkt?fa.spatialReferenceId=
1:S.isWGS84(V)?fa.spatialReferenceId=2:S.isWebMercator(V)?fa.spatialReferenceId=3:S.isPlateCarree(V)?fa.spatialReferenceId=12:V.wkt===u.WGS84ECEFSpatialReference.wkt?fa.spatialReferenceId=4:4490===V.wkid?fa.spatialReferenceId=5:V.wkt===u.SphericalPCPFMars.wkt?fa.spatialReferenceId=7:V.wkt===u.SphericalPCPFMoon.wkt?fa.spatialReferenceId=9:S.isMars(V)?fa.spatialReferenceId=8:S.isMoon(V)?fa.spatialReferenceId=10:fa.spatialReferenceId=0}function Da(V,fa,U,ka){V!==U&&(U[ka++]=V[fa++],U[ka++]=V[fa++],U[ka]=
V[fa])}function Sa(V,fa,U,ka){U[ka++]=yb*(V[fa++]/x.earth.radius);U[ka++]=yb*(Math.PI/2-2*Math.atan(Math.exp(-V[fa++]/x.earth.radius)));U[ka]=V[fa]}function sa(V,fa,U,ka){Sa(V,fa,U,ka);Y(U,ka,U,ka)}function b(V,fa,U,ka){Sa(V,fa,U,ka);wa(U,ka,U,ka)}function g(V,fa,U,ka,ua){var xa=.4999999*Math.PI;xa=m.clamp(mb*V[fa+1],-xa,xa);xa=Math.sin(xa);U[ka++]=mb*V[fa]*ua.radius;U[ka++]=ua.halfSemiMajorAxis*Math.log((1+xa)/(1-xa));U[ka]=V[fa+2]}function M(V,fa,U,ka){g(V,fa,U,ka,x.earth)}function e(V,fa,U,ka){U[ka]=
V[fa]*hb;U[ka+1]=V[fa+1]*hb;U[ka+2]=V[fa+2]}function t(V,fa,U,ka){U[ka]=V[fa]*gb;U[ka+1]=V[fa+1]*gb;U[ka+2]=V[fa+2]}function I(V,fa,U,ka,ua){ua+=V[fa+2];const xa=mb*V[fa+1];V=mb*V[fa];fa=Math.cos(xa);U[ka++]=Math.cos(V)*fa*ua;U[ka++]=Math.sin(V)*fa*ua;U[ka]=Math.sin(xa)*ua}function N(V,fa,U,ka){I(V,fa,U,ka,x.moon.radius)}function aa(V,fa,U,ka){I(V,fa,U,ka,x.mars.radius)}function Y(V,fa,U,ka){I(V,fa,U,ka,x.earth.radius)}function y(V,fa,U,ka,ua){var xa=V[fa];const Ia=V[fa+1];fa=V[fa+2];V=Math.sqrt(xa*
xa+Ia*Ia+fa*fa);fa=m.asinClamped(fa/(0===V?1:V));xa=Math.atan2(Ia,xa);U[ka++]=yb*xa;U[ka++]=yb*fa;U[ka]=V-ua}function G(V,fa,U,ka){y(V,fa,U,ka,x.moon.radius)}function X(V,fa,U,ka){y(V,fa,U,ka,x.mars.radius)}function ma(V,fa,U,ka){y(V,fa,U,ka,x.earth.radius)}function na(V,fa,U,ka){ma(V,fa,U,ka);M(U,ka,U,ka)}function ta(V,fa,U,ka){ma(V,fa,U,ka);wa(U,ka,U,ka)}function wa(V,fa,U,ka){{var ua=x.earth;const Ia=mb*V[fa];var xa=mb*V[fa+1];V=V[fa+2];fa=Math.sin(xa);xa=Math.cos(xa);const Ma=ua.radius/Math.sqrt(1-
ua.eccentricitySquared*fa*fa);U[ka++]=(Ma+V)*xa*Math.cos(Ia);U[ka++]=(Ma+V)*xa*Math.sin(Ia);U[ka++]=(Ma*(1-ua.eccentricitySquared)+V)*fa}}function ya(V,fa,U,ka){var ua=A.earthEllipsoidConstants,xa=V[fa],Ia=V[fa+1];V=V[fa+2];let Ma;fa=Math.abs(V);var $a=xa*xa+Ia*Ia;var Za=Math.sqrt($a);var Ya=$a+V*V;var ib=Math.sqrt(Ya);xa=Math.atan2(Ia,xa);var nb=V*V/Ya;Ya=$a/Ya;Ia=ua.a2/ib;$a=ua.a3-ua.a4/ib;.3<Ya?(nb=fa/ib*(1+Ya*(ua.a1+Ia+nb*$a)/ib),ib=Math.asin(nb),Ia=nb*nb,Ya=Math.sqrt(1-Ia)):(Ya=Za/ib*(1-nb*(ua.a5-
Ia-Ya*$a)/ib),ib=Math.acos(Ya),Ia=1-Ya*Ya,nb=Math.sqrt(Ia));Ma=1-x.earth.eccentricitySquared*Ia;Ia=x.earth.radius/Math.sqrt(Ma);ua=ua.a6*Ia;Ia=Za-Ia*Ya;$a=fa-ua*nb;fa=Ya*Ia+nb*$a;Za=Ya*$a-nb*Ia;ua=Za/(ua/Ma+fa);ib+=ua;0>V&&(ib=-ib);U[ka++]=yb*xa;U[ka++]=yb*ib;U[ka]=fa+Za*ua/2}function Ja(V,fa,U,ka){ya(V,fa,U,ka);Y(U,ka,U,ka)}function Ga(V,fa,U,ka){ya(V,fa,U,ka);M(U,ka,U,ka)}function Fa(V,fa,U=Ea()){return v.isNone(V)||v.isNone(fa)?null:Aa(V,fa,U).projector}function Aa(V,fa,U){if(v.isNone(V)||v.isNone(fa)||
U.source.spatialReference===V&&U.dest.spatialReference===fa)return U;const ka=Ka(V,U.source),ua=Ka(fa,U.dest);0===ka&&0===ua?S.equals(V,fa)?U.projector=Da:U.projector=null:U.projector=Ra[ka][ua];return U}function Ea(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:Da}}let oa=null,cb=null,fb=null,bb={},a=function(V){function fa(){return V.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")||
this}Z._inheritsLoose(fa,V);return fa}(T);const hb=x.earth.radius*Math.PI/180,gb=180/(x.earth.radius*Math.PI),Ra={[2]:{[5]:null,[8]:null,[10]:null,[11]:Da,[6]:Da,[1]:Y,[7]:null,[9]:null,[0]:null,[3]:M,[12]:e,[2]:Da,[4]:wa},[5]:{[5]:Da,[8]:null,[10]:null,[11]:Da,[6]:Da,[1]:Y,[7]:null,[9]:null,[0]:null,[3]:null,[12]:e,[2]:null,[4]:wa},[8]:{[5]:null,[8]:Da,[10]:null,[11]:Da,[6]:null,[1]:null,[7]:aa,[9]:null,[0]:null,[3]:null,[12]:null,[2]:null,[4]:null},[10]:{[5]:null,[8]:null,[10]:Da,[11]:Da,[6]:null,
[1]:null,[7]:null,[9]:N,[0]:null,[3]:null,[12]:null,[2]:null,[4]:null},[3]:{[5]:null,[8]:null,[10]:null,[11]:Sa,[6]:Sa,[1]:sa,[7]:null,[9]:null,[0]:null,[3]:Da,[12]:function(V,fa,U,ka){Sa(V,fa,U,ka);e(U,ka,U,ka)},[2]:Sa,[4]:b},[4]:{[5]:ya,[8]:null,[10]:null,[11]:ya,[6]:ya,[1]:Ja,[7]:null,[9]:null,[0]:null,[3]:Ga,[12]:function(V,fa,U,ka){ya(V,fa,U,ka);e(U,ka,U,ka)},[2]:ya,[4]:Da},[1]:{[5]:ma,[8]:null,[10]:null,[11]:ma,[6]:ma,[1]:Da,[7]:null,[9]:null,[0]:null,[3]:na,[12]:function(V,fa,U,ka){ma(V,fa,
U,ka);e(U,ka,U,ka)},[2]:ma,[4]:ta},[7]:{[5]:null,[8]:X,[10]:null,[11]:X,[6]:null,[1]:null,[7]:Da,[9]:null,[0]:null,[3]:null,[12]:null,[2]:null,[4]:null},[9]:{[5]:null,[8]:null,[10]:G,[11]:G,[6]:null,[1]:null,[7]:null,[9]:Da,[0]:null,[3]:null,[12]:null,[2]:null,[4]:null},[0]:{[5]:null,[8]:null,[10]:null,[11]:null,[6]:null,[1]:null,[7]:null,[9]:null,[0]:Da,[3]:null,[12]:null,[2]:null,[4]:null},[11]:{[5]:Da,[8]:Da,[10]:Da,[11]:Da,[6]:Da,[1]:Y,[7]:aa,[9]:N,[0]:null,[3]:M,[12]:e,[2]:Da,[4]:wa},[6]:{[5]:null,
[8]:null,[10]:null,[11]:Da,[6]:Da,[1]:Y,[7]:null,[9]:null,[0]:null,[3]:null,[12]:e,[2]:Da,[4]:wa},[12]:{[5]:t,[8]:null,[10]:null,[11]:t,[6]:t,[1]:function(V,fa,U,ka){t(V,fa,U,ka);Y(U,ka,U,ka)},[7]:null,[9]:null,[0]:null,[3]:function(V,fa,U,ka){t(V,fa,U,ka);M(U,ka,U,ka)},[12]:Da,[2]:t,[4]:function(V,fa,U,ka){t(V,fa,U,ka);wa(U,ka,U,ka)}}},vb={spatialReference:null,spatialReferenceId:0},zb={spatialReference:null,spatialReferenceId:0},Fb=Ea(),ec=Ea(),mb=m.deg2rad(1),yb=m.rad2deg(1),Va=ba.create(),kb=
ba.create(),tb=ba.create(),Pa=ba.create(),Gb=ba.create();d.canProjectToWGS84ComparableLonLat=function(V){if(v.isNone(V))return!1;V=Ka(V,vb);return!!Ra[V][6]};d.canProjectWithoutEngine=L;d.computeENUToSphericalPCPFLocalRotation=Na;d.computeSphericalPCPFToENULocalRotation=Ta;d.computeTranslationToOriginAndRotation=function(V,fa,U,ka){if(v.isNone(V)||v.isNone(ka))return!1;var ua=Ka(V,vb),xa=Ka(ka,zb);if(ua===xa&&1!==xa&&7!==xa&&9!==xa&&(0!==ua||S.equals(V,ka)))return k.identity(U),k.translate(U,U,fa),
!0;if(1===xa||7===xa||9===xa){ua=Ra[ua][11];xa=Ra[11][xa];if(v.isNone(ua)||v.isNone(xa))return!1;ua(fa,0,kb,0);xa(kb,0,tb,0);Na(mb*kb[0],mb*kb[1],U);U[12]=tb[0];U[13]=tb[1];U[14]=tb[2];return!0}if(!(3!==xa&&12!==xa||2!==ua&&1!==ua)){V=Ra[ua][11];xa=Ra[11][xa];if(v.isNone(V)||v.isNone(xa))return!1;V(fa,0,kb,0);xa(kb,0,tb,0);2===ua?k.identity(U):Ta(mb*kb[0],mb*kb[1],U);U[12]=tb[0];U[13]=tb[1];U[14]=tb[2];return!0}return!1};d.getProjectorName=function(V,fa){switch(Fa(V,fa,Fb)){case Da:return"copy3";
case Y:return"wgs84ToSphericalECEF";case M:return"wgs84ToWebMercator";case e:return"wgs84ToPlateCarree";case wa:return"wgs84ToWGS84ECEF";case Sa:return"webMercatorToWGS84";case sa:return"webMercatorToSphericalECEF";case b:return"webMercatorToWGS84ECEF";case ya:return"wgs84ECEFToWGS84";case Ja:return"wgs84ECEFToSphericalECEF";case Ga:return"wgs84ECEFToWebMercator";case ma:return"sphericalECEFToWGS84";case na:return"sphericalECEFToWebMercator";case X:return"sphericalMarsPCPFToMars2000";case G:return"sphericalMoonPCPFToMoon2000";
case ta:return"sphericalECEFToWGS84ECEF";case aa:return"mars2000ToSphericalPCPF";case N:return"moon2000ToSphericalPCPF";default:return null}};d.getTransformation=K;d.getTransformations=function(V,fa,U=null){if(v.isNone(oa))throw new a;V=oa._getTransformationBySuitability(cb,V,fa,U,null==U?void 0:U.spatialReference);if(null!==V){fa=[];for(const ka of V)fa.push(F.fromGE(ka));return fa}return[]};d.initializeProjection=function(V,fa,U,ka){return P.apply(this,arguments)};d.isLoaded=ha;d.isSupported=function(){return!0};
d.load=ca;d.localLinearScaleFactors=function(V,fa,U,ka){if(v.isNone(fa)||v.isNone(ka))return!1;const ua=Ka(fa,vb);var xa=Ka(ka,zb);if(ua===xa&&0!==ua||S.equals(fa,ka))return U[0]=1,U[1]=1,U[2]=1,!0;if(1===ua){fa=w.length(V);V=fa/Math.sqrt(V[0]*V[0]+V[1]*V[1]);fa/=x.earth.radius;if(3===xa)return U[0]=V*fa,U[1]=V*fa,U[2]=1,!0;if(2===xa||5===xa)return xa=180/(x.earth.radius*Math.PI),U[0]=xa*V*fa,U[1]=xa*fa,U[2]=1,!0}else if(12===ua&&(2===xa||5===xa))return U[0]=gb,U[1]=gb,U[2]=1,!0;return!1};d.lonLatToSphericalPCPF=
function(V,fa,U,ka,ua=0){ka+=ua;ua=Math.cos(U);V[0]=Math.cos(fa)*ua*ka;V[1]=Math.sin(fa)*ua*ka;V[2]=Math.sin(U)*ka};d.lonLatToWebMercatorComparable=g;d.project=function(V,fa,U=null){return Array.isArray(V)?0===V.length?[]:ja(cb,V,V[0].spatialReference,fa,U):ja(cb,[V],V.spatialReference,fa,U)[0]};d.projectBoundingRect=function(V,fa,U,ka){if(null==V)return!1;if(S.equals(fa,ka))return E.copy(U,V),!0;Va[0]=V[0];Va[1]=V[1];Va[2]=0;if(!za(Va,fa,0,Va,ka,0,1))return!1;U[0]=Va[0];U[1]=Va[1];Va[0]=V[2];Va[1]=
V[3];Va[2]=0;if(!za(Va,fa,0,Va,ka,0,1))return!1;U[2]=Va[0];U[3]=Va[1];return!0};d.projectBoundingSphere=function(V,fa,U,ka){if(v.isNone(fa)||v.isNone(ka))return!1;fa=Aa(fa,ka,ec);if(fa.projector===Da)return U[0]=V[0],U[1]=V[1],U[2]=V[2],U[3]=V[3],!0;if(v.isNone(fa.projector))return!1;const {source:ua,dest:xa}=fa;if(3===xa.spatialReferenceId){fa=Ra[ua.spatialReferenceId][2];if(v.isNone(fa))return!1;fa(V,0,kb,0);M(kb,0,U,0);U[3]=Ba(kb[1],V[2],V[3],x.earth.radius);return!0}if(2!==ua.spatialReferenceId&&
5!==ua.spatialReferenceId||12!==xa.spatialReferenceId)fa.projector(V,0,U,0),U[3]=V[3]*ua.metersPerUnit/xa.metersPerUnit;else{ka=Ra[1][12];let Ia=V[3];v.isSome(Ra[ua.spatialReferenceId][1])&&v.isSome(ka)&&(Ia=Ba(V[1],V[2],V[3],x.earth.radius));fa.projector(V,0,U,0);U[3]=Ia}return!0};d.projectBuffer=za;d.projectDirection=function(V,fa,U,ka,ua){w.copy(Pa,V);w.add(Gb,V,fa);la(Pa,U,Pa,ua);la(Gb,U,Gb,ua);w.subtract(ka,Gb,Pa);w.normalize(ka,ka)};d.projectExtent=function(V,fa,U=fa.spatialReference,ka=0){return v.isSome(U)&&
v.isSome(ea(V,V.spatialReference,fa,U,ka))};d.projectMany=ja;d.projectMultipoint=function(V,fa,U=fa.spatialReference,ka=0){return v.isNone(U)?!1:v.isSome(n(V,V.spatialReference,fa,U,ka))};d.projectPoint=function(V,fa,U=fa.spatialReference,ka=0){return v.isNone(U)?!1:v.isSome(p(V,V.spatialReference,fa,U,ka))};d.projectPointToVector=function(V,fa,U,ka=0){Pa[0]=V.x;Pa[1]=V.y;const ua=V.z;Pa[2]=void 0!==ua?ua:ka;return za(Pa,V.spatialReference,0,fa,U,0,1)};d.projectPointToWGS84ComparableLonLat=function(V,
fa){Pa[0]=V.x;Pa[1]=V.y;const U=V.z;Pa[2]=void 0!==U?U:0;return qa(Pa,V.spatialReference,fa)};d.projectPolygon=function(V,fa,U=fa.spatialReference,ka=0){return v.isSome(U)&&v.isSome(O(V,V.spatialReference,fa,U,ka))};d.projectPolyline=function(V,fa,U=fa.spatialReference,ka=0){return v.isSome(U)&&v.isSome(H(V,V.spatialReference,fa,U,ka))};d.projectVectorToDehydratedPoint=function(V,fa,U){return za(V,fa,0,Pa,U.spatialReference,0,1)?(U.x=Pa[0],U.y=Pa[1],U.z=Pa[2],U):null};d.projectVectorToPoint=function(V,
fa,U){if(v.isNone(fa)||v.isNone(U))return null;const ka=new R({spatialReference:U});return za(V,fa,0,Pa,U,0,1)?(ka.x=Pa[0],ka.y=Pa[1],ka.z=Pa[2],ka):null};d.projectVectorToVector=la;d.projectVectorToWGS84ComparableLonLat=function(V,fa,U){return qa(V,fa,U)};d.projectWithoutEngine=Q;d.projectXYZToVector=ia;d.sphericalPCPFtoLonLatElevation=y;d.unload=function(){fb=cb=oa=null;bb={}};Object.defineProperty(d,"__esModule",{value:!0})})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ../geometry/projectionEllipsoid ../geometry/SpatialReference ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),
function(q,d,Z,T,m,v,h,J){function k(p){if(p=L[p])return p;throw Error("unknown measure");}function w(p){return K[p].baseUnit}function ba(p,n=null){n=n||k(p);return K[n].baseUnit===p}function W(p,n,H){if(n===H)return p;const O=k(n);if(O!==k(H))throw Error("incompatible units");p=ba(n,O)?p:p*K[O].units[n].inBaseUnits;return ba(H,O)?p:p/K[O].units[H].inBaseUnits}function C(p,n){return 3E3>W(p,n,"meters")?"meters":"kilometers"}function B(p,n){return 1E5>W(p,n,"meters")?"meters":"kilometers"}function R(p,
n){return 1E3>W(p,n,"feet")?"feet":"miles"}function f(p,n){return 1E5>W(p,n,"feet")?"feet":"miles"}function r(p){return ja.fromJSON(p.toLowerCase())||null}function u(p,n=v.earth.metersPerDegree){return E(p,!0)||n}function E(p,n=!1){let H,O,ea=null;null!=p&&("object"===typeof p?(H=p.wkid,O=p.wkt):"number"===typeof p?H=p:"string"===typeof p&&(O=p));if(H){if(h.isWKIDFromMars(H))return v.mars.metersPerDegree;if(h.isWKIDFromMoon(H))return v.moon.metersPerDegree;ea=S.values[S[H]];!ea&&n&&ca.has(H)&&(ea=
A)}else O&&(-1!==O.search(/^PROJCS/i)?(p=F.exec(O))&&p[1]&&(ea=parseFloat(p[1].split(",")[1])):-1!==O.search(/^GEOCCS/i)&&(p=ha.exec(O))&&p[1]&&(ea=parseFloat(p[1].split(",")[1])));return ea}function x(p){let n,H,O=null;null!=p&&("object"===typeof p?(n=p.wkid,H=p.wkt):"number"===typeof p?n=p:"string"===typeof p&&(H=p));n?O=S.units[S[n]]:H&&-1!==H.search(/^PROJCS/i)&&(p=F.exec(H))&&p[1]&&(O=(p=/[\\"\\']{1}([^\\"\\']+)/.exec(p[1]))&&p[1]);return O?r(O):null}const A=v.earth.radius*Math.PI/200,F=/UNIT\[([^\]]+)\]\]$/i,
S=J,ha=/UNIT\[([^\]]+)\]/i,ca=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),ja=Z.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",
"50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});d={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};J={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*
.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(p=>p*p)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const K={length:{baseUnit:"meters",units:d},area:{baseUnit:"square-meters",units:J},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},
"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},L=function(){const p={};for(const n in K)for(const H in K[n].units)p[H]=
n;return p}(),P={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Q={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",
esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"};d=Z.strict()(P);J=Z.strict()(Q);Z=Z.strict()({...P,...Q});q.areaUnitsJSONMap=d;q.baseUnitForMeasure=w;q.baseUnitForUnit=function(p){return w(k(p))};q.convertUnit=W;q.getDefaultUnitSystem=function(p){if(!p)return null;switch(x(p)){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};q.getMetersPerUnit=E;q.getMetersPerUnitForSR=u;q.getMetersPerVerticalUnitForSR=function(p){if(p&&"object"===typeof p&&!h.isEarth(p))return 1;p=u(p);return 1E5<p?1:p};q.getUnitString=x;q.getVerticalUnitStringForSR=function(p){const n=u(p),H=p instanceof m?T.getReferenceEllipsoid(p).metersPerDegree:1E5;return n>=H?"meters":x(p)};q.inchesPerMeter=39.37;q.isBaseUnit=ba;q.isMeasurementSystem=function(p){return"imperial"===
p||"metric"===p};q.lengthToDegrees=function(p,n,H){return W(p,n,"meters")/(H*Math.PI/180)};q.lengthUnitsJSONMap=J;q.measureForUnit=k;q.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");q.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");q.preferredImperialAreaUnit=function(p,n){return 1E6>W(p,n,"square-feet")?"square-feet":
"square-miles"};q.preferredImperialLengthUnit=R;q.preferredImperialVerticalLengthUnit=f;q.preferredLengthUnit=function(p,n,H){switch(H){case "metric":return C(p,n);case "imperial":return R(p,n);default:return H}};q.preferredMetricAreaUnit=function(p,n){return 3E6>W(p,n,"square-meters")?"square-meters":"square-kilometers"};q.preferredMetricLengthUnit=C;q.preferredMetricVerticalLengthUnit=B;q.preferredVerticalLengthUnit=function(p,n,H){switch(H){case "metric":return B(p,n);case "imperial":return f(p,
n);default:return H}};q.unitFromRESTJSON=r;q.unitToRESTJSON=function(p){return ja.toJSON(p)||null};q.unitsJSONMap=Z;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/geometry/projectionEllipsoid":function(){define(["exports","./SpatialReference","./support/Ellipsoid","./support/spatialReferenceUtils"],function(q,d,Z,T){function m(w){return new d({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${w.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}
const v=m(Z.earth),h=m(Z.mars),J=m(Z.moon),k=new d({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${Z.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});q.SphericalECEFSpatialReference=v;q.SphericalPCPFMars=
h;q.SphericalPCPFMoon=J;q.WGS84ECEFSpatialReference=k;q.createSphericalPCPF=m;q.getReferenceEllipsoid=function(w){return w&&(T.isMars(w)||w===h)?Z.mars:w&&(T.isMoon(w)||w===J)?Z.moon:Z.earth};q.getReferenceEllipsoidFromWKID=function(w){return T.isWKIDFromMars(w)?Z.mars:T.isWKIDFromMoon(w)?Z.moon:Z.earth};q.getSphericalPCPF=function(w){return w&&(T.isMars(w)||w===h)?h:w&&(T.isMoon(w)||w===J)?J:v};q.getSphericalPCPFForEllipsoid=function(w){return w&&w===Z.mars?h:w&&w===Z.moon?J:v};Object.defineProperty(q,
"__esModule",{value:!0})})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(q,d,Z){function T(b,g){b[0]=g[0];b[1]=g[1];b[2]=g[2];b[3]=g[3];b[4]=g[4];b[5]=g[5];b[6]=g[6];b[7]=g[7];b[8]=g[8];b[9]=g[9];b[10]=g[10];b[11]=g[11];b[12]=g[12];b[13]=g[13];b[14]=g[14];b[15]=g[15];return b}function m(b,g,M,e,t,I,N,aa,Y,y,G,X,ma,na,ta,wa,ya){b[0]=g;b[1]=M;b[2]=e;b[3]=t;b[4]=I;b[5]=N;b[6]=aa;b[7]=Y;b[8]=y;b[9]=G;b[10]=X;b[11]=ma;b[12]=na;b[13]=ta;b[14]=wa;b[15]=ya;return b}function v(b){b[0]=
1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function h(b,g){if(b===g){const M=g[1],e=g[2],t=g[3],I=g[6],N=g[7],aa=g[11];b[1]=g[4];b[2]=g[8];b[3]=g[12];b[4]=M;b[6]=g[9];b[7]=g[13];b[8]=e;b[9]=I;b[11]=g[14];b[12]=t;b[13]=N;b[14]=aa}else b[0]=g[0],b[1]=g[4],b[2]=g[8],b[3]=g[12],b[4]=g[1],b[5]=g[5],b[6]=g[9],b[7]=g[13],b[8]=g[2],b[9]=g[6],b[10]=g[10],b[11]=g[14],b[12]=g[3],b[13]=g[7],b[14]=g[11],b[15]=g[15];return b}function J(b,
g){const M=g[0],e=g[1],t=g[2],I=g[3],N=g[4],aa=g[5],Y=g[6],y=g[7],G=g[8],X=g[9],ma=g[10],na=g[11],ta=g[12],wa=g[13],ya=g[14];g=g[15];const Ja=M*aa-e*N,Ga=M*Y-t*N,Fa=M*y-I*N,Aa=e*Y-t*aa,Ea=e*y-I*aa,oa=t*y-I*Y,cb=G*wa-X*ta,fb=G*ya-ma*ta,bb=G*g-na*ta,a=X*ya-ma*wa,hb=X*g-na*wa,gb=ma*g-na*ya;let Ra=Ja*gb-Ga*hb+Fa*a+Aa*bb-Ea*fb+oa*cb;if(!Ra)return null;Ra=1/Ra;b[0]=(aa*gb-Y*hb+y*a)*Ra;b[1]=(t*hb-e*gb-I*a)*Ra;b[2]=(wa*oa-ya*Ea+g*Aa)*Ra;b[3]=(ma*Ea-X*oa-na*Aa)*Ra;b[4]=(Y*bb-N*gb-y*fb)*Ra;b[5]=(M*gb-t*bb+
I*fb)*Ra;b[6]=(ya*Fa-ta*oa-g*Ga)*Ra;b[7]=(G*oa-ma*Fa+na*Ga)*Ra;b[8]=(N*hb-aa*bb+y*cb)*Ra;b[9]=(e*bb-M*hb-I*cb)*Ra;b[10]=(ta*Ea-wa*Fa+g*Ja)*Ra;b[11]=(X*Fa-G*Ea-na*Ja)*Ra;b[12]=(aa*fb-N*a-Y*cb)*Ra;b[13]=(M*a-e*fb+t*cb)*Ra;b[14]=(wa*Ga-ta*Aa-ya*Ja)*Ra;b[15]=(G*Aa-X*Ga+ma*Ja)*Ra;return b}function k(b,g){const M=g[0],e=g[1],t=g[2],I=g[3],N=g[4],aa=g[5],Y=g[6],y=g[7],G=g[8],X=g[9],ma=g[10],na=g[11],ta=g[12],wa=g[13],ya=g[14];g=g[15];b[0]=aa*(ma*g-na*ya)-X*(Y*g-y*ya)+wa*(Y*na-y*ma);b[1]=-(e*(ma*g-na*ya)-
X*(t*g-I*ya)+wa*(t*na-I*ma));b[2]=e*(Y*g-y*ya)-aa*(t*g-I*ya)+wa*(t*y-I*Y);b[3]=-(e*(Y*na-y*ma)-aa*(t*na-I*ma)+X*(t*y-I*Y));b[4]=-(N*(ma*g-na*ya)-G*(Y*g-y*ya)+ta*(Y*na-y*ma));b[5]=M*(ma*g-na*ya)-G*(t*g-I*ya)+ta*(t*na-I*ma);b[6]=-(M*(Y*g-y*ya)-N*(t*g-I*ya)+ta*(t*y-I*Y));b[7]=M*(Y*na-y*ma)-N*(t*na-I*ma)+G*(t*y-I*Y);b[8]=N*(X*g-na*wa)-G*(aa*g-y*wa)+ta*(aa*na-y*X);b[9]=-(M*(X*g-na*wa)-G*(e*g-I*wa)+ta*(e*na-I*X));b[10]=M*(aa*g-y*wa)-N*(e*g-I*wa)+ta*(e*y-I*aa);b[11]=-(M*(aa*na-y*X)-N*(e*na-I*X)+G*(e*y-I*
aa));b[12]=-(N*(X*ya-ma*wa)-G*(aa*ya-Y*wa)+ta*(aa*ma-Y*X));b[13]=M*(X*ya-ma*wa)-G*(e*ya-t*wa)+ta*(e*ma-t*X);b[14]=-(M*(aa*ya-Y*wa)-N*(e*ya-t*wa)+ta*(e*Y-t*aa));b[15]=M*(aa*ma-Y*X)-N*(e*ma-t*X)+G*(e*Y-t*aa);return b}function w(b){const g=b[0],M=b[1],e=b[2],t=b[3],I=b[4],N=b[5],aa=b[6],Y=b[7],y=b[8],G=b[9],X=b[10],ma=b[11],na=b[12],ta=b[13],wa=b[14];b=b[15];return(g*N-M*I)*(X*b-ma*wa)-(g*aa-e*I)*(G*b-ma*ta)+(g*Y-t*I)*(G*wa-X*ta)+(M*aa-e*N)*(y*b-ma*na)-(M*Y-t*N)*(y*wa-X*na)+(e*Y-t*aa)*(y*ta-G*na)}function ba(b,
g,M){const e=g[0],t=g[1],I=g[2],N=g[3],aa=g[4],Y=g[5],y=g[6],G=g[7],X=g[8],ma=g[9],na=g[10],ta=g[11],wa=g[12],ya=g[13],Ja=g[14];g=g[15];let Ga=M[0],Fa=M[1],Aa=M[2],Ea=M[3];b[0]=Ga*e+Fa*aa+Aa*X+Ea*wa;b[1]=Ga*t+Fa*Y+Aa*ma+Ea*ya;b[2]=Ga*I+Fa*y+Aa*na+Ea*Ja;b[3]=Ga*N+Fa*G+Aa*ta+Ea*g;Ga=M[4];Fa=M[5];Aa=M[6];Ea=M[7];b[4]=Ga*e+Fa*aa+Aa*X+Ea*wa;b[5]=Ga*t+Fa*Y+Aa*ma+Ea*ya;b[6]=Ga*I+Fa*y+Aa*na+Ea*Ja;b[7]=Ga*N+Fa*G+Aa*ta+Ea*g;Ga=M[8];Fa=M[9];Aa=M[10];Ea=M[11];b[8]=Ga*e+Fa*aa+Aa*X+Ea*wa;b[9]=Ga*t+Fa*Y+Aa*ma+Ea*
ya;b[10]=Ga*I+Fa*y+Aa*na+Ea*Ja;b[11]=Ga*N+Fa*G+Aa*ta+Ea*g;Ga=M[12];Fa=M[13];Aa=M[14];Ea=M[15];b[12]=Ga*e+Fa*aa+Aa*X+Ea*wa;b[13]=Ga*t+Fa*Y+Aa*ma+Ea*ya;b[14]=Ga*I+Fa*y+Aa*na+Ea*Ja;b[15]=Ga*N+Fa*G+Aa*ta+Ea*g;return b}function W(b,g,M){const e=M[0],t=M[1];M=M[2];let I=void 0,N=void 0,aa=void 0,Y=void 0,y=void 0,G=void 0,X=void 0,ma=void 0,na=void 0,ta=void 0,wa=void 0,ya=void 0;g===b?(b[12]=g[0]*e+g[4]*t+g[8]*M+g[12],b[13]=g[1]*e+g[5]*t+g[9]*M+g[13],b[14]=g[2]*e+g[6]*t+g[10]*M+g[14],b[15]=g[3]*e+g[7]*
t+g[11]*M+g[15]):(I=g[0],N=g[1],aa=g[2],Y=g[3],y=g[4],G=g[5],X=g[6],ma=g[7],na=g[8],ta=g[9],wa=g[10],ya=g[11],b[0]=I,b[1]=N,b[2]=aa,b[3]=Y,b[4]=y,b[5]=G,b[6]=X,b[7]=ma,b[8]=na,b[9]=ta,b[10]=wa,b[11]=ya,b[12]=I*e+y*t+na*M+g[12],b[13]=N*e+G*t+ta*M+g[13],b[14]=aa*e+X*t+wa*M+g[14],b[15]=Y*e+ma*t+ya*M+g[15]);return b}function C(b,g,M){const e=M[0],t=M[1];M=M[2];b[0]=g[0]*e;b[1]=g[1]*e;b[2]=g[2]*e;b[3]=g[3]*e;b[4]=g[4]*t;b[5]=g[5]*t;b[6]=g[6]*t;b[7]=g[7]*t;b[8]=g[8]*M;b[9]=g[9]*M;b[10]=g[10]*M;b[11]=g[11]*
M;b[12]=g[12];b[13]=g[13];b[14]=g[14];b[15]=g[15];return b}function B(b,g,M,e){let t=e[0],I=e[1];e=e[2];let N=Math.sqrt(t*t+I*I+e*e);var aa=void 0,Y=void 0;let y=void 0,G=void 0,X=void 0,ma=void 0,na=void 0,ta=void 0,wa=void 0,ya=void 0,Ja=void 0,Ga=void 0,Fa=void 0,Aa=void 0,Ea=void 0,oa=void 0,cb=void 0,fb=void 0,bb=void 0,a=void 0,hb=void 0,gb=void 0;Y=aa=void 0;if(N<Z.EPSILON)return null;N=1/N;t*=N;I*=N;e*=N;aa=Math.sin(M);Y=Math.cos(M);y=1-Y;G=g[0];X=g[1];ma=g[2];na=g[3];ta=g[4];wa=g[5];ya=g[6];
Ja=g[7];Ga=g[8];Fa=g[9];Aa=g[10];Ea=g[11];oa=t*t*y+Y;cb=I*t*y+e*aa;fb=e*t*y-I*aa;bb=t*I*y-e*aa;a=I*I*y+Y;hb=e*I*y+t*aa;gb=t*e*y+I*aa;aa=I*e*y-t*aa;Y=e*e*y+Y;b[0]=G*oa+ta*cb+Ga*fb;b[1]=X*oa+wa*cb+Fa*fb;b[2]=ma*oa+ya*cb+Aa*fb;b[3]=na*oa+Ja*cb+Ea*fb;b[4]=G*bb+ta*a+Ga*hb;b[5]=X*bb+wa*a+Fa*hb;b[6]=ma*bb+ya*a+Aa*hb;b[7]=na*bb+Ja*a+Ea*hb;b[8]=G*gb+ta*aa+Ga*Y;b[9]=X*gb+wa*aa+Fa*Y;b[10]=ma*gb+ya*aa+Aa*Y;b[11]=na*gb+Ja*aa+Ea*Y;g!==b&&(b[12]=g[12],b[13]=g[13],b[14]=g[14],b[15]=g[15]);return b}function R(b,g,
M){const e=Math.sin(M);M=Math.cos(M);const t=g[4],I=g[5],N=g[6],aa=g[7],Y=g[8],y=g[9],G=g[10],X=g[11];g!==b&&(b[0]=g[0],b[1]=g[1],b[2]=g[2],b[3]=g[3],b[12]=g[12],b[13]=g[13],b[14]=g[14],b[15]=g[15]);b[4]=t*M+Y*e;b[5]=I*M+y*e;b[6]=N*M+G*e;b[7]=aa*M+X*e;b[8]=Y*M-t*e;b[9]=y*M-I*e;b[10]=G*M-N*e;b[11]=X*M-aa*e;return b}function f(b,g,M){const e=Math.sin(M);M=Math.cos(M);const t=g[0],I=g[1],N=g[2],aa=g[3],Y=g[8],y=g[9],G=g[10],X=g[11];g!==b&&(b[4]=g[4],b[5]=g[5],b[6]=g[6],b[7]=g[7],b[12]=g[12],b[13]=g[13],
b[14]=g[14],b[15]=g[15]);b[0]=t*M-Y*e;b[1]=I*M-y*e;b[2]=N*M-G*e;b[3]=aa*M-X*e;b[8]=t*e+Y*M;b[9]=I*e+y*M;b[10]=N*e+G*M;b[11]=aa*e+X*M;return b}function r(b,g,M){const e=Math.sin(M);M=Math.cos(M);const t=g[0],I=g[1],N=g[2],aa=g[3],Y=g[4],y=g[5],G=g[6],X=g[7];g!==b&&(b[8]=g[8],b[9]=g[9],b[10]=g[10],b[11]=g[11],b[12]=g[12],b[13]=g[13],b[14]=g[14],b[15]=g[15]);b[0]=t*M+Y*e;b[1]=I*M+y*e;b[2]=N*M+G*e;b[3]=aa*M+X*e;b[4]=Y*M-t*e;b[5]=y*M-I*e;b[6]=G*M-N*e;b[7]=X*M-aa*e;return b}function u(b,g){b[0]=1;b[1]=
0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=g[0];b[13]=g[1];b[14]=g[2];b[15]=1;return b}function E(b,g){b[0]=g[0];b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=g[1];b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=g[2];b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function x(b,g,M){let e=M[0],t=M[1];M=M[2];let I=Math.sqrt(e*e+t*t+M*M),N=void 0,aa=void 0,Y=void 0;if(I<Z.EPSILON)return null;I=1/I;e*=I;t*=I;M*=I;N=Math.sin(g);aa=Math.cos(g);Y=1-aa;b[0]=e*e*Y+aa;b[1]=t*e*Y+M*N;b[2]=M*e*Y-t*
N;b[3]=0;b[4]=e*t*Y-M*N;b[5]=t*t*Y+aa;b[6]=M*t*Y+e*N;b[7]=0;b[8]=e*M*Y+t*N;b[9]=t*M*Y-e*N;b[10]=M*M*Y+aa;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function A(b,g){const M=Math.sin(g);g=Math.cos(g);b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=g;b[6]=M;b[7]=0;b[8]=0;b[9]=-M;b[10]=g;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function F(b,g){const M=Math.sin(g);g=Math.cos(g);b[0]=g;b[1]=0;b[2]=-M;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=M;b[9]=0;b[10]=g;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;
return b}function S(b,g){const M=Math.sin(g);g=Math.cos(g);b[0]=g;b[1]=M;b[2]=0;b[3]=0;b[4]=-M;b[5]=g;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function ha(b,g,M){var e=g[0],t=g[1],I=g[2],N=g[3],aa=e+e,Y=t+t;const y=I+I;g=e*aa;const G=e*Y;e*=y;const X=t*Y;t*=y;I*=y;aa*=N;Y*=N;N*=y;b[0]=1-(X+I);b[1]=G+N;b[2]=e-Y;b[3]=0;b[4]=G-N;b[5]=1-(g+I);b[6]=t+aa;b[7]=0;b[8]=e+Y;b[9]=t-aa;b[10]=1-(g+X);b[11]=0;b[12]=M[0];b[13]=M[1];b[14]=M[2];b[15]=1;return b}function ca(b,
g){const M=sa,e=-g[0],t=-g[1],I=-g[2],N=g[3],aa=g[4],Y=g[5],y=g[6],G=g[7],X=e*e+t*t+I*I+N*N;0<X?(M[0]=2*(aa*N+G*e+Y*I-y*t)/X,M[1]=2*(Y*N+G*t+y*e-aa*I)/X,M[2]=2*(y*N+G*I+aa*t-Y*e)/X):(M[0]=2*(aa*N+G*e+Y*I-y*t),M[1]=2*(Y*N+G*t+y*e-aa*I),M[2]=2*(y*N+G*I+aa*t-Y*e));ha(b,g,M);return b}function ja(b,g){b[0]=g[12];b[1]=g[13];b[2]=g[14];return b}function K(b,g){const M=g[0],e=g[1],t=g[2],I=g[4],N=g[5],aa=g[6],Y=g[8],y=g[9];g=g[10];b[0]=Math.sqrt(M*M+e*e+t*t);b[1]=Math.sqrt(I*I+N*N+aa*aa);b[2]=Math.sqrt(Y*
Y+y*y+g*g);return b}function L(b,g){const M=g[0]+g[5]+g[10];let e=0;0<M?(e=2*Math.sqrt(M+1),b[3]=.25*e,b[0]=(g[6]-g[9])/e,b[1]=(g[8]-g[2])/e,b[2]=(g[1]-g[4])/e):g[0]>g[5]&&g[0]>g[10]?(e=2*Math.sqrt(1+g[0]-g[5]-g[10]),b[3]=(g[6]-g[9])/e,b[0]=.25*e,b[1]=(g[1]+g[4])/e,b[2]=(g[8]+g[2])/e):g[5]>g[10]?(e=2*Math.sqrt(1+g[5]-g[0]-g[10]),b[3]=(g[8]-g[2])/e,b[0]=(g[1]+g[4])/e,b[1]=.25*e,b[2]=(g[6]+g[9])/e):(e=2*Math.sqrt(1+g[10]-g[0]-g[5]),b[3]=(g[1]-g[4])/e,b[0]=(g[8]+g[2])/e,b[1]=(g[6]+g[9])/e,b[2]=.25*e);
return b}function P(b,g,M,e){var t=g[0],I=g[1],N=g[2],aa=g[3],Y=t+t,y=I+I,G=N+N;g=t*Y;const X=t*y;t*=G;const ma=I*y;I*=G;N*=G;Y*=aa;y*=aa;aa*=G;G=e[0];const na=e[1];e=e[2];b[0]=(1-(ma+N))*G;b[1]=(X+aa)*G;b[2]=(t-y)*G;b[3]=0;b[4]=(X-aa)*na;b[5]=(1-(g+N))*na;b[6]=(I+Y)*na;b[7]=0;b[8]=(t+y)*e;b[9]=(I-Y)*e;b[10]=(1-(g+ma))*e;b[11]=0;b[12]=M[0];b[13]=M[1];b[14]=M[2];b[15]=1;return b}function Q(b,g,M,e,t){var I=g[0],N=g[1],aa=g[2],Y=g[3],y=I+I,G=N+N,X=aa+aa;g=I*y;var ma=I*G,na=I*X;I=N*G;N*=X;var ta=aa*
X;aa=Y*y;G*=Y;const wa=Y*X;var ya=e[0],Ja=e[1];X=e[2];e=t[0];Y=t[1];t=t[2];y=(1-(I+ta))*ya;const Ga=(ma+wa)*ya;ya*=na-G;ma=(ma-wa)*Ja;ta=(1-(g+ta))*Ja;Ja*=N+aa;na=(na+G)*X;N=(N-aa)*X;g=(1-(g+I))*X;b[0]=y;b[1]=Ga;b[2]=ya;b[3]=0;b[4]=ma;b[5]=ta;b[6]=Ja;b[7]=0;b[8]=na;b[9]=N;b[10]=g;b[11]=0;b[12]=M[0]+e-(y*e+ma*Y+na*t);b[13]=M[1]+Y-(Ga*e+ta*Y+N*t);b[14]=M[2]+t-(ya*e+Ja*Y+g*t);b[15]=1;return b}function p(b,g){var M=g[0],e=g[1],t=g[2];g=g[3];var I=M+M,N=e+e;const aa=t+t;M*=I;const Y=e*I;e*=N;const y=t*
I,G=t*N;t*=aa;I*=g;N*=g;g*=aa;b[0]=1-e-t;b[1]=Y+g;b[2]=y-N;b[3]=0;b[4]=Y-g;b[5]=1-M-t;b[6]=G+I;b[7]=0;b[8]=y+N;b[9]=G-I;b[10]=1-M-e;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function n(b,g,M,e,t,I,N){const aa=1/(M-g),Y=1/(t-e),y=1/(I-N);b[0]=2*I*aa;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=2*I*Y;b[6]=0;b[7]=0;b[8]=(M+g)*aa;b[9]=(t+e)*Y;b[10]=(N+I)*y;b[11]=-1;b[12]=0;b[13]=0;b[14]=N*I*2*y;b[15]=0;return b}function H(b,g,M,e,t){g=1/Math.tan(g/2);let I=void 0;b[0]=g/M;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=
g;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[11]=-1;b[12]=0;b[13]=0;b[15]=0;null!=t&&Infinity!==t?(I=1/(e-t),b[10]=(t+e)*I,b[14]=2*t*e*I):(b[10]=-1,b[14]=-2*e);return b}function O(b,g,M,e){const t=Math.tan(g.upDegrees*Math.PI/180),I=Math.tan(g.downDegrees*Math.PI/180),N=Math.tan(g.leftDegrees*Math.PI/180);g=Math.tan(g.rightDegrees*Math.PI/180);const aa=2/(N+g),Y=2/(t+I);b[0]=aa;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=Y;b[6]=0;b[7]=0;b[8]=-((N-g)*aa*.5);b[9]=(t-I)*Y*.5;b[10]=e/(M-e);b[11]=-1;b[12]=0;b[13]=0;b[14]=e*M/
(M-e);b[15]=0;return b}function ea(b,g,M,e,t,I,N){const aa=1/(g-M),Y=1/(e-t),y=1/(I-N);b[0]=-2*aa;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=-2*Y;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=2*y;b[11]=0;b[12]=(g+M)*aa;b[13]=(t+e)*Y;b[14]=(N+I)*y;b[15]=1;return b}function ia(b,g,M,e){let t=void 0,I=void 0;var N=void 0,aa=void 0;let Y=void 0,y=void 0;var G=void 0,X=void 0;let ma=void 0,na=void 0;const ta=g[0],wa=g[1];g=g[2];N=e[0];aa=e[1];e=e[2];G=M[0];X=M[1];M=M[2];if(Math.abs(ta-G)<Z.EPSILON&&Math.abs(wa-X)<Z.EPSILON&&
Math.abs(g-M)<Z.EPSILON)return v(b);G=ta-G;X=wa-X;ma=g-M;na=1/Math.sqrt(G*G+X*X+ma*ma);G*=na;X*=na;ma*=na;t=aa*ma-e*X;I=e*G-N*ma;N=N*X-aa*G;(na=Math.sqrt(t*t+I*I+N*N))?(na=1/na,t*=na,I*=na,N*=na):N=I=t=0;aa=X*N-ma*I;Y=ma*t-G*N;y=G*I-X*t;(na=Math.sqrt(aa*aa+Y*Y+y*y))?(na=1/na,aa*=na,Y*=na,y*=na):y=Y=aa=0;b[0]=t;b[1]=aa;b[2]=G;b[3]=0;b[4]=I;b[5]=Y;b[6]=X;b[7]=0;b[8]=N;b[9]=y;b[10]=ma;b[11]=0;b[12]=-(t*ta+I*wa+N*g);b[13]=-(aa*ta+Y*wa+y*g);b[14]=-(G*ta+X*wa+ma*g);b[15]=1;return b}function la(b,g,M,e){const t=
g[0],I=g[1];g=g[2];var N=e[0];const aa=e[1];var Y=e[2];e=t-M[0];let y=I-M[1];M=g-M[2];let G=e*e+y*y+M*M;0<G&&(G=1/Math.sqrt(G),e*=G,y*=G,M*=G);let X=aa*M-Y*y;Y=Y*e-N*M;N=N*y-aa*e;G=X*X+Y*Y+N*N;0<G&&(G=1/Math.sqrt(G),X*=G,Y*=G,N*=G);b[0]=X;b[1]=Y;b[2]=N;b[3]=0;b[4]=y*N-M*Y;b[5]=M*X-e*N;b[6]=e*Y-y*X;b[7]=0;b[8]=e;b[9]=y;b[10]=M;b[11]=0;b[12]=t;b[13]=I;b[14]=g;b[15]=1;return b}function qa(b){return"mat4("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+", "+b[4]+", "+b[5]+", "+b[6]+", "+b[7]+", "+b[8]+", "+b[9]+
", "+b[10]+", "+b[11]+", "+b[12]+", "+b[13]+", "+b[14]+", "+b[15]+")"}function za(b){return Math.sqrt(b[0]**2+b[1]**2+b[2]**2+b[3]**2+b[4]**2+b[5]**2+b[6]**2+b[7]**2+b[8]**2+b[9]**2+b[10]**2+b[11]**2+b[12]**2+b[13]**2+b[14]**2+b[15]**2)}function va(b,g,M){b[0]=g[0]+M[0];b[1]=g[1]+M[1];b[2]=g[2]+M[2];b[3]=g[3]+M[3];b[4]=g[4]+M[4];b[5]=g[5]+M[5];b[6]=g[6]+M[6];b[7]=g[7]+M[7];b[8]=g[8]+M[8];b[9]=g[9]+M[9];b[10]=g[10]+M[10];b[11]=g[11]+M[11];b[12]=g[12]+M[12];b[13]=g[13]+M[13];b[14]=g[14]+M[14];b[15]=
g[15]+M[15];return b}function Ba(b,g,M){b[0]=g[0]-M[0];b[1]=g[1]-M[1];b[2]=g[2]-M[2];b[3]=g[3]-M[3];b[4]=g[4]-M[4];b[5]=g[5]-M[5];b[6]=g[6]-M[6];b[7]=g[7]-M[7];b[8]=g[8]-M[8];b[9]=g[9]-M[9];b[10]=g[10]-M[10];b[11]=g[11]-M[11];b[12]=g[12]-M[12];b[13]=g[13]-M[13];b[14]=g[14]-M[14];b[15]=g[15]-M[15];return b}function Na(b,g,M){b[0]=g[0]*M;b[1]=g[1]*M;b[2]=g[2]*M;b[3]=g[3]*M;b[4]=g[4]*M;b[5]=g[5]*M;b[6]=g[6]*M;b[7]=g[7]*M;b[8]=g[8]*M;b[9]=g[9]*M;b[10]=g[10]*M;b[11]=g[11]*M;b[12]=g[12]*M;b[13]=g[13]*M;
b[14]=g[14]*M;b[15]=g[15]*M;return b}function Ta(b,g,M,e){b[0]=g[0]+M[0]*e;b[1]=g[1]+M[1]*e;b[2]=g[2]+M[2]*e;b[3]=g[3]+M[3]*e;b[4]=g[4]+M[4]*e;b[5]=g[5]+M[5]*e;b[6]=g[6]+M[6]*e;b[7]=g[7]+M[7]*e;b[8]=g[8]+M[8]*e;b[9]=g[9]+M[9]*e;b[10]=g[10]+M[10]*e;b[11]=g[11]+M[11]*e;b[12]=g[12]+M[12]*e;b[13]=g[13]+M[13]*e;b[14]=g[14]+M[14]*e;b[15]=g[15]+M[15]*e;return b}function Ka(b,g){return b[0]===g[0]&&b[1]===g[1]&&b[2]===g[2]&&b[3]===g[3]&&b[4]===g[4]&&b[5]===g[5]&&b[6]===g[6]&&b[7]===g[7]&&b[8]===g[8]&&b[9]===
g[9]&&b[10]===g[10]&&b[11]===g[11]&&b[12]===g[12]&&b[13]===g[13]&&b[14]===g[14]&&b[15]===g[15]}function Da(b,g){const M=b[0],e=b[1],t=b[2],I=b[3],N=b[4],aa=b[5],Y=b[6],y=b[7],G=b[8],X=b[9],ma=b[10],na=b[11],ta=b[12],wa=b[13],ya=b[14];b=b[15];const Ja=g[0],Ga=g[1],Fa=g[2],Aa=g[3],Ea=g[4],oa=g[5],cb=g[6],fb=g[7],bb=g[8],a=g[9],hb=g[10],gb=g[11],Ra=g[12],vb=g[13],zb=g[14];g=g[15];return Math.abs(M-Ja)<=Z.EPSILON*Math.max(1,Math.abs(M),Math.abs(Ja))&&Math.abs(e-Ga)<=Z.EPSILON*Math.max(1,Math.abs(e),Math.abs(Ga))&&
Math.abs(t-Fa)<=Z.EPSILON*Math.max(1,Math.abs(t),Math.abs(Fa))&&Math.abs(I-Aa)<=Z.EPSILON*Math.max(1,Math.abs(I),Math.abs(Aa))&&Math.abs(N-Ea)<=Z.EPSILON*Math.max(1,Math.abs(N),Math.abs(Ea))&&Math.abs(aa-oa)<=Z.EPSILON*Math.max(1,Math.abs(aa),Math.abs(oa))&&Math.abs(Y-cb)<=Z.EPSILON*Math.max(1,Math.abs(Y),Math.abs(cb))&&Math.abs(y-fb)<=Z.EPSILON*Math.max(1,Math.abs(y),Math.abs(fb))&&Math.abs(G-bb)<=Z.EPSILON*Math.max(1,Math.abs(G),Math.abs(bb))&&Math.abs(X-a)<=Z.EPSILON*Math.max(1,Math.abs(X),Math.abs(a))&&
Math.abs(ma-hb)<=Z.EPSILON*Math.max(1,Math.abs(ma),Math.abs(hb))&&Math.abs(na-gb)<=Z.EPSILON*Math.max(1,Math.abs(na),Math.abs(gb))&&Math.abs(ta-Ra)<=Z.EPSILON*Math.max(1,Math.abs(ta),Math.abs(Ra))&&Math.abs(wa-vb)<=Z.EPSILON*Math.max(1,Math.abs(wa),Math.abs(vb))&&Math.abs(ya-zb)<=Z.EPSILON*Math.max(1,Math.abs(ya),Math.abs(zb))&&Math.abs(b-g)<=Z.EPSILON*Math.max(1,Math.abs(b),Math.abs(g))}function Sa(b){const g=Z.EPSILON,M=b[0],e=b[1],t=b[2],I=b[4],N=b[5],aa=b[6],Y=b[8],y=b[9];b=b[10];return Math.abs(1-
(M*M+I*I+Y*Y))<=g&&Math.abs(1-(e*e+N*N+y*y))<=g&&Math.abs(1-(t*t+aa*aa+b*b))<=g}const sa=d.create();d=Object.freeze({__proto__:null,copy:T,set:m,identity:v,transpose:h,invert:J,adjoint:k,determinant:w,multiply:ba,translate:W,scale:C,rotate:B,rotateX:R,rotateY:f,rotateZ:r,fromTranslation:u,fromScaling:E,fromRotation:x,fromXRotation:A,fromYRotation:F,fromZRotation:S,fromRotationTranslation:ha,fromQuat2:ca,getTranslation:ja,getScaling:K,getRotation:L,fromRotationTranslationScale:P,fromRotationTranslationScaleOrigin:Q,
fromQuat:p,frustum:n,perspective:H,perspectiveFromFieldOfView:O,ortho:ea,lookAt:ia,targetTo:la,str:qa,frob:za,add:va,subtract:Ba,multiplyScalar:Na,multiplyScalarAndAdd:Ta,exactEquals:Ka,equals:Da,isOrthoNormal:Sa,mul:ba,sub:Ba});q.add=va;q.adjoint=k;q.copy=T;q.determinant=w;q.equals=Da;q.exactEquals=Ka;q.frob=za;q.fromQuat=p;q.fromQuat2=ca;q.fromRotation=x;q.fromRotationTranslation=ha;q.fromRotationTranslationScale=P;q.fromRotationTranslationScaleOrigin=Q;q.fromScaling=E;q.fromTranslation=u;q.fromXRotation=
A;q.fromYRotation=F;q.fromZRotation=S;q.frustum=n;q.getRotation=L;q.getScaling=K;q.getTranslation=ja;q.identity=v;q.invert=J;q.isOrthoNormal=Sa;q.lookAt=ia;q.mat4=d;q.mul=ba;q.multiply=ba;q.multiplyScalar=Na;q.multiplyScalarAndAdd=Ta;q.ortho=ea;q.perspective=H;q.perspectiveFromFieldOfView=O;q.rotate=B;q.rotateX=R;q.rotateY=f;q.rotateZ=r;q.scale=C;q.set=m;q.str=qa;q.sub=Ba;q.subtract=Ba;q.targetTo=la;q.translate=W;q.transpose=h})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers",
"../assets","../core/has"],function(q,d,Z,T,m){function v(){return!!d._pe}function h(){return!!m("esri-wasm")}function J(){return B?B:B=(new Promise(function(f,r){q(["./pe-wasm"],f,r)})).then(function(f){return f.peWasm}).then(({default:f})=>f({locateFile:r=>T.getAssetUrl(`esri/geometry/support/${r}`)})).then(f=>{k(f)})}function k(f){function r(x,A,F){x[A]=F(x[A])}d._pe=f;d.PeDefs.init();d.PeGTlistExtended.init();d.PeNotationMgrs.init();d.PeNotationUtm.init();d.PePCSInfo.init();d.PeGCSExtent=function(x){function A(){return x.apply(this,
arguments)||this}Z._inheritsLoose(A,x);A.prototype.destroy=function(){d._pe.destroy(this)};return A}(d._pe.PeGCSExtent);f=[d._pe.PeDatum,d._pe.PeGeogcs,d._pe.PeGeogtran,d._pe.PeObject,d._pe.PeParameter,d._pe.PePrimem,d._pe.PeProjcs,d._pe.PeSpheroid,d._pe.PeUnit];for(var u of f)r(u.prototype,"getName",x=>function(){return x.call(this,Array(d.PeDefs.PE_NAME_MAX))});for(const x of[d._pe.PeGeogtran,d._pe.PeProjcs])r(x.prototype,"getParameters",A=>function(){const F=Array(d.PeDefs.PE_PARM_MAX);let S=A.call(this);
for(let ha=0;ha<F.length;ha++){const ca=d._pe.getValue(S,"*");F[ha]=ca?d._pe.wrapPointer(ca,d._pe.PeParameter):null;S+=Int32Array.BYTES_PER_ELEMENT}return F});r(d._pe.PeHorizon.prototype,"getCoord",x=>function(){const A=this.getSize();if(!A)return null;const F=[],S=x.call(this);C(F,A,S);return F});r(d._pe.PeGTlistExtendedEntry.prototype,"getEntries",x=>{const A=d._pe._pe_getPeGTlistExtendedGTsSize();return function(){let F=null;var S=x.call(this);if(!d._pe.compare(S,d._pe.NULL)){F=[S];const ha=this.getSteps();
if(1<ha){S=d._pe.getPointer(S);for(let ca=1;ca<ha;ca++)F.push(d._pe.wrapPointer(S+A*ca,d._pe.PeGTlistExtendedGTs))}}return F}});const E=d._pe._pe_getPeHorizonSize();u=x=>function(){let A=this._cache;A||(this._cache=A=new Map);if(A.has(x))return A.get(x);let F=null;var S=x.call(this);if(!d._pe.compare(S,d._pe.NULL)){F=[S];const ha=S.getNump();if(1<ha){S=d._pe.getPointer(S);for(let ca=1;ca<ha;ca++)F.push(d._pe.wrapPointer(S+E*ca,d._pe.PeHorizon))}}A.set(x,F);return F};r(d._pe.PeProjcs.prototype,"horizonGcsGenerate",
u);r(d._pe.PeProjcs.prototype,"horizonPcsGenerate",u);d._pe.PeObject.prototype.toString=function(x=d.PeDefs.PE_STR_OPTS_NONE){d._pe.ensureCache.prepare();const A=d._pe.getPointer(this),F=d._pe.ensureInt8(Array(d.PeDefs.PE_BUFFER_MAX));return d._pe.UTF8ToString(d._pe._pe_object_to_string_ext(A,x,F))}}function w(f){if(f){var r=d._pe.getClass(f);r&&(r=d._pe.getCache(r))&&(f=d._pe.getPointer(f))&&delete r[f]}}function ba(f,r){const u=[];r=Array(r);for(let E=0;E<f;E++)u.push(d._pe.ensureInt8(r));return u}
function W(f){let r;Array.isArray(f[0])?(r=[],f.forEach(u=>{r.push(u[0],u[1])})):r=f;return r}function C(f,r,u,E=!1){if(E)for(E=0;E<2*r;E++)f[E]=d._pe.getValue(u+E*Float64Array.BYTES_PER_ELEMENT,"double");else{E=0===f.length;for(let x=0;x<r;x++)E&&(f[x]=Array(2)),f[x][0]=d._pe.getValue(u,"double"),f[x][1]=d._pe.getValue(u+Float64Array.BYTES_PER_ELEMENT,"double"),u+=2*Float64Array.BYTES_PER_ELEMENT}}let B;d._pe=null;d.PeCSTransformations=void 0;(function(f){function r(x,A,F){d._pe.ensureCache.prepare();
var S=W(F);const ha=F===S;S=d._pe.ensureFloat64(S);(x=d._pe._pe_geog_to_proj(d._pe.getPointer(x),A,S))&&C(F,A,S,ha);return x}function u(x,A,F){return E(x,A,F,0)}function E(x,A,F,S){d._pe.ensureCache.prepare();var ha=W(F);const ca=F===ha;ha=d._pe.ensureFloat64(ha);(x=d._pe._pe_proj_to_geog_center(d._pe.getPointer(x),A,ha,S))&&C(F,A,ha,ca);return x}f.geogToProj=r;f.projGeog=function(x,A,F,S){switch(S){case d.PeDefs.PE_TRANSFORM_P_TO_G:return u(x,A,F);case d.PeDefs.PE_TRANSFORM_G_TO_P:return r(x,A,F)}return 0};
f.projToGeog=u;f.projToGeogCenter=E})(d.PeCSTransformations||(d.PeCSTransformations={}));d.PeDefs=void 0;(function(f){f.init=function(){f.PE_BUFFER_MAX=d._pe.PeDefs.prototype.PE_BUFFER_MAX;f.PE_NAME_MAX=d._pe.PeDefs.prototype.PE_NAME_MAX;f.PE_MGRS_MAX=d._pe.PeDefs.prototype.PE_MGRS_MAX;f.PE_USNG_MAX=d._pe.PeDefs.prototype.PE_USNG_MAX;f.PE_DD_MAX=d._pe.PeDefs.prototype.PE_DD_MAX;f.PE_DDM_MAX=d._pe.PeDefs.prototype.PE_DDM_MAX;f.PE_DMS_MAX=d._pe.PeDefs.prototype.PE_DMS_MAX;f.PE_UTM_MAX=d._pe.PeDefs.prototype.PE_UTM_MAX;
f.PE_PARM_MAX=d._pe.PeDefs.prototype.PE_PARM_MAX;f.PE_TYPE_NONE=d._pe.PeDefs.prototype.PE_TYPE_NONE;f.PE_TYPE_GEOGCS=d._pe.PeDefs.prototype.PE_TYPE_GEOGCS;f.PE_TYPE_PROJCS=d._pe.PeDefs.prototype.PE_TYPE_PROJCS;f.PE_TYPE_GEOGTRAN=d._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;f.PE_TYPE_COORDSYS=d._pe.PeDefs.prototype.PE_TYPE_COORDSYS;f.PE_TYPE_UNIT=d._pe.PeDefs.prototype.PE_TYPE_UNIT;f.PE_TYPE_LINUNIT=d._pe.PeDefs.prototype.PE_TYPE_LINUNIT;f.PE_STR_OPTS_NONE=d._pe.PeDefs.prototype.PE_STR_OPTS_NONE;f.PE_STR_AUTH_NONE=
d._pe.PeDefs.prototype.PE_STR_AUTH_NONE;f.PE_STR_AUTH_TOP=d._pe.PeDefs.prototype.PE_STR_AUTH_TOP;f.PE_STR_NAME_CANON=d._pe.PeDefs.prototype.PE_STR_NAME_CANON;f.PE_PARM_X0=d._pe.PeDefs.prototype.PE_PARM_X0;f.PE_PARM_ND=d._pe.PeDefs.prototype.PE_PARM_ND;f.PE_TRANSFORM_1_TO_2=d._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;f.PE_TRANSFORM_2_TO_1=d._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;f.PE_TRANSFORM_P_TO_G=d._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;f.PE_TRANSFORM_G_TO_P=d._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;
f.PE_HORIZON_RECT=d._pe.PeDefs.prototype.PE_HORIZON_RECT;f.PE_HORIZON_POLY=d._pe.PeDefs.prototype.PE_HORIZON_POLY;f.PE_HORIZON_LINE=d._pe.PeDefs.prototype.PE_HORIZON_LINE;f.PE_HORIZON_DELTA=d._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(d.PeDefs||(d.PeDefs={}));d.PeFactory=void 0;(function(f){function r(A,F){let S=null,ha=u[A];ha||(ha={},u[A]=ha);ha.hasOwnProperty(String(F))?S=ha[F]:(A=d._pe.PeFactory.prototype.factoryByType(A,F),d._pe.compare(A,d._pe.NULL)||(S=A,ha[F]=S));return S=x(S)}const u={},E=
{},x=A=>{if(A){const F=A.getType();switch(F){case d.PeDefs.PE_TYPE_GEOGCS:A=d._pe.castObject(A,d._pe.PeGeogcs);break;case d.PeDefs.PE_TYPE_PROJCS:A=d._pe.castObject(A,d._pe.PeProjcs);break;case d.PeDefs.PE_TYPE_GEOGTRAN:A=d._pe.castObject(A,d._pe.PeGeogtran);break;default:F&d.PeDefs.PE_TYPE_UNIT&&(A=d._pe.castObject(A,d._pe.PeUnit))}}return A};f.initialize=function(){d._pe.PeFactory.prototype.initialize(null)};f.coordsys=function(A){return r(d.PeDefs.PE_TYPE_COORDSYS,A)};f.factoryByType=r;f.fromString=
function(A,F){let S=null,ha=E[A];ha||(ha={},E[A]=ha);ha.hasOwnProperty(F)?S=ha[F]:(A=d._pe.PeFactory.prototype.fromString(A,F),d._pe.compare(A,d._pe.NULL)||(S=A,ha[F]=S));return S=x(S)};f.geogcs=function(A){return r(d.PeDefs.PE_TYPE_GEOGCS,A)};f.geogtran=function(A){return r(d.PeDefs.PE_TYPE_GEOGTRAN,A)};f.getCode=function(A){return d._pe.PeFactory.prototype.getCode(A)};f.projcs=function(A){return r(d.PeDefs.PE_TYPE_PROJCS,A)};f.unit=function(A){return r(d.PeDefs.PE_TYPE_UNIT,A)}})(d.PeFactory||(d.PeFactory=
{}));d.PeGCSExtent=null;d.PeGTlistExtended=void 0;(function(f){let r;f.init=function(){f.PE_GTLIST_OPTS_COMMON=d._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;r=d._pe._pe_getPeGTlistExtendedEntrySize()};f.getGTlist=function(u,E,x,A,F,S){let ha=null;const ca=new d._pe.PeInteger(S);try{const ja=d._pe.PeGTlistExtended.prototype.getGTlist(u,E,x,A,F,ca);if(S=ca.val)if(ha=[ja],1<S){const K=d._pe.getPointer(ja);for(u=1;u<S;u++)ha.push(d._pe.wrapPointer(K+r*u,d._pe.PeGTlistExtendedEntry))}}finally{d._pe.destroy(ca)}return ha}})(d.PeGTlistExtended||
(d.PeGTlistExtended={}));d.PeGTlistExtendedEntry=void 0;(function(f){f.destroy=function(r){if(r&&r.length){for(const u of r)w(u),u.getEntries().forEach(E=>{w(E);E=E.getGeogtran();w(E);E.getParameters().forEach(w);[E.getGeogcs1(),E.getGeogcs2()].forEach(x=>{w(x);const A=x.getDatum();w(A);w(A.getSpheroid());w(x.getPrimem());w(x.getUnit())})});d._pe.PeGTlistExtendedEntry.prototype.Delete(r[0])}}})(d.PeGTlistExtendedEntry||(d.PeGTlistExtendedEntry={}));d.PeGTTransformations=void 0;(function(f){f.geogToGeog=
function(r,u,E,x,A){d._pe.ensureCache.prepare();var F=W(E);const S=E===F;F=d._pe.ensureFloat64(F);let ha=0;x&&(ha=d._pe.ensureFloat64(x));(r=d._pe._pe_geog_to_geog(d._pe.getPointer(r),u,F,ha,A))&&C(E,u,F,S);return r}})(d.PeGTTransformations||(d.PeGTTransformations={}));d.PeNotationDms=void 0;(function(f){const r=(E,x,A,F,S,ha)=>{d._pe.ensureCache.prepare();switch(E){case "dd":var ca=d._pe._pe_geog_to_dd;var ja=d.PeDefs.PE_DD_MAX;break;case "ddm":ca=d._pe._pe_geog_to_ddm;ja=d.PeDefs.PE_DDM_MAX;break;
case "dms":ca=d._pe._pe_geog_to_dms,ja=d.PeDefs.PE_DMS_MAX}E=0;x&&(E=d._pe.getPointer(x));x=W(F);x=d._pe.ensureFloat64(x);ja=ba(A,ja);F=d._pe.ensureInt32(ja);if(S=ca(E,A,x,S,F))for(ca=0;ca<A;ca++)ha[ca]=d._pe.UTF8ToString(ja[ca]);return S},u=(E,x,A,F,S)=>{d._pe.ensureCache.prepare();switch(E){case "dd":var ha=d._pe._pe_dd_to_geog;break;case "ddm":ha=d._pe._pe_ddm_to_geog;break;case "dms":ha=d._pe._pe_dms_to_geog}E=0;x&&(E=d._pe.getPointer(x));x=F.map(ca=>d._pe.ensureString(ca));F=d._pe.ensureInt32(x);
x=d._pe.ensureFloat64(Array(2*A));(ha=ha(E,A,F,x))&&C(S,A,x);return ha};f.geog_to_dms=function(E,x,A,F,S){return r("dms",E,x,A,F,S)};f.dms_to_geog=function(E,x,A,F){return u("dms",E,x,A,F)};f.geog_to_ddm=function(E,x,A,F,S){return r("ddm",E,x,A,F,S)};f.ddm_to_geog=function(E,x,A,F){return u("ddm",E,x,A,F)};f.geog_to_dd=function(E,x,A,F,S){return r("dd",E,x,A,F,S)};f.dd_to_geog=function(E,x,A,F){return u("dd",E,x,A,F)}})(d.PeNotationDms||(d.PeNotationDms={}));d.PeNotationMgrs=void 0;(function(f){f.init=
function(){f.PE_MGRS_STYLE_NEW=d._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;f.PE_MGRS_STYLE_OLD=d._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;f.PE_MGRS_STYLE_AUTO=d._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;f.PE_MGRS_180_ZONE_1_PLUS=d._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;f.PE_MGRS_ADD_SPACES=d._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};f.geog_to_mgrs_extended=function(r,u,E,x,A,F,S){d._pe.ensureCache.prepare();let ha=0;r&&(ha=d._pe.getPointer(r));r=W(E);E=d._pe.ensureFloat64(r);
r=ba(u,d.PeDefs.PE_MGRS_MAX);const ca=d._pe.ensureInt32(r);if(x=d._pe._pe_geog_to_mgrs_extended(ha,u,E,x,A,F,ca))for(A=0;A<u;A++)S[A]=d._pe.UTF8ToString(r[A]);return x};f.mgrs_to_geog_extended=function(r,u,E,x,A){d._pe.ensureCache.prepare();let F=0;r&&(F=d._pe.getPointer(r));r=E.map(S=>d._pe.ensureString(S));E=d._pe.ensureInt32(r);r=d._pe.ensureFloat64(Array(2*u));(x=d._pe._pe_mgrs_to_geog_extended(F,u,E,x,r))&&C(A,u,r);return x}})(d.PeNotationMgrs||(d.PeNotationMgrs={}));d.PeNotationUsng=void 0;
(function(f){f.geog_to_usng=function(r,u,E,x,A,F,S){d._pe.ensureCache.prepare();let ha=0;r&&(ha=d._pe.getPointer(r));r=W(E);E=d._pe.ensureFloat64(r);r=ba(u,d.PeDefs.PE_MGRS_MAX);const ca=d._pe.ensureInt32(r);if(x=d._pe._pe_geog_to_usng(ha,u,E,x,A,F,ca))for(A=0;A<u;A++)S[A]=d._pe.UTF8ToString(r[A]);return x};f.usng_to_geog=function(r,u,E,x){d._pe.ensureCache.prepare();var A=0;r&&(A=d._pe.getPointer(r));r=E.map(F=>d._pe.ensureString(F));E=d._pe.ensureInt32(r);r=d._pe.ensureFloat64(Array(2*u));(A=d._pe._pe_usng_to_geog(A,
u,E,r))&&C(x,u,r);return A}})(d.PeNotationUsng||(d.PeNotationUsng={}));d.PeNotationUtm=void 0;(function(f){f.init=function(){f.PE_UTM_OPTS_NONE=d._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;f.PE_UTM_OPTS_ADD_SPACES=d._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;f.PE_UTM_OPTS_NS=d._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};f.geog_to_utm=function(r,u,E,x,A){d._pe.ensureCache.prepare();var F=0;r&&(F=d._pe.getPointer(r));r=W(E);E=d._pe.ensureFloat64(r);r=ba(u,d.PeDefs.PE_UTM_MAX);const S=d._pe.ensureInt32(r);
if(x=d._pe._pe_geog_to_utm(F,u,E,x,S))for(F=0;F<u;F++)A[F]=d._pe.UTF8ToString(r[F]);return x};f.utm_to_geog=function(r,u,E,x,A){d._pe.ensureCache.prepare();let F=0;r&&(F=d._pe.getPointer(r));r=E.map(S=>d._pe.ensureString(S));E=d._pe.ensureInt32(r);r=d._pe.ensureFloat64(Array(2*u));(x=d._pe._pe_utm_to_geog(F,u,E,x,r))&&C(A,u,r);return x}})(d.PeNotationUtm||(d.PeNotationUtm={}));d.PePCSInfo=void 0;(function(f){const r=new Map;f.init=function(){f.PE_PCSINFO_OPTION_NONE=d._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;
f.PE_PCSINFO_OPTION_DOMAIN=d._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;f.PE_POLE_OUTSIDE_BOUNDARY=d._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;f.PE_POLE_POINT=d._pe.PePCSInfo.prototype.PE_POLE_POINT};f.generate=function(u,E=f.PE_PCSINFO_OPTION_DOMAIN){let x,A;r.has(u)&&(A=r.get(u),A[E]&&(x=A[E]));x||(x=d._pe.PePCSInfo.prototype.generate(u,E),A||(A=[],r.set(u,A)),A[E]=x);return x}})(d.PePCSInfo||(d.PePCSInfo={}));d.PeVersion=void 0;(function(f){f.version_string=function(){return d._pe.PeVersion.prototype.version_string()}})(d.PeVersion||
(d.PeVersion={}));var R=Object.freeze({__proto__:null,get _pe(){return d._pe},isLoaded:v,isSupported:h,load:J,get PeCSTransformations(){return d.PeCSTransformations},get PeDefs(){return d.PeDefs},get PeFactory(){return d.PeFactory},get PeGCSExtent(){return d.PeGCSExtent},get PeGTlistExtended(){return d.PeGTlistExtended},get PeGTlistExtendedEntry(){return d.PeGTlistExtendedEntry},get PeGTTransformations(){return d.PeGTTransformations},get PeNotationDms(){return d.PeNotationDms},get PeNotationMgrs(){return d.PeNotationMgrs},
get PeNotationUsng(){return d.PeNotationUsng},get PeNotationUtm(){return d.PeNotationUtm},get PePCSInfo(){return d.PePCSInfo},get PeVersion(){return d.PeVersion},_init:k});d._init=k;d.isLoaded=v;d.isSupported=h;d.load=J;d.pe=R})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(q,d){const Z=Math.PI/180;var T=d.earth.radius;const m=d.earth.eccentricitySquared;T={a1:T*m,a2:T*m*T*m,a3:T*m*m/2,a4:T*m*T*m*2.5,a5:T*m+T*m*m/2,a6:1-m};d={4267:{a:6378206.4,f:1/
294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:d.earth.radius,f:d.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:d.moon.radius,f:d.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:d.mars.radius,f:d.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,
f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,
f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},
104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:d.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};q.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;q.earthEllipsoidConstants=T;q.spheroids=d;q.toRadians=Z;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],
function(q){return function(){function d(T){this.steps=[];this._cached_projection={};this._chain="";this._gtlistentry=null;if(T&&T.steps)for(const m of T.steps)m instanceof q?this.steps.push(m):this.steps.push(new q({wkid:m.wkid,wkt:m.wkt,isInverse:m.isInverse}))}d.cacheKey=function(T,m){return[void 0!==T.wkid&&null!==T.wkid?T.wkid.toString():"-1",void 0!==T.wkt&&null!==T.wkt?T.wkt.toString():"",void 0!==m.wkid&&null!==m.wkid?m.wkid.toString():"-1",void 0!==m.wkt&&null!==m.wkt?m.wkt.toString():""].join()};
d.fromGE=function(T){const m=new d;let v="";for(const h of T.steps)T=q.fromGE(h),m.steps.push(T),v+=T.uid.toString()+",";m._cached_projection={};m._gtlistentry=null;m._chain=v;return m};var Z=d.prototype;Z.getInverse=function(){const T=new d;T.steps=[];for(let m=this.steps.length-1;0<=m;m--)T.steps.push(this.steps[m].getInverse());return T};Z.getGTListEntry=function(){let T="";for(const m of this.steps)T+=m.uid.toString()+",";T!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=
T);return this._gtlistentry};Z.assignCachedGe=function(T,m,v){this._cached_projection[d.cacheKey(T,m)]=v};Z.getCachedGeTransformation=function(T,m){let v="";for(const h of this.steps)v+=h.uid.toString()+",";v!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=v);T=this._cached_projection[d.cacheKey(T,m)];return void 0===T?null:T};return d}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(q){let d=
0;return function(){function Z(T=null){this.uid=d++;T?(this._wkt=void 0!==T.wkt?T.wkt:null,this._wkid=void 0!==T.wkid?T.wkid:-1,this._isInverse=void 0!==T.isInverse?!0===T.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}Z.fromGE=function(T){const m=new Z;m._wkt=T.wkt;m._wkid=T.wkid;m._isInverse=T.isInverse;return m};Z.prototype.getInverse=function(){const T=new Z;T._wkt=this.wkt;T._wkid=this._wkid;T._isInverse=!this.isInverse;return T};q._createClass(Z,[{key:"wkt",get:function(){return this._wkt},
set:function(T){this._wkt=T;this.uid=d++}},{key:"wkid",get:function(){return this._wkid},set:function(T){this._wkid=T;this.uid=d++}},{key:"isInverse",get:function(){return this._isInverse},set:function(T){this._isInverse=T;this.uid=d++}}]);return Z}()})},"esri/geometry/geometryAdapters/json":function(){define(["exports"],function(q){let d=function(h,J,k){this.x=h;this.y=J;this.spatialReference=k;this.m=this.z=void 0},Z=function(h,J,k,w){this.rings=h;this.spatialReference=J;this.hasM=this.hasZ=void 0;
k&&(this.hasZ=k);w&&(this.hasM=w)},T=function(h,J,k,w){this.paths=h;this.spatialReference=J;this.hasM=this.hasZ=void 0;k&&(this.hasZ=k);w&&(this.hasM=w)},m=function(h,J,k,w){this.points=h;this.spatialReference=J;this.hasM=this.hasZ=void 0;k&&(this.hasZ=k);w&&(this.hasM=w)},v=function(h,J,k,w,ba){this.xmin=h;this.ymin=J;this.xmax=k;this.ymax=w;this.spatialReference=ba;this.mmax=this.mmin=this.zmax=this.zmin=void 0};q.jsonAdapter={convertToGEGeometry:function(h,J){return null==J?null:h.convertJSONToGeometry(J)},
exportPoint:function(h,J,k){k=new d(h.getPointX(J),h.getPointY(J),k);const w=h.hasZ(J),ba=h.hasM(J);w&&(k.z=h.getPointZ(J));ba&&(k.m=h.getPointM(J));return k},exportPolygon:function(h,J,k){return new Z(h.exportPaths(J),k,h.hasZ(J),h.hasM(J))},exportPolyline:function(h,J,k){return new T(h.exportPaths(J),k,h.hasZ(J),h.hasM(J))},exportMultipoint:function(h,J,k){return new m(h.exportPoints(J),k,h.hasZ(J),h.hasM(J))},exportExtent:function(h,J,k){var w=h.hasZ(J);const ba=h.hasM(J);k=new v(h.getXMin(J),
h.getYMin(J),h.getXMax(J),h.getYMax(J),k);w&&(w=h.getZExtent(J),k.zmin=w.vmin,k.zmax=w.vmax);ba&&(h=h.getMExtent(J),k.mmin=h.vmin,k.mmax=h.vmax);return k}};Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/graphics/data/QueryEngine":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/Error ../../../core/lang ../../../core/maybe ../../../core/MemCache ../../../core/unitUtils ../../../geometry/support/aaBoundingBox ../../../geometry/support/aaBoundingRect ../../../geometry/support/boundsUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../../geometry/support/spatialReferenceUtils ./attributeSupport ./projectionSupport ./QueryEngineCapabilities ./QueryEngineResult ./spatialQuerySupport ./timeSupport ./utils ../../support/FieldsIndex ../../support/PromiseQueue ../../../support/arcadeOnDemand".split(" "),
function(q,d,Z,T,m,v,h,J,k,w,ba,W,C,B,R,f,r,u,E,x,A,F,S){function ha(p){return p.every(n=>"exceedslimit"!==n.statisticType)}const ca=new Set,ja=new v.MemCacheStorage(2E6);let K=0,L=function(){function p(H){this.capabilities={query:f.queryCapabilities};this.geometryType=H.geometryType;this.hasM=H.hasM;this.hasZ=H.hasZ;this.objectIdField=H.objectIdField;this.spatialReference=H.spatialReference;this.definitionExpression=H.definitionExpression;this.featureStore=H.featureStore;this.aggregateAdapter=H.aggregateAdapter;
this._changeHandle=this.featureStore.events.on("changed",()=>this.clearCache());this.timeInfo=H.timeInfo;H.cacheSpatialQueries&&(this._geometryQueryCache=new v.MemCache(K++ +"$$",ja));this.fieldsIndex=new A(H.fields);H.scheduler&&H.priority&&(this._frameQueue=new F,this._frameTask=H.scheduler.registerTask(H.priority,this))}var n=p.prototype;n.destroy=function(){this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._frameQueue.cancelAll(),this._frameQueue=null);this.clearCache();this._geometryQueryCache&&
this._geometryQueryCache.destroy();this._changeHandle&&(this._changeHandle.remove(),this._changeHandle=null);this.fieldsIndex.destroy()};n.clearCache=function(){this._geometryQueryCache&&this._geometryQueryCache.clear();this._timeExtent=this._allItems=null};n.executeQuery=function(){var H=d._asyncToGenerator(function*(O={},ea){let ia=T.clone(O),la;try{ia=yield this._schedule(()=>x.normalizeQuery(ia,this.definitionExpression,this.spatialReference),ea),ia=yield this._reschedule(()=>this._checkQuerySupport(ia),
ea),la=yield this._reschedule(()=>this._executeGeometryQuery(ia,ea),ea),la=yield this._reschedule(()=>la.executeAggregateIdsQuery(ia),ea),la=yield this._reschedule(()=>la.executeObjectIdsQuery(ia),ea),la=yield this._reschedule(()=>la.executeTimeQuery(ia),ea),la=yield this._reschedule(()=>la.executeAttributesQuery(ia),ea)}catch(qa){if(qa!==x.QUERY_ENGINE_EMPTY_RESULT)throw qa;la=new r([],null,this)}return la.createQueryResponse(ia)});return function(){return H.apply(this,arguments)}}();n.executeQueryForCount=
function(){var H=d._asyncToGenerator(function*(O={},ea){let ia=T.clone(O),la;ia.returnGeometry=!1;ia.returnCentroid=!1;ia.outSR=null;try{ia=yield this._schedule(()=>x.normalizeQuery(ia,this.definitionExpression,this.spatialReference),ea),ia=yield this._reschedule(()=>this._checkQuerySupport(ia),ea),la=yield this._reschedule(()=>this._executeGeometryQuery(ia,ea),ea),la=yield this._reschedule(()=>la.executeAggregateIdsQuery(ia),ea),la=yield this._reschedule(()=>la.executeObjectIdsQuery(ia),ea),la=yield this._reschedule(()=>
la.executeTimeQuery(ia),ea),la=yield this._reschedule(()=>la.executeAttributesQuery(ia),ea)}catch(qa){if(qa!==x.QUERY_ENGINE_EMPTY_RESULT)throw qa;return 0}return la.createQueryResponseForCount(ia)});return function(){return H.apply(this,arguments)}}();n.executeQueryForExtent=function(){var H=d._asyncToGenerator(function*(O={},ea){let ia=T.clone(O),la;O=ia.outSR;try{ia=yield this._schedule(()=>x.normalizeQuery(ia,this.definitionExpression,this.spatialReference),ea);ia=yield this._reschedule(()=>this._checkQuerySupport(ia),
ea);ia.returnGeometry=!0;ia.returnCentroid=!1;ia.outSR=null;la=yield this._reschedule(()=>this._executeGeometryQuery(ia,ea),ea);la=yield this._reschedule(()=>la.executeAggregateIdsQuery(ia),ea);la=yield this._reschedule(()=>la.executeObjectIdsQuery(ia),ea);la=yield this._reschedule(()=>la.executeTimeQuery(ia),ea);la=yield this._reschedule(()=>la.executeAttributesQuery(ia),ea);const qa=la.size;if(!qa)return{count:qa,extent:null};J.set(Q,J.NEGATIVE_INFINITY);this.featureStore.forEachBounds(la.items,
Ba=>J.expandWithAABB(Q,Ba),P);const za={xmin:Q[0],ymin:Q[1],xmax:Q[3],ymax:Q[4],spatialReference:x.cleanFromGeometryEngine(this.spatialReference)};this.hasZ&&isFinite(Q[2])&&isFinite(Q[5])&&(za.zmin=Q[2],za.zmax=Q[5]);const va=R.project(za,la.spatialReference,O);va.spatialReference=x.cleanFromGeometryEngine(O||this.spatialReference);if(0===va.xmax-va.xmin){const Ba=h.getMetersPerUnitForSR(va.spatialReference);va.xmin-=Ba;va.xmax+=Ba}if(0===va.ymax-va.ymin){const Ba=h.getMetersPerUnitForSR(va.spatialReference);
va.ymin-=Ba;va.ymax+=Ba}if(this.hasZ&&null!=va.zmin&&null!=va.zmax&&0===va.zmax-va.zmin){const Ba=h.getMetersPerUnitForSR(va.spatialReference);va.zmin-=Ba;va.zmax+=Ba}return{count:qa,extent:va}}catch(qa){if(qa===x.QUERY_ENGINE_EMPTY_RESULT)return{count:0,extent:null};throw qa;}});return function(){return H.apply(this,arguments)}}();n.executeQueryForIds=function(){var H=d._asyncToGenerator(function*(O={},ea){return this.executeQueryForIdSet(O,ea).then(ia=>Array.from(ia))});return function(){return H.apply(this,
arguments)}}();n.executeQueryForIdSet=function(){var H=d._asyncToGenerator(function*(O={},ea){let ia=T.clone(O),la;ia.returnGeometry=!1;ia.returnCentroid=!1;ia.outSR=null;try{ia=yield this._schedule(()=>x.normalizeQuery(ia,this.definitionExpression,this.spatialReference),ea);ia=yield this._reschedule(()=>this._checkQuerySupport(ia),ea);la=yield this._reschedule(()=>this._executeGeometryQuery(ia,ea),ea);la=yield this._reschedule(()=>la.executeAggregateIdsQuery(ia),ea);la=yield this._reschedule(()=>
la.executeObjectIdsQuery(ia),ea);la=yield this._reschedule(()=>la.executeTimeQuery(ia),ea);la=yield this._reschedule(()=>la.executeAttributesQuery(ia),ea);const qa=la.items,za=new Set;yield this._reschedule(()=>{for(const va of qa)za.add(la.featureAdapter.getObjectId(va))},ea);return za}catch(qa){if(qa===x.QUERY_ENGINE_EMPTY_RESULT)return new Set;throw qa;}});return function(){return H.apply(this,arguments)}}();n.executeQueryForSnapping=function(){var H=d._asyncToGenerator(function*(O,ea){const {point:ia,
distance:la,types:qa}=O;if(0===qa)return{candidates:[]};const za=yield this._reschedule(()=>this._checkQuerySupport(O.query),ea),va=!C.equals(ia.spatialReference,this.spatialReference);va&&(yield R.checkProjectionSupport(ia.spatialReference,this.spatialReference));var Ba="number"===typeof la?la:la.x,Na="number"===typeof la?la:la.y;Ba={xmin:ia.x-Ba,xmax:ia.x+Ba,ymin:ia.y-Na,ymax:ia.y+Na,spatialReference:ia.spatialReference};Ba=va?R.project(Ba,this.spatialReference):Ba;if(!Ba)return{candidates:[]};
Na=(yield W.normalizeCentralMeridian(ba.fromJSON(ia),null,{signal:ea}))[0];const Ta=(yield W.normalizeCentralMeridian(ba.fromJSON(Ba),null,{signal:ea}))[0];if(m.isNone(Na)||m.isNone(Ta))return{candidates:[]};let Ka=new r(this._searchFeatures(this._getQueryBBoxes(Ta.toJSON())),null,this);Ka=yield this._reschedule(()=>Ka.executeObjectIdsQuery(za),ea);Ka=yield this._reschedule(()=>Ka.executeTimeQuery(za),ea);Ka=yield this._reschedule(()=>Ka.executeAttributesQuery(za),ea);ea=Na.toJSON();ea=va?R.project(ea,
this.spatialReference):ea;return Ka.createSnappingResponse({...O,point:ea,distance:va?Math.max(Ba.xmax-Ba.xmin,Ba.ymax-Ba.ymin)/2:la},ia.spatialReference)});return function(O,ea){return H.apply(this,arguments)}}();n.executeQueryForLatestObservations=function(){var H=d._asyncToGenerator(function*(O={},ea){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new Z("feature-store:unsupported-query","Missing timeInfo or timeInfo.trackIdField",{query:O,timeInfo:this.timeInfo});let ia=T.clone(O),la;try{ia=
yield this._schedule(()=>x.normalizeQuery(ia,this.definitionExpression,this.spatialReference),ea),ia=yield this._reschedule(()=>this._checkQuerySupport(ia),ea),la=yield this._reschedule(()=>this._executeGeometryQuery(ia,ea),ea),la=yield this._reschedule(()=>la.executeAggregateIdsQuery(ia),ea),la=yield this._reschedule(()=>la.executeObjectIdsQuery(ia),ea),la=yield this._reschedule(()=>la.executeTimeQuery(ia),ea),la=yield this._reschedule(()=>la.executeAttributesQuery(ia),ea),la=yield this._reschedule(()=>
la.filterLatest(),ea)}catch(qa){if(qa!==x.QUERY_ENGINE_EMPTY_RESULT)throw qa;la=new r([],null,this)}return la.createQueryResponse(ia)});return function(){return H.apply(this,arguments)}}();n.executeQueryForSummaryStatistics=function(){var H=d._asyncToGenerator(function*(O={},ea,ia){O=T.clone(O);let la;try{O=yield this._schedule(()=>x.normalizeQuery(O,this.definitionExpression,this.spatialReference),ia),O=yield this._reschedule(()=>this._checkSummaryStatisticsSupport(O,ea),ia),la=yield this._reschedule(()=>
this._executeGeometryQuery(O,ia),ia),la=yield this._reschedule(()=>la.executeAggregateIdsQuery(O),ia),la=yield this._reschedule(()=>la.executeObjectIdsQuery(O),ia),la=yield this._reschedule(()=>la.executeTimeQuery(O),ia),la=yield this._reschedule(()=>la.executeAttributesQuery(O),ia)}catch(qa){if(qa!==x.QUERY_ENGINE_EMPTY_RESULT)throw qa;la=new r([],null,this)}return la.createSummaryStatisticsResponse(O,ea)});return function(){return H.apply(this,arguments)}}();n._schedule=function(){var H=d._asyncToGenerator(function*(O,
ea){return this._frameQueue?this._frameQueue.push(O,ea):O()});return function(O,ea){return H.apply(this,arguments)}}();n._reschedule=function(){var H=d._asyncToGenerator(function*(O,ea){return this._frameQueue?this._frameQueue.unshift(O,ea):O()});return function(O,ea){return H.apply(this,arguments)}}();n.runTask=function(H){for(this._budget=H;!H.done&&this._frameQueue&&this._frameQueue.process();)H.madeProgress();this._budget=null};n._getAll=function(){if(!this._allItems){const H=[];this.featureStore.forEach(O=>
H.push(O));this._allItems=new r(H,null,this)}return this._allItems};n._executeGeometryQuery=function(){var H=d._asyncToGenerator(function*(O,ea){var ia=this;const {geometry:la,outSR:qa,spatialRel:za,returnGeometry:va,returnCentroid:Ba}=O,Na=va||Ba,Ta=C.isValid(qa)&&!C.equals(this.spatialReference,qa),Ka=this._geometryQueryCache?Ta&&Na?JSON.stringify({geometry:la,spatialRelationship:za,outSpatialReference:qa}):JSON.stringify({geometry:la,spatialRelationship:za}):null;if(Ka){var Da=this._geometryQueryCache.get(Ka);
if(!m.isUndefined(Da))return Da}Da=function(){var g=d._asyncToGenerator(function*(M){if(Ta&&Na)return M=yield M.project(qa),Ka&&ia._geometryQueryCache.put(Ka,M,M.size||1),M;Ka&&ia._geometryQueryCache.put(Ka,M,M.size||1);return M});return function(M){return g.apply(this,arguments)}}();if(!la)return Da(this._getAll());const Sa=this.featureAdapter;if("esriSpatialRelDisjoint"===za){O=this._searchFeatures(this._getQueryBBoxes(la));if(!O.length)return Da(this._getAll());let g,M;const e=new Set;for(var sa of O)e.add(Sa.getObjectId(sa));
yield this._reschedule(()=>{let t=0;g=Array(e.size);this.featureStore.forEach(I=>g[t++]=I);M=e},ea);O=yield this._reschedule(d._asyncToGenerator(function*(){const t=yield u.getSpatialQueryOperator(za,la,ia.geometryType,ia.hasZ,ia.hasM);return new r(yield ia._runSpatialFilter(g,I=>!M.has(Sa.getObjectId(I))||t(Sa.getGeometry(I)),ea),la,ia)}),ea);return Da(O)}sa=this._searchFeatures(this._getQueryBBoxes(la));if(!sa.length)return Da=new r([],la,this),Ka&&this._geometryQueryCache.put(Ka,Da,Da.size||1),
Da;if(this._canExecuteSoloPass(la,O))return Da(new r(sa,la,this));const b=yield u.getSpatialQueryOperator(za,la,this.geometryType,this.hasZ,this.hasM);O=yield this._runSpatialFilter(sa,g=>b(Sa.getGeometry(g)),ea);return Da(new r(O,la,this))});return function(O,ea){return H.apply(this,arguments)}}();n._runSpatialFilter=function(){var H=d._asyncToGenerator(function*(O,ea,ia){var la=this;if(!ea)return O;if(!this._budget)return O.filter(Ba=>ea(Ba));let qa=0;const za=[],va=function(){var Ba=d._asyncToGenerator(function*(){for(;qa<
O.length;){const Na=O[qa];ea(Na)&&za.push(Na);la._budget.done&&(yield la._reschedule(()=>va(),ia));++qa}});return function(){return Ba.apply(this,arguments)}}();return this._reschedule(()=>va(),ia).then(()=>za)});return function(O,ea,ia){return H.apply(this,arguments)}}();n._canExecuteSoloPass=function(H,O){const {geometryType:ea}=this;({spatialRel:O}=O);return u.canQueryWithRBush(H)&&("esriSpatialRelEnvelopeIntersects"===O||"esriGeometryPoint"===ea&&("esriSpatialRelIntersects"===O||"esriSpatialRelContains"===
O||"esriSpatialRelWithin"===O))};n._getQueryBBoxes=function(H){if(u.canQueryWithRBush(H)){if(ba.isExtent(H))return[k.fromValues(H.xmin,H.ymin,H.xmax,H.ymax)];if(ba.isPolygon(H))return H.rings.map(O=>k.fromValues(Math.min(O[0][0],O[2][0]),Math.min(O[0][1],O[2][1]),Math.max(O[0][0],O[2][0]),Math.max(O[0][1],O[2][1])))}return[w.getBoundsXY(k.create(),H)]};n._searchFeatures=function(H){for(const ia of H)this.featureStore.forEachInBounds(ia,la=>{ca.add(la)});const O=Array(ca.size);let ea=0;ca.forEach(ia=>
O[ea++]=ia);ca.clear();return O};n._checkSummaryStatisticsSupport=function(){var H=d._asyncToGenerator(function*(O,ea){if(0>O.distance||null!=O.geometryPrecision||O.multipatchOption||O.pixelSize||O.relationParam||O.text||O.outStatistics||O.groupByFieldsForStatistics||O.having||O.orderByFields)throw new Z("feature-store:unsupported-query","Unsupported query options",{query:O});return Promise.all([this._checkAttributesQuerySupport(O),this._checkSummaryStatisticsParamsSupport(ea),u.checkSpatialQuerySupport(O,
this.geometryType,this.spatialReference),R.checkProjectionSupport(this.spatialReference,O.outSR)]).then(()=>O)});return function(O,ea){return H.apply(this,arguments)}}();n._checkSummaryStatisticsParamsSupport=function(){var H=d._asyncToGenerator(function*(O){var ea=[];O.valueExpression&&({arcadeUtils:ea}=yield S.loadArcade(),ea=ea.extractFieldNames(O.valueExpression));O.field&&ea.push(O.field);O.normalizationField&&ea.push(O.normalizationField);if(!ea.length)throw new Z("feature-store:unsupported-query",
"params should have at least a field or valueExpression",{params:O});B.validateFields(this.fieldsIndex,ea,"params contains missing fields")});return function(O){return H.apply(this,arguments)}}();n._checkQuerySupport=function(){var H=d._asyncToGenerator(function*(O){if(0>O.distance||null!=O.geometryPrecision||O.multipatchOption||O.pixelSize||O.relationParam||O.text)throw new Z("feature-store:unsupported-query","Unsupported query options",{query:O});return Promise.all([this._checkAttributesQuerySupport(O),
this._checkStatisticsQuerySupport(O),u.checkSpatialQuerySupport(O,this.geometryType,this.spatialReference),R.checkProjectionSupport(this.spatialReference,O.outSR)]).then(()=>O)});return function(O){return H.apply(this,arguments)}}();n._checkAttributesQuerySupport=function(H){const {outFields:O,orderByFields:ea,returnDistinctValues:ia,outStatistics:la}=H,qa=la?la.map(za=>za.outStatisticFieldName&&za.outStatisticFieldName.toLowerCase()):[];if(ea&&0<ea.length){const za=ea.map(va=>{const Ba=va.toLowerCase();
return-1<Ba.indexOf(" asc")?Ba.split(" asc")[0]:-1<Ba.indexOf(" desc")?Ba.split(" desc")[0]:va}).filter(va=>-1===qa.indexOf(va));B.validateFields(this.fieldsIndex,za,"orderByFields contains missing fields")}if(O&&0<O.length)B.validateFields(this.fieldsIndex,O,"outFields contains missing fields");else if(ia)throw new Z("feature-store:unsupported-query","outFields should be specified for returnDistinctValues",{query:H});B.validateWhere(this.fieldsIndex,H.where)};n._checkStatisticsQuerySupport=function(){var H=
d._asyncToGenerator(function*(O){const {outStatistics:ea,groupByFieldsForStatistics:ia,having:la}=O;var qa=ia&&ia.length,za=ea&&ea.length;if(la){if(!qa||!za)throw new Z("feature-store:unsupported-query","outStatistics and groupByFieldsForStatistics should be specified with having",{query:O});B.validateHaving(this.fieldsIndex,la,ea)}if(za&&ha(ea)){za=ea.map(va=>va.onStatisticField);B.validateFields(this.fieldsIndex,za,"onStatisticFields contains missing fields");qa&&B.validateFields(this.fieldsIndex,
ia,"groupByFieldsForStatistics contains missing fields");for(const va of ea){const {onStatisticField:Ba,statisticType:Na}=va;if(("percentile_disc"===Na||"percentile_cont"===Na)&&"statisticParameters"in va){if({statisticParameters:qa}=va,!qa)throw new Z("feature-store:unsupported-query","statisticParamters should be set for percentile type",{definition:va,query:O});}else if("count"!==Na&&Ba&&B.hasInvalidFieldType(Ba,this.fieldsIndex))throw new Z("feature-store:unsupported-query","outStatistics contains non-numeric fields",
{definition:va,query:O});}}});return function(O){return H.apply(this,arguments)}}();d._createClass(p,[{key:"featureAdapter",get:function(){return this.featureStore.featureAdapter}},{key:"fullExtent",get:function(){const H=this.featureStore.fullBounds;return H?{xmin:H[0],ymin:H[1],xmax:H[2],ymax:H[3],spatialReference:x.cleanFromGeometryEngine(this.spatialReference)}:null}},{key:"timeExtent",get:function(){return this.timeInfo?this._timeExtent?this._timeExtent:this._timeExtent=E.getTimeExtent(this.timeInfo,
this.featureStore):null}},{key:"running",get:function(){return 0<this._frameQueue.length}}]);return p}();const P=J.create(),Q=J.create();q.Feature=function(p,n=null,H,O,ea){this.attributes=p;this.geometry=H;this.centroid=O;this.filterFlags=ea;this.groupId=-1;this.displayId=n};q["default"]=L;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/core/MemCache":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./PooledArray"],function(q,d,Z){let T=function(){function v(J,k,w){this._namespace=
J;this._storage=k;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);this._namespace+=":";w&&(this._storage.registerRemoveFunc(this._namespace,w),this._removeFunc=!0)}var h=v.prototype;h.destroy=function(){this._storage.clear(this._namespace);this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace);this._storage.deregister(this);this._storage=null};h.resetHitRate=function(){this._hit=this._miss=0};h.put=function(J,k,w,ba=0){this._storage.put(this._namespace+J,k,w,
ba)};h.get=function(J){J=this._storage.get(this._namespace+J);void 0===J?++this._miss:++this._hit;return J};h.pop=function(J){J=this._storage.pop(this._namespace+J);void 0===J?++this._miss:++this._hit;return J};h.updateSize=function(J,k,w){this._storage.updateSize(this._namespace+J,k,w)};h.clear=function(){this._storage.clear(this._namespace)};h.clearAll=function(){this._storage.clearAll()};h.getStats=function(){return this._storage.getStats()};h.resetStats=function(){this._storage.resetStats()};
d._createClass(v,[{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}}]);return v}(),m=function(){function v(J=10485760){this._maxSize=J;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new Z;this._users=new Z}var h=v.prototype;h.destroy=function(){this.clearAll();this._removeFuncs.clear();
this._users.clear();this._db=null};h.register=function(J){this._users.push(J)};h.deregister=function(J){this._users.removeUnordered(J)};h.registerRemoveFunc=function(J,k){this._removeFuncs.push([J,k])};h.deregisterRemoveFunc=function(J){this._removeFuncs.filterInPlace(k=>k[0]!==J)};h.put=function(J,k,w,ba){const W=this._db.get(J);W&&(this._size-=W.size,this._db.delete(J),W.entry!==k&&this._notifyRemoved(J,W.entry));w>this._maxSize?this._notifyRemoved(J,k):void 0===k?console.warn("Refusing to cache undefined entry "):
!w||0>w?console.warn("Refusing to cache entry with invalid size "+w):(ba=1+Math.max(ba,-3)- -3,this._db.set(J,{entry:k,size:w,lifetime:ba,lives:ba}),this._size+=w,this._checkSizeLimit())};h.updateSize=function(J,k,w){const ba=this._db.get(J);ba&&ba.entry===k&&(this._size-=ba.size,w>this._maxSize?(this._db.delete(J),this._notifyRemoved(J,k)):(ba.size=w,this._size+=w,this._checkSizeLimit()))};h.pop=function(J){const k=this._db.get(J);if(k)return this._size-=k.size,this._db.delete(J),++this._hit,k.entry;
++this._miss};h.get=function(J){const k=this._db.get(J);if(void 0===k)++this._miss;else return this._db.delete(J),k.lives=k.lifetime,this._db.set(J,k),++this._hit,k.entry};h.getStats=function(){const J={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},k={},w=[];this._db.forEach((C,B)=>{const R=C.lifetime;w[R]=(w[R]||0)+C.size;this._users.forAll(f=>{f=f.namespace;B.startsWith(f)&&(k[f]=
(k[f]||0)+C.size)})});const ba={};this._users.forAll(C=>{const B=C.namespace;!isNaN(C.hitRate)&&0<C.hitRate?(k[B]=k[B]||0,ba[B]=Math.round(100*C.hitRate)+"%"):ba[B]="0%"});var W=Object.keys(k);W.forEach(C=>k[C]=k[C]/this._size*100);W.sort((C,B)=>k[B]-k[C]);W.forEach(C=>J[C]=Math.round(k[C])+"% / "+ba[C]);for(W=w.length-1;0<=W;--W){const C=w[W];C&&(J["Priority "+(W+-3-1)]=Math.round(C/this.size*100)+"%")}return J};h.resetStats=function(){this._hit=this._miss=0;this._users.forAll(J=>J.resetHitRate())};
h.clear=function(J){this._db.forEach((k,w)=>{w.startsWith(J)&&(this._size-=k.size,this._db.delete(w),this._notifyRemoved(w,k.entry))})};h.clearAll=function(){this._db.forEach((J,k)=>this._notifyRemoved(k,J.entry));this._size=0;this._db.clear()};h._getHitRate=function(){return this._hit/(this._hit+this._miss)};h._notifyRemoved=function(J,k){this._removeFuncs.forAll(w=>{if(J.startsWith(w[0]))w[1](k)})};h._checkSizeLimit=function(){if(!(this._size<=this._maxSize))for(const [J,k]of this._db)if(this._db.delete(J),
1>=k.lives?(this._size-=k.size,this._notifyRemoved(J,k.entry)):(--k.lives,this._db.set(J,k)),this._size<=.9*this.maxSize)break};d._createClass(v,[{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(J){this._maxSize=Math.max(J,0);this._checkSizeLimit()}}]);return v}();q.MIN_PRIORITY=-3;q.MemCache=T;q.MemCacheStorage=m;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../config ../../core/Error ../../core/Logger ../../core/maybe ../Polygon ../Polyline ./normalizeUtilsCommon ./spatialReferenceUtils ./webMercatorUtils ../../tasks/geometry/cut ../../tasks/geometry/simplify".split(" "),
function(q,d,Z,T,m,v,h,J,k,w,ba,W,C){function B(F){const S=[];let ha=0,ca=0;for(let ja=0;ja<F.length;ja++){const K=F[ja];let L=null;for(let P=0;P<K.length;P++)L=K[P],S.push(L),0===P?ca=ha=L[0]:(ha=Math.min(ha,L[0]),ca=Math.max(ca,L[0]));L&&S.push([(ha+ca)/2,0])}return S}function R(F,S){if(!(F instanceof J||F instanceof h))throw A.error("straightLineDensify: the input geometry is neither polyline nor polygon"),new T("straightLineDensify: the input geometry is neither polyline nor polygon");var ha=
k.getGeometryParts(F);const ca=[];for(const K of ha){ha=[];ca.push(ha);ha.push([K[0][0],K[0][1]]);for(let L=0;L<K.length-1;L++){const P=K[L][0],Q=K[L][1],p=K[L+1][0],n=K[L+1][1];var ja=Math.sqrt((p-P)*(p-P)+(n-Q)*(n-Q));const H=(n-Q)/ja,O=(p-P)/ja,ea=ja/S;if(1<ea){for(let ia=1;ia<=ea-1;ia++){const la=ia*S;ha.push([O*la+P,H*la+Q])}ja=(ja+Math.floor(ea-1)*S)/2;ha.push([O*ja+P,H*ja+Q])}ha.push([p,n])}}return"polygon"===F.type?new h({rings:ca,spatialReference:F.spatialReference}):new J({paths:ca,spatialReference:F.spatialReference})}
function f(F,S,ha){S&&(F=R(F,1E6),F=ba.webMercatorToGeographic(F,!0));ha&&(F=k.updatePolyGeometry(F,ha));return F}function r(F,S,ha){if(Array.isArray(F)){var ca=F[0];ca>S?(ha=k.offsetMagnitude(ca,S),F[0]=ca+-2*ha*S):ca<ha&&(S=k.offsetMagnitude(ca,ha),F[0]=ca+-2*S*ha)}else ca=F.x,ca>S?(ha=k.offsetMagnitude(ca,S),F=F.clone().offset(-2*ha*S,0)):ca<ha&&(S=k.offsetMagnitude(ca,ha),F=F.clone().offset(-2*S*ha,0));return F}function u(F,S){let ha=-1;for(let ca=0;ca<S.cutIndexes.length;ca++){const ja=S.cutIndexes[ca],
K=S.geometries[ca],L=k.getGeometryParts(K);for(let P=0;P<L.length;P++){const Q=L[P];Q.some(p=>{if(180>p[0])return!0;p=0;for(var n=0;n<Q.length;n++){var H=Q[n][0];p=H>p?H:p}p=Number(p.toFixed(9));p=-360*k.offsetMagnitude(p,180);for(n=0;n<Q.length;n++)H=K.getPoint(P,n),K.setPoint(P,n,H.clone().offset(p,0));return!0})}if(ja===ha)if("polygon"===F[0].type)for(const P of k.getGeometryParts(K))F[ja]=F[ja].addRing(P);else{if("polyline"===F[0].type)for(const P of k.getGeometryParts(K))F[ja]=F[ja].addPath(P)}else ha=
ja,F[ja]=K}return F}function E(F,S,ha){return x.apply(this,arguments)}function x(){x=d._asyncToGenerator(function*(F,S,ha){if(!Array.isArray(F))return E([F],S);var ca=S?S.url:Z.geometryServiceUrl;let ja,K,L;let P=0;var Q=[];S=[];for(var p of F)if(v.isNone(p))S.push(p);else{if(!n){var n=p.spatialReference;var H=w.getInfo(n);var O=(ja=n.isWebMercator)?102100:4326;K=k.cutParams[O].maxX;L=k.cutParams[O].minX;var ea=k.cutParams[O].plus180Line;O=k.cutParams[O].minus180Line}if(H)if("mesh"===p.type)S.push(p);
else if("point"===p.type)S.push(r(p.clone(),K,L));else if("multipoint"===p.type){var ia=p.clone();ia.points=ia.points.map(la=>r(la,K,L));S.push(ia)}else if("extent"===p.type)ia=p.clone()._normalize(!1,!1,H),S.push(ia.rings?new h(ia):ia);else if(p.extent){ia=p.extent;const la=2*k.offsetMagnitude(ia.xmin,L)*K;let qa=0===la?p.clone():k.updatePolyGeometry(p.clone(),la);ia.offset(la,0);ia.intersects(ea)&&ia.xmax!==K?(P=ia.xmax>P?ia.xmax:P,qa=f(qa,ja),Q.push(qa),S.push("cut")):ia.intersects(O)&&ia.xmin!==
L?(P=2*ia.xmax*K>P?2*ia.xmax*K:P,qa=f(qa,ja,360),Q.push(qa),S.push("cut")):S.push(qa)}else S.push(p.clone());else S.push(p)}n=k.offsetMagnitude(P,K);H=-90;ea=n;for(p=new J;0<n;)O=-180+360*n,p.addPath([[O,H],[O,-1*H]]),H*=-1,n--;if(0<Q.length&&0<ea){n=yield W.cut(ca,Q,p,ha);n=u(Q,n);H=[];Q=[];for(ea=0;ea<S.length;ea++)p=S[ea],"cut"!==p?Q.push(p):(p=n.shift(),O=F[ea],v.isSome(O)&&"polygon"===O.type&&O.rings&&1<O.rings.length&&p.rings.length>=O.rings.length?(H.push(p),Q.push("simplify")):Q.push(ja?ba.geographicToWebMercator(p):
p));if(!H.length)return Q;S=yield C.simplify(ca,H,ha);F=[];for(ha=0;ha<Q.length;ha++)ca=Q[ha],"simplify"!==ca?F.push(ca):F.push(ja?ba.geographicToWebMercator(S.shift()):S.shift());return F}F=[];for(ha=0;ha<S.length;ha++)ca=S[ha],"cut"!==ca?F.push(ca):(ca=Q.shift(),F.push(!0===ja?ba.geographicToWebMercator(ca):ca));return Promise.resolve(F)});return x.apply(this,arguments)}const A=m.getLogger("esri.geometry.support.normalizeUtils");q.getDenormalizedExtent=function(F){if(!F)return null;const S=F.extent;
if(!S)return null;var ha=F.spatialReference&&w.getInfo(F.spatialReference);if(!ha)return S;const [ca,ja]=ha.valid;({width:ha}=S);let {xmin:K,xmax:L}=S;[K,L]=[L,K];if("extent"===F.type||0===ha||ha<=ja||ha>2*ja||K<ca||L>ja)return S;let P;switch(F.type){case "polygon":if(1<F.rings.length)P=B(F.rings);else return S;break;case "polyline":if(1<F.paths.length)P=B(F.paths);else return S;break;case "multipoint":P=F.points}F=S.clone();for(let Q=0;Q<P.length;Q++){let p=P[Q][0];0>p?(p+=ja,L=Math.max(p,L)):(p-=
ja,K=Math.min(p,K))}F.xmin=K;F.xmax=L;return F.width<ha?(F.xmin-=ja,F.xmax-=ja,F):S};q.normalizeCentralMeridian=E;q.normalizeMapX=function(F,S){if(S=w.getInfo(S)){const [ha,ca]=S.valid;S=ca-ha;if(F<ha)for(;F<ha;)F+=S;if(F>ca)for(;F>ca;)F-=S}return F};q.straightLineDensify=R;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports","../Polyline","../SpatialReference","./jsonUtils"],function(q,d,Z,T){function m(h){return T.isPolygon(h)?
h.rings:h.paths}const v={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new d({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:Z.WebMercator}),minus180Line:new d({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new d({paths:[[[180,-180],[180,180]]],spatialReference:Z.WGS84}),minus180Line:new d({paths:[[[-180,
-180],[-180,180]]],spatialReference:Z.WGS84})}};q.cutParams=v;q.getGeometryParts=m;q.getSpatialReferenceMinMaxX=function(h){h=(null==h?0:h.isWebMercator)?102100:4326;return[v[h].minX,v[h].maxX]};q.offsetMagnitude=function(h,J){return Math.ceil((h-J)/(2*J))};q.updatePolyGeometry=function(h,J){const k=m(h);for(const w of k)for(const ba of w)ba[0]+=J;return h};Object.defineProperty(q,"__esModule",{value:!0})})},"esri/tasks/geometry/cut":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../../request ../../core/urlUtils ../../geometry/support/jsonUtils".split(" "),
function(q,d,Z,T,m,v){function h(){h=d._asyncToGenerator(function*(J,k,w,ba){J="string"===typeof J?m.urlToObject(J):J;const W=k[0].spatialReference;k={...ba,query:{...J.query,f:"json",sr:JSON.stringify(W),target:JSON.stringify({geometryType:v.getJsonType(k[0]),geometries:k}),cutter:JSON.stringify(w)}};k=yield T(J.path+"/cut",k);const {cutIndexes:C,geometries:B=[]}=k.data;return{cutIndexes:C,geometries:B.map(R=>{R=v.fromJSON(R);R.spatialReference=W;return R})}});return h.apply(this,arguments)}q.cut=
function(J,k,w,ba){return h.apply(this,arguments)};Object.defineProperty(q,"__esModule",{value:!0})})},"esri/tasks/geometry/simplify":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../request","../../core/urlUtils","../../geometry/support/jsonUtils"],function(q,d,Z,T,m){function v(){v=d._asyncToGenerator(function*(k,w,ba){const W="string"===typeof k?T.urlToObject(k):k;k=w[0].spatialReference;const C=m.getJsonType(w[0]);w={...ba,query:{...W.query,f:"json",sr:k.wkid?k.wkid:
JSON.stringify(k),geometries:JSON.stringify(h(w))}};w=yield Z(W.path+"/simplify",w);return J(w.data,C,k)});return v.apply(this,arguments)}function h(k){return{geometryType:m.getJsonType(k[0]),geometries:k.map(w=>w.toJSON())}}function J(k,w,ba){const W=m.getGeometryType(w);return k.map(C=>{C=W.fromJSON(C);C.spatialReference=ba;return C})}q.simplify=function(k,w,ba){return v.apply(this,arguments)};Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/graphics/data/attributeSupport":function(){define(["exports",
"../../../core/Error","../../../core/sql/WhereClauseCache"],function(q,d,Z){function T(k,w){return k?h.get(k,w):null}function m(k,w,ba,W=!0){const C=[];for(const B of w)if("*"!==B&&!k.has(B))if(W){w=v(B);try{const R=T(w,k);if(!R)throw new d("feature-store:unsupported-query","invalid SQL expression",{where:w});if(!R.isStandardized)throw new d("feature-store:unsupported-query","expression is not standard",{clause:R});m(k,R.fieldNames,"expression contains missing fields")}catch(R){if((w=R&&R.details)&&
(w.clause||w.where))throw R;w&&w.missingFields?C.push(...w.missingFields):C.push(B)}}else C.push(B);if(C.length)throw new d("feature-store:unsupported-query",ba,{missingFields:C});}function v(k){return k.split(" as ")[0]}const h=new Z.WhereClauseCache(50,500),J=new Set("esriFieldTypeOID esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeLong esriFieldTypeDate".split(" "));q.getAliasFromFieldName=function(k){return k.split(" as ")[1]};q.getExpressionFromFieldName=
v;q.getWhereClause=T;q.hasInvalidFieldType=function(k,w){return(k=w.get(k))?!J.has(k.type):!1};q.validateFields=m;q.validateHaving=function(k,w,ba){if(!w)return!0;const W=h.get(w,k);if(!W)throw new d("feature-store:unsupported-query","invalid SQL expression",{having:w});if(!W.isAggregate)throw new d("feature-store:unsupported-query","having does not contain a valid aggregate function",{having:w});m(k,W.fieldNames,"having contains missing fields");if(!W.getExpressions().every(C=>{const {aggregateType:B,
field:R}=C,f=k.has(R)&&k.get(R).name;return ba.some(r=>{const {onStatisticField:u,statisticType:E}=r;return(k.has(u)&&k.get(u).name)===f&&E.toLowerCase().trim()===B})}))throw new d("feature-store:unsupported-query","expressions in having should also exist in outStatistics",{having:w});return!0};q.validateWhere=function(k,w){if(!w)return!0;const ba=h.get(w,k);if(!ba)throw new d("feature-store:unsupported-query","invalid SQL expression",{where:w});if(!ba.isStandardized)throw new d("feature-store:unsupported-query",
"where clause is not standard",{where:w});m(k,ba.fieldNames,"where clause contains missing fields");return!0};Object.defineProperty(q,"__esModule",{value:!0})})},"esri/core/sql/WhereClauseCache":function(){define(["exports","../ItemCache","./WhereClause"],function(q,d,Z){let T=function(){function m(v,h){this._cache=new d(v);this._invalidCache=new d(h)}m.prototype.get=function(v,h){const J=`${h.uid}:${v}`,k=this._cache.get(J);if(k)return k;if(void 0!==this._invalidCache.get(J))return null;try{const w=
Z.WhereClause.create(v,h);this._cache.put(J,w);return w}catch{return this._invalidCache.put(J,null),null}};return m}();q.WhereClauseCache=T;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/core/ItemCache":function(){define(["./MemCache"],function(q){return function(){function d(T,m){this._storage=new q.MemCacheStorage;this._storage.maxSize=T;m&&this._storage.registerRemoveFunc("",m)}var Z=d.prototype;Z.put=function(T,m){this._storage.put(T,m,1,1)};Z.pop=function(T){return this._storage.pop(T)};
Z.get=function(T){return this._storage.get(T)};Z.clear=function(){this._storage.clearAll()};Z.destroy=function(){this._storage.destroy()};return d}()})},"esri/core/sql/WhereClause":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../has ./AggregateFunctions ./StandardizedFunctions ./WhereGrammar".split(" "),function(q,d,Z,T,m,v){function h(Q,p){Q+="";return Q.length>=p?Q:Array(p-Q.length+1).join("0")+Q}function J(Q,p,n="0",H="0",O="0",ea="0",ia="",la="0",qa="0"){return"+"===ia||"-"===
ia?(Q=`${h(parseInt(Q,10),4)}-${h(parseInt(p,10),2)}-${h(parseInt(n,10),2)}`,p="",10>parseFloat(ea)&&(p="0"),H=`${h(parseInt(H,10),2)}:${h(parseInt(O,10),2)}:${p+parseFloat(ea).toString()}`,ia=`${ia}${h(parseInt(la,10),2)}:${h(parseInt(qa,10),2)}`,new Date(Q+"T"+H+ia)):new Date(parseInt(Q,10),parseInt(p,10)-1,parseInt(n,10),parseInt(H,10),parseInt(O,10),parseFloat(ea))}function k(Q){let p=F.exec(Q);if(null!==p){const [,n,H,O,ea,ia,la]=p;return J(n,H,O,ea,ia,la)}p=S.exec(Q);if(null!==p){const [,n,
H,O,ea,ia,la,qa,za,va]=p;return J(n,H,O,ea,ia,la,qa,za,va)}p=ha.exec(Q);if(null!==p){const [,n,H,O,ea,ia,la,qa,za]=p;return J(n,H,O,ea,ia,"0",la,qa,za)}p=ca.exec(Q);if(null!==p){const [,n,H,O,ea,ia]=p;return J(n,H,O,ea,ia)}p=A.exec(Q);if(null!==p){const [,n,H,O]=p;return J(n,H,O)}throw Error("SQL Invalid Timestamp");}function w(Q){Q=A.exec(Q);if(null===Q)throw Error("SQL Invalid Date");const [,p,n,H]=Q;return new Date(parseInt(p,10),parseInt(n,10)-1,parseInt(H,10))}function ba(Q){return Array.isArray(Q)?
Q:[Q]}function W(Q){return null!==Q?!0!==Q:null}function C(Q,p){return null!=Q&&null!=p?!0===Q&&!0===p:!1===Q||!1===p?!1:null}function B(Q,p){return null!=Q&&null!=p?!0===Q||!0===p:!0===Q||!0===p?!0:null}function R(Q,p){if(null==Q)return null;let n=!1;for(const H of p)if(null==H)n=null;else if(Q===H){n=!0;break}return n}function f(Q,p,n){if(null==Q)return null;let H="",O=0;for(let ea=0;ea<p.length;ea++){const ia=p.charAt(ea);switch(O){case 0:ia===n?O=1:H=0<="-[]/{}()*+?.\\^$|".indexOf(ia)?H+("\\"+
ia):"%"===ia?H+".*":"_"===ia?H+".":H+ia;break;case 1:H=0<="-[]/{}()*+?.\\^$|".indexOf(ia)?H+("\\"+ia):H+ia,O=0}}return(new RegExp("^"+H+"$")).test(Q)}function r(Q){return Q instanceof Date?Q.valueOf():Q}function u(Q,p,n){if(null==p||null==n)return null;p=r(p);n=r(n);switch(Q){case "\x3c\x3e":return p!==n;case "\x3d":return p===n;case "\x3e":return p>n;case "\x3c":return p<n;case "\x3e\x3d":return p>=n;case "\x3c\x3d":return p<=n}}function E(Q,p,n){if(p instanceof m.SqlInterval)if(n instanceof Date)switch(Q){case "+":return new Date(p.valueInMilliseconds()+
n.getTime());case "-":return p.valueInMilliseconds()-n.getTime();case "*":return p.valueInMilliseconds()*n.getTime();case "/":return p.valueInMilliseconds()/n.getTime()}else if(n instanceof m.SqlInterval)switch(Q){case "+":return m.SqlInterval.createFromMilliseconds(p.valueInMilliseconds()+n.valueInMilliseconds());case "-":return m.SqlInterval.createFromMilliseconds(p.valueInMilliseconds()-n.valueInMilliseconds());case "*":return p.valueInMilliseconds()*n.valueInMilliseconds();case "/":return p.valueInMilliseconds()/
n.valueInMilliseconds()}else p=p.valueInMilliseconds();else if(n instanceof m.SqlInterval)if(p instanceof Date)switch(Q){case "+":return new Date(n.valueInMilliseconds()+p.getTime());case "-":return new Date(p.getTime()-n.valueInMilliseconds());case "*":return p.getTime()*n.valueInMilliseconds();case "/":return p.getTime()/n.valueInMilliseconds()}else n=n.valueInMilliseconds();else if(p instanceof Date&&"number"===typeof n)switch(n*=864E5,p=p.getTime(),Q){case "+":return new Date(p+n);case "-":return new Date(p-
n);case "*":return new Date(p*n);case "/":return new Date(p/n)}else if(n instanceof Date&&"number"===typeof p)switch(p*=864E5,n=n.getTime(),Q){case "+":return new Date(p+n);case "-":return new Date(p-n);case "*":return new Date(p*n);case "/":return new Date(p/n)}switch(Q){case "+":return p+n;case "-":return p-n;case "*":return p*n;case "/":return p/n}}function x(Q,p,n,H){Q=H.getAttribute(Q,p);return null!=Q&&1===n[p]?new Date(Q):Q}const A=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,F=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)$/,
S=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)(\+|\-)(\d{1,2}):(\d{1,2})$/,ha=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})(\+|\-)(\d{1,2}):(\d{1,2})$/,ca=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/,ja=new Set(["current_timestamp","current_date","current_time"]);let K=function(){function Q(){}Q.makeBool=function(p){return!0===p};Q.featureValue=function(p,n,H,O){return x(p,n,H,O)};Q.equalsNull=function(p){return null===p};Q.applyLike=function(p,n,H){return f(p,
n,H)};Q.ensureArray=function(p){return ba(p)};Q.applyIn=function(p,n){return R(p,n)};Q.currentDate=function(){const p=new Date;p.setHours(0,0,0,0);return p};Q.makeSqlInterval=function(p,n,H){return m.SqlInterval.createFromValueAndQualifer(p,n,H)};Q.convertInterval=function(p){return p instanceof m.SqlInterval?p.valueInMilliseconds():p};Q.currentTimestamp=function(){return new Date};Q.compare=function(p,n,H){return u(p,n,H)};Q.calculate=function(p,n,H){return E(p,n,H)};Q.makeComparable=function(p){return r(p)};
Q.evaluateFunction=function(p,n){return m.evaluateFunction(p,n)};Q.lookup=function(p,n){p=n[p];return void 0===p?null:p};Q.between=function(p,n){return null==p||null==n[0]||null==n[1]?null:p>=n[0]&&p<=n[1]};Q.notbetween=function(p,n){return null==p||null==n[0]||null==n[1]?null:p<n[0]||p>n[1]};Q.ternaryNot=function(p){return W(p)};Q.ternaryAnd=function(p,n){return C(p,n)};Q.ternaryOr=function(p,n){return B(p,n)};return Q}(),L=function(){function Q(n,H){this.fieldsIndex=H;this.datefields={};this.parameters=
{};this._hasDateFunctions=void 0;this.parseTree=v.WhereGrammar.parse(n);const {isStandardized:O,isAggregate:ea,referencedFieldNames:ia}=this.extractExpressionInfo(H);this.referencedFieldNames=ia;this.isStandardized=O;this.isAggregate=ea}Q.create=function(n,H){return new Q(n,H)};var p=Q.prototype;p.testSet=function(n,H=P){const O={};for(const ea of this.fieldNames)O[ea]=n.map(ia=>H.getAttribute(ia,ea));return!!this.evaluateNode(this.parseTree,{attributes:O},P)};p.calculateValue=function(n,H=P){n=this.evaluateNode(this.parseTree,
n,H);return n instanceof m.SqlInterval?n.valueInMilliseconds()/864E5:n};p.calculateValueCompiled=function(n,H=P){if(null!=this.parseTree._compiledVersion)return this.parseTree._compiledVersion(n,this.parameters,H,this.datefields);if(Z("csp-restrictions"))return this.calculateValue(n,H);this.compileMe();return this.parseTree._compiledVersion(n,this.parameters,H,this.datefields)};p.testFeature=function(n,H=P){return!!this.evaluateNode(this.parseTree,n,H)};p.testFeatureCompiled=function(n,H=P){if(null!=
this.parseTree._compiledVersion)return!!this.parseTree._compiledVersion(n,this.parameters,H,this.datefields);if(Z("csp-restrictions"))return this.testFeature(n,H);this.compileMe();return!!this.parseTree._compiledVersion(n,this.parameters,H,this.datefields)};p.getFunctions=function(){const n=new Set;this.visitAll(this.parseTree,H=>{"function"===H.type&&n.add(H.name.toLowerCase())});return Array.from(n)};p.getExpressions=function(){const n=new Map;this.visitAll(this.parseTree,H=>{if("function"===H.type){const O=
H.name.toLowerCase();H=H.args.value[0];if("column_ref"===H.type){H=H.column;const ea=`${O}-${H}`;n.has(ea)||n.set(ea,{aggregateType:O,field:H})}}});return[...n.values()]};p.getVariables=function(){const n=new Set;this.visitAll(this.parseTree,H=>{"param"===H.type&&n.add(H.value.toLowerCase())});return Array.from(n)};p.compileMe=function(){const n="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=(new Function("feature","lookups","attributeAdapter",
"datefields",n)).bind(K)};p.extractExpressionInfo=function(n){const H=[],O=new Set;let ea=!0,ia=!0;this.visitAll(this.parseTree,la=>{switch(la.type){case "column_ref":{const qa=n.get(la.column);let za,va;qa?za=va=qa.name:(va=la.column,za=va.toLowerCase());!qa||"date"!==qa.type&&"esriFieldTypeDate"!==qa.type||(this.datefields[qa.name]=1);O.has(za)||(O.add(za),H.push(va));la.column=va;break}case "function":{const {name:qa,args:za}=la;la=za.value.length;ea&&(ea=m.isStandardized(qa,la));ia&&(ia=T.isAggregate(qa,
la))}}});return{referencedFieldNames:Array.from(H),isStandardized:ea,isAggregate:ia}};p.visitAll=function(n,H){if(null!=n)switch(H(n),n.type){case "when_clause":this.visitAll(n.operand,H);this.visitAll(n.value,H);break;case "case_expression":for(const O of n.clauses)this.visitAll(O,H);"simple"===n.format&&this.visitAll(n.operand,H);null!==n.else&&this.visitAll(n.else,H);break;case "expr_list":for(const O of n.value)this.visitAll(O,H);break;case "unary_expr":this.visitAll(n.expr,H);break;case "binary_expr":this.visitAll(n.left,
H);this.visitAll(n.right,H);break;case "function":this.visitAll(n.args,H)}};p.evaluateNodeToJavaScript=function(n){switch(n.type){case "interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(n.value)+", "+JSON.stringify(n.qualifier)+","+JSON.stringify(n.op)+")";case "case_expression":var H="";if("simple"===n.format){var O="this.makeComparable("+this.evaluateNodeToJavaScript(n.operand)+")";H="( ";for(let ea=0;ea<n.clauses.length;ea++)H+=" ("+O+" \x3d\x3d\x3d this.makeComparable("+this.evaluateNodeToJavaScript(n.clauses[ea].operand)+
")) ? ("+this.evaluateNodeToJavaScript(n.clauses[ea].value)+") : "}else for(H="( ",O=0;O<n.clauses.length;O++)H+=" this.makeBool("+this.evaluateNodeToJavaScript(n.clauses[O].operand)+")\x3d\x3d\x3dtrue ? ("+this.evaluateNodeToJavaScript(n.clauses[O].value)+") : ";H=null!==n.else?H+this.evaluateNodeToJavaScript(n.else):H+"null";return H+=" )";case "param":return"this.lookup("+JSON.stringify(n.value.toLowerCase())+",lookups)";case "expr_list":H="[";for(O of n.value)"["!==H&&(H+=","),H+=this.evaluateNodeToJavaScript(O);
return H+="]";case "unary_expr":return"this.ternaryNot("+this.evaluateNodeToJavaScript(n.expr)+")";case "binary_expr":switch(n.operator){case "AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(n.left)+","+this.evaluateNodeToJavaScript(n.right)+" )";case "OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(n.left)+","+this.evaluateNodeToJavaScript(n.right)+" )";case "IS":if("null"!==n.right.type)throw Error("Unsupported RHS for IS");return"this.equalsNull("+this.evaluateNodeToJavaScript(n.left)+
")";case "ISNOT":if("null"!==n.right.type)throw Error("Unsupported RHS for IS");return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(n.left)+")))";case "IN":return"this.applyIn("+this.evaluateNodeToJavaScript(n.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(n.right)+"))";case "NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(n.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(n.right)+")))";case "BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(n.left)+
","+this.evaluateNodeToJavaScript(n.right)+")";case "NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(n.left)+","+this.evaluateNodeToJavaScript(n.right)+")";case "LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(n.left)+","+this.evaluateNodeToJavaScript(n.right)+","+JSON.stringify(n.escape)+")";case "NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(n.left)+","+this.evaluateNodeToJavaScript(n.right)+","+JSON.stringify(n.escape)+"))";case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return"this.compare("+
JSON.stringify(n.operator)+","+this.evaluateNodeToJavaScript(n.left)+","+this.evaluateNodeToJavaScript(n.right)+")";case "*":case "-":case "+":case "/":return"this.calculate("+JSON.stringify(n.operator)+","+this.evaluateNodeToJavaScript(n.left)+","+this.evaluateNodeToJavaScript(n.right)+")"}throw Error("Not Supported Operator "+n.operator);case "null":case "bool":case "string":case "number":return JSON.stringify(n.value);case "date":return"(new Date("+w(n.value).getTime().toString()+"))";case "timestamp":return"(new Date("+
k(n.value).getTime().toString()+"))";case "current_time":return"date"===n.mode?"this.currentDate()":"this.currentTimestamp()";case "column_ref":return"this.featureValue(feature,"+JSON.stringify(n.column)+",datefields,attributeAdapter)";case "function":return"this.evaluateFunction("+JSON.stringify(n.name)+","+this.evaluateNodeToJavaScript(n.args)+")"}throw Error("Unsupported sql syntax "+n.type);};p.evaluateNode=function(n,H,O){switch(n.type){case "interval":return H=this.evaluateNode(n.value,H,O),
m.SqlInterval.createFromValueAndQualifer(H,n.qualifier,n.op);case "case_expression":if("simple"===n.format){var ea=r(this.evaluateNode(n.operand,H,O));for(var ia=0;ia<n.clauses.length;ia++)if(ea===r(this.evaluateNode(n.clauses[ia].operand,H,O)))return this.evaluateNode(n.clauses[ia].value,H,O)}else for(ea=0;ea<n.clauses.length;ea++)if(!0===this.evaluateNode(n.clauses[ea].operand,H,O))return this.evaluateNode(n.clauses[ea].value,H,O);return null!==n.else?this.evaluateNode(n.else,H,O):null;case "param":return this.parameters[n.value.toLowerCase()];
case "expr_list":ea=[];for(ia of n.value)ea.push(this.evaluateNode(ia,H,O));return ea;case "unary_expr":return W(this.evaluateNode(n.expr,H,O));case "binary_expr":switch(n.operator){case "AND":return C(this.evaluateNode(n.left,H,O),this.evaluateNode(n.right,H,O));case "OR":return B(this.evaluateNode(n.left,H,O),this.evaluateNode(n.right,H,O));case "IS":if("null"!==n.right.type)throw Error("Unsupported RHS for IS");return null===this.evaluateNode(n.left,H,O);case "ISNOT":if("null"!==n.right.type)throw Error("Unsupported RHS for IS");
return null!==this.evaluateNode(n.left,H,O);case "IN":return ea=ba(this.evaluateNode(n.right,H,O)),R(this.evaluateNode(n.left,H,O),ea);case "NOT IN":return ea=ba(this.evaluateNode(n.right,H,O)),W(R(this.evaluateNode(n.left,H,O),ea));case "BETWEEN":return ea=this.evaluateNode(n.left,H,O),n=this.evaluateNode(n.right,H,O),null==ea||null==n[0]||null==n[1]?null:ea>=r(n[0])&&ea<=r(n[1]);case "NOTBETWEEN":return ea=this.evaluateNode(n.left,H,O),n=this.evaluateNode(n.right,H,O),null==ea||null==n[0]||null==
n[1]?null:ea<r(n[0])||ea>r(n[1]);case "LIKE":return f(this.evaluateNode(n.left,H,O),this.evaluateNode(n.right,H,O),n.escape);case "NOT LIKE":return W(f(this.evaluateNode(n.left,H,O),this.evaluateNode(n.right,H,O),n.escape));case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return u(n.operator,this.evaluateNode(n.left,H,O),this.evaluateNode(n.right,H,O));case "-":case "+":case "*":case "/":return E(n.operator,this.evaluateNode(n.left,H,O),this.evaluateNode(n.right,
H,O))}case "null":case "bool":case "string":case "number":return n.value;case "date":return w(n.value);case "timestamp":return k(n.value);case "current_time":return H=new Date,"date"===n.mode&&H.setHours(0,0,0,0),H;case "column_ref":return x(H,n.column,this.datefields,O);case "function":return H=this.evaluateNode(n.args,H,O),this.isAggregate?T.aggregateFunction(n.name,H):m.evaluateFunction(n.name,H)}throw Error("Unsupported sql syntax "+n.type);};d._createClass(Q,[{key:"fieldNames",get:function(){return this.referencedFieldNames}},
{key:"hasDateFunctions",get:function(){if(null!=this._hasDateFunctions)return this._hasDateFunctions;this._hasDateFunctions=!1;this.visitAll(this.parseTree,n=>{"current_time"===n.type?this._hasDateFunctions=!0:"function"===n.type&&(this._hasDateFunctions=this._hasDateFunctions||ja.has(n.name.toLowerCase()))});return this._hasDateFunctions}}]);return Q}();const P={getAttribute(Q,p){return(Q&&"object"===typeof Q.attributes?Q.attributes:Q)[p]}};q.WhereClause=L;q.defaultAttributeAdapter=P;Object.defineProperty(q,
"__esModule",{value:!0})})},"esri/core/sql/AggregateFunctions":function(){define(["exports"],function(q){function d(m){let v=0;for(let h=0;h<m.length;h++)v+=m[h];return v/m.length}function Z(m){const v=d(m),h=m.length;let J=0;for(const k of m)J+=(k-v)**2;return 1<h?J/(h-1):0}const T={min:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:Math.min.apply(Math,m[0])},max:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:Math.max.apply(Math,m[0])},avg:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?
null:d(m[0])},sum:{minParams:1,maxParams:1,evaluate:m=>{if(null==m[0])m=null;else{{m=m[0];let v=0;for(let h=0;h<m.length;h++)v+=m[h];m=v}}return m}},stddev:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:Math.sqrt(Z(m[0]))},count:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:m[0].length},var:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:Z(m[0])}};q.aggregateFunction=function(m,v){const h=T[m.toLowerCase()];if(null==h)throw Error("Function Not Recognised");if(v.length<h.minParams||
v.length>h.maxParams)throw Error(`Invalid Parameter count for call to ${m.toUpperCase()}`);return h.evaluate(v)};q.isAggregate=function(m,v){m=T[m.toLowerCase()];return null!=m&&v>=m.minParams&&v<=m.maxParams};Object.defineProperty(q,"__esModule",{value:!0})})},"esri/core/sql/StandardizedFunctions":function(){define(["exports","../string"],function(q,d){let Z=function(){function m(){this.op="+";this.minute=this.year=this.month=this.hour=this.second=this.day=0}m.fixDefaults=function(v){if(null!==v.precision||
null!==v.secondary)throw Error("Primary and Secondary SqlInterval qualifiers not supported");};m.createFromMilliseconds=function(v){const h=new m;h.second=v/1E3;return h};m.createFromValueAndQualifer=function(v,h,J){let k=null;const w=new m;w.op="-"===J?"-":"+";if("interval-period"===h.type){m.fixDefaults(h);if("year"===h.period||"month"===h.period)throw Error("Year-Month Intervals not supported");if(/^[0-9]{1,}$/.test(v))w[h.period]=parseFloat(v);else throw Error("Illegal Interval");}else{m.fixDefaults(h.start);
m.fixDefaults(h.end);if("year"===h.start.period||"month"===h.start.period)throw Error("Year-Month Intervals not supported");if("year"===h.end.period||"month"===h.end.period)throw Error("Year-Month Intervals not supported");switch(h.start.period){case "day":switch(h.end.period){case "hour":k=/^[0-9]{1,} [0-9]{1,}$/;if(k.test(v))w[h.start.period]=parseFloat(v.split(" ")[0]),w[h.end.period]=parseFloat(v.split(" ")[1]);else throw Error("Illegal Interval");break;case "minute":k=/^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$/;
if(k.test(v))w[h.start.period]=parseFloat(v.split(" ")[0]),v=v.split(" ")[1].split(":"),w.hour=parseFloat(v[0]),w.minute=parseFloat(v[1]);else throw Error("Illegal Interval");break;case "second":k=/^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(k.test(v))w[h.start.period]=parseFloat(v.split(" ")[0]),v=v.split(" ")[1].split(":"),w.hour=parseFloat(v[0]),w.minute=parseFloat(v[1]),w.second=parseFloat(v[2]);else throw Error("Illegal Interval");break;default:throw"Invalid Interval.";
}break;case "hour":switch(h.end.period){case "minute":k=/^[0-9]{1,}:[0-9]{1,}$/;if(k.test(v))w.hour=parseFloat(v.split(":")[0]),w.minute=parseFloat(v.split(":")[1]);else throw Error("Illegal Interval");break;case "second":k=/^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(k.test(v))v=v.split(":"),w.hour=parseFloat(v[0]),w.minute=parseFloat(v[1]),w.second=parseFloat(v[2]);else throw Error("Illegal Interval");break;default:throw"Invalid Interval.";}break;case "minute":switch(h.end.period){case "second":k=
/^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(k.test(v))v=v.split(":"),w.minute=parseFloat(v[0]),w.second=parseFloat(v[1]);else throw Error("Illegal Interval");break;default:throw"Invalid Interval.";}break;default:throw"Invalid Interval.";}}return w};m.prototype.valueInMilliseconds=function(){return("-"===this.op?-1:1)*(1E3*this.second+6E4*this.minute+36E5*this.hour+864E5*this.day+365/12*this.month*864E5+31536E6*this.year)};return m}();const T={extract:{minParams:2,maxParams:2,evaluate:([m,v])=>
{if(null==v)return null;if(v instanceof Date)switch(m.toUpperCase()){case "SECOND":return v.getSeconds();case "MINUTE":return v.getMinutes();case "HOUR":return v.getHours();case "DAY":return v.getDate();case "MONTH":return v.getMonth()+1;case "YEAR":return v.getFullYear()}throw Error("Invalid Parameter for call to EXTRACT");}},substring:{minParams:2,maxParams:3,evaluate:m=>{if(2===m.length){const [v,h]=m;return null==v||null==h?null:v.toString().substring(h-1)}if(3===m.length){const [v,h,J]=m;return null==
v||null==h||null==J?null:0>=J?"":v.toString().substring(h-1,h+J-1)}}},position:{minParams:2,maxParams:2,evaluate:([m,v])=>null==m||null==v?null:v.indexOf(m)+1},trim:{minParams:2,maxParams:3,evaluate:m=>{var v=3===m.length,h=v?m[1]:" ";v=v?m[2]:m[1];if(null==h||null==v)return null;h=`(${d.escapeRegExpString(h)})`;switch(m[0]){case "BOTH":return v.replace(new RegExp(`^${h}*|${h}*$`,"g"),"");case "LEADING":return v.replace(new RegExp(`^${h}*`,"g"),"");case "TRAILING":return v.replace(new RegExp(`${h}*$`,
"g"),"")}throw Error("Invalid Parameter for call to TRIM");}},abs:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:Math.abs(m[0])},ceiling:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:Math.ceil(m[0])},floor:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:Math.floor(m[0])},log:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:Math.log(m[0])},log10:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:Math.log(m[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?
null:Math.sin(m[0])},cos:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:Math.cos(m[0])},tan:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:Math.tan(m[0])},asin:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:Math.asin(m[0])},acos:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:Math.acos(m[0])},atan:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:Math.atan(m[0])},sign:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:0<m[0]?1:0>m[1]?-1:0},power:{minParams:2,maxParams:2,
evaluate:m=>null==m[0]||null==m[1]?null:m[0]**m[1]},mod:{minParams:2,maxParams:2,evaluate:m=>null==m[0]||null==m[1]?null:m[0]%m[1]},round:{minParams:1,maxParams:2,evaluate:m=>{const v=m[0];m=2===m.length?10**m[1]:1;return null==v?null:Math.round(v*m)/m}},truncate:{minParams:1,maxParams:2,evaluate:m=>null==m[0]?null:1===m.length?parseInt(m[0].toFixed(0),10):parseFloat(m[0].toFixed(m[1]))},char_length:{minParams:1,maxParams:1,evaluate:m=>"string"===typeof m[0]||m[0]instanceof String?m[0].length:0},
concat:{minParams:1,maxParams:Infinity,evaluate:m=>{let v="";for(let h=0;h<m.length;h++){if(null==m[h])return null;v+=m[h].toString()}return v}},lower:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:m[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:m=>null==m[0]?null:m[0].toString().toUpperCase()}};q.SqlInterval=Z;q.evaluateFunction=function(m,v){const h=T[m.toLowerCase()];if(null==h)throw Error("Function Not Recognised");if(v.length<h.minParams||v.length>h.maxParams)throw Error(`Invalid Parameter count for call to ${m.toUpperCase()}`);
return h.evaluate(v)};q.isStandardized=function(m,v){m=T[m.toLowerCase()];return null!=m&&v>=m.minParams&&v<=m.maxParams};Object.defineProperty(q,"__esModule",{value:!0})})},"esri/core/sql/WhereGrammar":function(){define(["exports","../../chunks/_commonjsHelpers"],function(q,d){var Z={exports:{}};(function(m){(function(v,h){m.exports&&(m.exports=h())})(d.commonjsGlobal,function(){function v(h,J,k,w){this.message=h;this.expected=J;this.found=k;this.location=w;this.name="SyntaxError";"function"===typeof Error.captureStackTrace&&
Error.captureStackTrace(this,v)}(function(h,J){function k(){this.constructor=h}k.prototype=J.prototype;h.prototype=new k})(v,Error);v.buildMessage=function(h,J){function k(C){return C.charCodeAt(0).toString(16).toUpperCase()}function w(C){return C.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(B){return"\\x0"+k(B)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(B){return"\\x"+k(B)})}function ba(C){return C.replace(/\\/g,
"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(B){return"\\x0"+k(B)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(B){return"\\x"+k(B)})}var W={literal:function(C){return'"'+w(C.text)+'"'},class:function(C){var B="",R;for(R=0;R<C.parts.length;R++)B+=C.parts[R]instanceof Array?ba(C.parts[R][0])+"-"+ba(C.parts[R][1]):ba(C.parts[R]);return"["+(C.inverted?"^":"")+B+"]"},
any:function(C){return"any character"},end:function(C){return"end of input"},other:function(C){return C.description}};return"Expected "+function(C){var B=Array(C.length),R;for(R=0;R<C.length;R++){var f=R;var r=C[R];r=W[r.type](r);B[f]=r}B.sort();if(0<B.length){for(C=R=1;R<B.length;R++)B[R-1]!==B[R]&&(B[C]=B[R],C++);B.length=C}switch(B.length){case 1:return B[0];case 2:return B[0]+" or "+B[1];default:return B.slice(0,-1).join(", ")+", or "+B[B.length-1]}}(h)+" but "+(J?'"'+w(J)+'"':"end of input")+
" found."};return{SyntaxError:v,parse:function(h,J){function k(l,D){return{type:"literal",text:l,ignoreCase:D}}function w(l,D,z){return{type:"class",parts:l,inverted:D,ignoreCase:z}}function ba(l){var D=fc[l],z;if(!D){for(z=l-1;!fc[z];)z--;D=fc[z];for(D={line:D.line,column:D.column};z<l;)10===h.charCodeAt(z)?(D.line++,D.column=1):D.column++,z++;fc[l]=D}return D}function W(l,D){var z=ba(l),da=ba(D);return{start:{offset:l,line:z.line,column:z.column},end:{offset:D,line:da.line,column:da.column}}}function C(l){c<
ub||(c>ub&&(ub=c,vc=[]),vc.push(l))}function B(){var l=c;var D=oa();if(D!==a)if(D=f(),D!==a){var z=oa();z!==a?l=D:(c=l,l=a)}else c=l,l=a;else c=l,l=a;return l}function R(){var l=c;var D=f();if(D!==a){var z=[];var da=c;var ra=oa();if(ra!==a){var Ca=Fa();if(Ca!==a){var Ha=oa();if(Ha!==a){var Oa=f();Oa!==a?da=ra=[ra,Ca,Ha,Oa]:(c=da,da=a)}else c=da,da=a}else c=da,da=a}else c=da,da=a;for(;da!==a;)z.push(da),da=c,ra=oa(),ra!==a?(Ca=Fa(),Ca!==a?(Ha=oa(),Ha!==a?(Oa=f(),Oa!==a?da=ra=[ra,Ca,Ha,Oa]:(c=da,da=
a)):(c=da,da=a)):(c=da,da=a)):(c=da,da=a);if(z!==a){l={type:"expr_list"};D=[D];for(da=0;da<z.length;da++)D.push(z[da][3]);l.value=D}else c=l,l=a}else c=l,l=a;return l}function f(){var l=c;var D=r();if(D!==a){var z=[];var da=c;var ra=oa();if(ra!==a){var Ca=t();if(Ca!==a){var Ha=oa();if(Ha!==a){var Oa=r();Oa!==a?da=ra=[ra,Ca,Ha,Oa]:(c=da,da=a)}else c=da,da=a}else c=da,da=a}else c=da,da=a;for(;da!==a;)z.push(da),da=c,ra=oa(),ra!==a?(Ca=t(),Ca!==a?(Ha=oa(),Ha!==a?(Oa=r(),Oa!==a?da=ra=[ra,Ca,Ha,Oa]:(c=
da,da=a)):(c=da,da=a)):(c=da,da=a)):(c=da,da=a);z!==a?l=D=bb(D,z):(c=l,l=a)}else c=l,l=a;return l}function r(){var l=c;var D=u();if(D!==a){var z=[];var da=c;var ra=oa();if(ra!==a){var Ca=e();if(Ca!==a){var Ha=oa();if(Ha!==a){var Oa=u();Oa!==a?da=ra=[ra,Ca,Ha,Oa]:(c=da,da=a)}else c=da,da=a}else c=da,da=a}else c=da,da=a;for(;da!==a;)z.push(da),da=c,ra=oa(),ra!==a?(Ca=e(),Ca!==a?(Ha=oa(),Ha!==a?(Oa=u(),Oa!==a?da=ra=[ra,Ca,Ha,Oa]:(c=da,da=a)):(c=da,da=a)):(c=da,da=a)):(c=da,da=a);z!==a?l=D=bb(D,z):(c=
l,l=a)}else c=l,l=a;return l}function u(){var l=c;var D=M();if(D===a){D=c;if(33===h.charCodeAt(c)){var z=Ra;c++}else z=a,0===pa&&C(vb);if(z!==a){var da=c;pa++;if(61===h.charCodeAt(c)){var ra=zb;c++}else ra=a,0===pa&&C(Fb);pa--;ra===a?da=void 0:(c=da,da=a);da!==a?D=z=[z,da]:(c=D,D=a)}else c=D,D=a}D!==a?(z=oa(),z!==a?(da=u(),da!==a?l=D={type:"unary_expr",operator:"NOT",expr:da}:(c=l,l=a)):(c=l,l=a)):(c=l,l=a);if(l===a)if(l=c,D=F(),D!==a)if(z=oa(),z!==a){z=[];da=c;ra=oa();if(ra!==a){var Ca=E();if(Ca!==
a){var Ha=oa();if(Ha!==a){var Oa=F();Oa!==a?da=ra=[ra,Ca,Ha,Oa]:(c=da,da=a)}else c=da,da=a}else c=da,da=a}else c=da,da=a;if(da!==a)for(;da!==a;)z.push(da),da=c,ra=oa(),ra!==a?(Ca=E(),Ca!==a?(Ha=oa(),Ha!==a?(Oa=F(),Oa!==a?da=ra=[ra,Ca,Ha,Oa]:(c=da,da=a)):(c=da,da=a)):(c=da,da=a)):(c=da,da=a);else z=a;z!==a&&(z={type:"arithmetic",tail:z});z===a&&(z=c,da=A(),da!==a?(ra=oa(),ra!==a?(ra=Aa(),ra!==a?(ra=oa(),ra!==a?(ra=R(),ra!==a?(Ca=oa(),Ca!==a?(Ca=Ea(),Ca!==a?z=da={op:da,right:ra}:(c=z,z=a)):(c=z,z=a)):
(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a),z===a&&(z=c,da=A(),da!==a?(ra=oa(),ra!==a?(ra=Aa(),ra!==a?(ra=oa(),ra!==a?(ra=Ea(),ra!==a?z=da={op:da,right:{type:"expr_list",value:[]}}:(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a),z===a&&(z=c,da=A(),da!==a?(ra=oa(),ra!==a?(ra=p(),ra!==a?z=da={op:da,right:ra}:(c=z,z=a)):(c=z,z=a)):(c=z,z=a))),z===a&&(z=c,ra=M(),ra!==a?(da=oa(),da!==a?(da=I(),da!==a?(Ca=oa(),Ca!==a?(Ca=F(),Ca!==a?(Ha=oa(),Ha!==a?(Ha=e(),Ha!==a?(ra=oa(),ra!==a?(ra=F(),
ra!==a?z=ra={op:"NOT"+da,right:{type:"expr_list",value:[Ca,ra]}}:(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a),z===a&&(z=c,ra=I(),ra!==a?(da=oa(),da!==a?(da=F(),da!==a?(Ca=oa(),Ca!==a?(Ca=e(),Ca!==a?(Ha=oa(),Ha!==a?(Ha=F(),Ha!==a?z=ra={op:ra,right:{type:"expr_list",value:[da,Ha]}}:(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)),z===a&&(z=c,da=b(),da!==a?(ra=oa(),ra!==a?(ra=M(),ra!==a?(ra=oa(),ra!==a?(ra=F(),ra!==a?z=
da={op:da+"NOT",right:ra}:(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a),z===a&&(z=c,da=b(),da!==a?(ra=oa(),ra!==a?(ra=F(),ra!==a?z=da={op:da,right:ra}:(c=z,z=a)):(c=z,z=a)):(c=z,z=a)),z===a&&(z=c,da=x(),da!==a?(ra=oa(),ra!==a?(ra=la(),ra!==a?(Ca=oa(),Ca!==a?(Ca=c,h.substr(c,6).toLowerCase()===zd?(Ha=h.substr(c,6),c+=6):(Ha=a,0===pa&&C(Ad)),Ha!==a?(Ha=c,pa++,Oa=P(),pa--,Oa===a?Ha=void 0:(c=Ha,Ha=a),Ha!==a?Ca="ESCAPE":(c=Ca,Ca=a)):(c=Ca,Ca=a),Ca!==a?(Ca=oa(),Ca!==a?(Ca=qa(),Ca!==a?z=da={op:da,
right:ra,escape:Ca.value}:(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a),z===a&&(z=c,da=x(),da!==a?(ra=oa(),ra!==a?(ra=la(),ra!==a?z=da={op:da,right:ra,escape:""}:(c=z,z=a)):(c=z,z=a)):(c=z,z=a))))));z===a&&(z=null);z!==a?(l=D,D=z,""==D||void 0==D||null==D?D=l:(z=null,D=z="arithmetic"==D.type?bb(l,D.tail):fb(D.op,l,D.right,D.escape)),l=D):(c=l,l=a)}else c=l,l=a;else c=l,l=a;return l}function E(){if(h.substr(c,2)===ec){var l=ec;c+=2}else l=a,0===pa&&C(mb);l===a&&(62===
h.charCodeAt(c)?(l=yb,c++):(l=a,0===pa&&C(Va)),l===a&&(h.substr(c,2)===kb?(l=kb,c+=2):(l=a,0===pa&&C(tb)),l===a&&(h.substr(c,2)===Pa?(l=Pa,c+=2):(l=a,0===pa&&C(Gb)),l===a&&(60===h.charCodeAt(c)?(l=V,c++):(l=a,0===pa&&C(fa)),l===a&&(61===h.charCodeAt(c)?(l=zb,c++):(l=a,0===pa&&C(Fb)),l===a&&(h.substr(c,2)===U?(l=U,c+=2):(l=a,0===pa&&C(ka))))))));return l}function x(){var l=l=c;var D=M();if(D!==a){var z=oa();if(z!==a){var da=g();da!==a?l=D=[D,z,da]:(c=l,l=a)}else c=l,l=a}else c=l,l=a;l!==a&&(l=l[0]+
" "+l[2]);l===a&&(l=g());return l}function A(){var l=l=c;var D=M();if(D!==a){var z=oa();if(z!==a){var da=sa();da!==a?l=D=[D,z,da]:(c=l,l=a)}else c=l,l=a}else c=l,l=a;l!==a&&(l=l[0]+" "+l[2]);l===a&&(l=sa());return l}function F(){var l=c;var D=ha();if(D!==a){var z=[];var da=c;var ra=oa();if(ra!==a){var Ca=S();if(Ca!==a){var Ha=oa();if(Ha!==a){var Oa=ha();Oa!==a?da=ra=[ra,Ca,Ha,Oa]:(c=da,da=a)}else c=da,da=a}else c=da,da=a}else c=da,da=a;for(;da!==a;)z.push(da),da=c,ra=oa(),ra!==a?(Ca=S(),Ca!==a?(Ha=
oa(),Ha!==a?(Oa=ha(),Oa!==a?da=ra=[ra,Ca,Ha,Oa]:(c=da,da=a)):(c=da,da=a)):(c=da,da=a)):(c=da,da=a);z!==a?l=D=bb(D,z):(c=l,l=a)}else c=l,l=a;return l}function S(){if(43===h.charCodeAt(c)){var l=ua;c++}else l=a,0===pa&&C(xa);l===a&&(45===h.charCodeAt(c)?(l=Ia,c++):(l=a,0===pa&&C(Ma)));return l}function ha(){var l=c;var D=ja();if(D!==a){var z=[];var da=c;var ra=oa();if(ra!==a){var Ca=ca();if(Ca!==a){var Ha=oa();if(Ha!==a){var Oa=ja();Oa!==a?da=ra=[ra,Ca,Ha,Oa]:(c=da,da=a)}else c=da,da=a}else c=da,da=
a}else c=da,da=a;for(;da!==a;)z.push(da),da=c,ra=oa(),ra!==a?(Ca=ca(),Ca!==a?(Ha=oa(),Ha!==a?(Oa=ja(),Oa!==a?da=ra=[ra,Ca,Ha,Oa]:(c=da,da=a)):(c=da,da=a)):(c=da,da=a)):(c=da,da=a);z!==a?l=D=bb(D,z):(c=l,l=a)}else c=l,l=a;return l}function ca(){if(42===h.charCodeAt(c)){var l=$a;c++}else l=a,0===pa&&C(Za);l===a&&(47===h.charCodeAt(c)?(l=Ya,c++):(l=a,0===pa&&C(ib)));return l}function ja(){var l=qa();if(l===a){var D=c;var z=c;var da=Na();if(da!==a){var ra=Ta();if(ra!==a){var Ca=Ka();Ca!==a?z=da=parseFloat(da+
ra+Ca):(c=z,z=a)}else c=z,z=a}else c=z,z=a;z===a&&(z=c,da=Na(),da!==a?(ra=Ta(),ra!==a?z=da=parseFloat(da+ra):(c=z,z=a)):(c=z,z=a),z===a&&(z=c,da=Na(),da!==a?(ra=Ka(),ra!==a?z=da=parseFloat(da+ra):(c=z,z=a)):(c=z,z=a),z===a&&(z=c,da=Na(),da!==a&&(da=parseFloat(da)),z=da)));var Ha=z;if(Ha!==a){var Oa=c;pa++;var Bd=L();pa--;Bd===a?Oa=void 0:(c=Oa,Oa=a);Oa!==a?D=Ha={type:"number",value:Ha}:(c=D,D=a)}else c=D,D=a;l=D;if(l===a){var Rb=c;var Hb=c;if(h.substr(c,4).toLowerCase()===Cd){var gc=h.substr(c,4);
c+=4}else gc=a,0===pa&&C(Dd);if(gc!==a){var Sb=c;pa++;var Ed=P();pa--;Ed===a?Sb=void 0:(c=Sb,Sb=a);Sb!==a?Hb=gc=[gc,Sb]:(c=Hb,Hb=a)}else c=Hb,Hb=a;var Cb=Hb;Cb!==a&&(Cb={type:"bool",value:!0});Rb=Cb;if(Rb===a){Rb=c;var Ib=c;if(h.substr(c,5).toLowerCase()===Fd){var hc=h.substr(c,5);c+=5}else hc=a,0===pa&&C(Gd);if(hc!==a){var Tb=c;pa++;var Hd=P();pa--;Hd===a?Tb=void 0:(c=Tb,Tb=a);Tb!==a?Ib=hc=[hc,Tb]:(c=Ib,Ib=a)}else c=Ib,Ib=a;Cb=Ib;Cb!==a&&(Cb={type:"bool",value:!1});Rb=Cb}l=Rb;if(l===a){var Jb=c;
if(h.substr(c,4).toLowerCase()===Id){var ic=h.substr(c,4);c+=4}else ic=a,0===pa&&C(Jd);if(ic!==a){var Ub=c;pa++;var Kd=P();pa--;Kd===a?Ub=void 0:(c=Ub,Ub=a);Ub!==a?Jb=ic=[ic,Ub]:(c=Jb,Jb=a)}else c=Jb,Jb=a;var wc=Jb;wc!==a&&(wc={type:"null",value:null});l=wc;if(l===a){var Ab=c;var Kb=c;if(h.substr(c,4).toLowerCase()===Ld){var xc=h.substr(c,4);c+=4}else xc=a,0===pa&&C(Md);if(xc!==a){var jc=c;pa++;var Nd=P();pa--;Nd===a?jc=void 0:(c=jc,jc=a);jc!==a?Kb=xc="DATE":(c=Kb,Kb=a)}else c=Kb,Kb=a;var Wc=Kb;if(Wc!==
a){var Od=oa();if(Od!==a){var Xc=la();Xc!==a?Ab=Wc={type:"date",value:Xc.value}:(c=Ab,Ab=a)}else c=Ab,Ab=a}else c=Ab,Ab=a;l=Ab;if(l===a){var Bb=c;var Lb=c;if(h.substr(c,9).toLowerCase()===Pd){var yc=h.substr(c,9);c+=9}else yc=a,0===pa&&C(Qd);if(yc!==a){var kc=c;pa++;var Rd=P();pa--;Rd===a?kc=void 0:(c=kc,kc=a);kc!==a?Lb=yc="TIMESTAMP":(c=Lb,Lb=a)}else c=Lb,Lb=a;var Yc=Lb;if(Yc!==a){var Sd=oa();if(Sd!==a){var Zc=la();Zc!==a?Bb=Yc={type:"timestamp",value:Zc.value}:(c=Bb,Bb=a)}else c=Bb,Bb=a}else c=
Bb,Bb=a;l=Bb;if(l===a){var Wa=c;var Vb=Y();if(Vb!==a){var zc=oa();if(zc!==a){if(45===h.charCodeAt(c)){var wb=Ia;c++}else wb=a,0===pa&&C(Ma);wb===a&&(43===h.charCodeAt(c)?(wb=ua,c++):(wb=a,0===pa&&C(xa)));if(wb!==a){var Ac=oa();if(Ac!==a){var Wb=la();if(Wb!==a){var Td=oa();if(Td!==a){var $c=H();$c!==a?Wa=Vb={type:"interval",value:Wb,qualifier:$c,op:wb}:(c=Wa,Wa=a)}else c=Wa,Wa=a}else c=Wa,Wa=a}else c=Wa,Wa=a}else c=Wa,Wa=a}else c=Wa,Wa=a}else c=Wa,Wa=a;Wa===a&&(Wa=c,Vb=Y(),Vb!==a?(zc=oa(),zc!==a?(wb=
la(),wb!==a?(Ac=oa(),Ac!==a?(Wb=H(),Wb!==a?Wa=Vb={type:"interval",value:wb,qualifier:Wb,op:""}:(c=Wa,Wa=a)):(c=Wa,Wa=a)):(c=Wa,Wa=a)):(c=Wa,Wa=a)):(c=Wa,Wa=a));l=Wa}}}}}}var Ua=l;if(Ua===a){var db=c;var Mb=c;if(h.substr(c,7).toLowerCase()===Ud){var Bc=h.substr(c,7);c+=7}else Bc=a,0===pa&&C(Vd);if(Bc!==a){var lc=c;pa++;var Wd=P();pa--;Wd===a?lc=void 0:(c=lc,lc=a);lc!==a?Mb=Bc="EXTRACT":(c=Mb,Mb=a)}else c=Mb,Mb=a;var ad=Mb;if(ad!==a){var Xd=oa();if(Xd!==a){var Yd=Aa();if(Yd!==a){var Zd=oa();if(Zd!==
a){var qb=y();qb===a&&(qb=G(),qb===a&&(qb=X(),qb===a&&(qb=ma(),qb===a&&(qb=na(),qb===a&&(qb=ta())))));var bd=qb;if(bd!==a){var $d=oa();if($d!==a){var ae=N();if(ae!==a){var be=oa();if(be!==a){var cd=f();if(cd!==a){var ce=oa();if(ce!==a){var de=Ea();de!==a?db=ad={type:"function",name:"extract",args:{type:"expr_list",value:[{type:"string",value:bd},cd]}}:(c=db,db=a)}else c=db,db=a}else c=db,db=a}else c=db,db=a}else c=db,db=a}else c=db,db=a}else c=db,db=a}else c=db,db=a}else c=db,db=a}else c=db,db=a}else c=
db,db=a;Ua=db;if(Ua===a){var ab=c;var Nb=c;if(h.substr(c,9).toLowerCase()===ee){var Cc=h.substr(c,9);c+=9}else Cc=a,0===pa&&C(fe);if(Cc!==a){var mc=c;pa++;var ge=P();pa--;ge===a?mc=void 0:(c=mc,mc=a);mc!==a?Nb=Cc="SUBSTRING":(c=Nb,Nb=a)}else c=Nb,Nb=a;var dd=Nb;if(dd!==a){var he=oa();if(he!==a){var ie=Aa();if(ie!==a){var je=oa();if(je!==a){var Dc=f();if(Dc!==a){var ke=oa();if(ke!==a){var le=N();if(le!==a){var me=oa();if(me!==a){var Ec=f();if(Ec!==a){var ne=oa();if(ne!==a){var lb=c;var Ob=c;if(h.substr(c,
3).toLowerCase()===oe){var Fc=h.substr(c,3);c+=3}else Fc=a,0===pa&&C(pe);if(Fc!==a){var nc=c;pa++;var qe=P();pa--;qe===a?nc=void 0:(c=nc,nc=a);nc!==a?Ob=Fc="FOR":(c=Ob,Ob=a)}else c=Ob,Ob=a;var Xb=Ob;if(Xb!==a){var ed=oa();if(ed!==a){var fd=f();if(fd!==a){var gd=oa();gd!==a?lb=Xb=[Xb,ed,fd,gd]:(c=lb,lb=a)}else c=lb,lb=a}else c=lb,lb=a}else c=lb,lb=a;lb===a&&(lb=null);lb!==a?(Xb=Ea(),Xb!==a?ab=dd={type:"function",name:"substring",args:{type:"expr_list",value:lb?[Dc,Ec,lb[2]]:[Dc,Ec]}}:(c=ab,ab=a)):
(c=ab,ab=a)}else c=ab,ab=a}else c=ab,ab=a}else c=ab,ab=a}else c=ab,ab=a}else c=ab,ab=a}else c=ab,ab=a}else c=ab,ab=a}else c=ab,ab=a}else c=ab,ab=a}else c=ab,ab=a;Ua=ab;if(Ua===a){var La=c;var Yb=aa();if(Yb!==a){var Gc=oa();if(Gc!==a){var Hc=Aa();if(Hc!==a){var Ic=oa();if(Ic!==a){var rb=n();rb===a&&(rb=null);if(rb!==a){var Jc=oa();if(Jc!==a){var Zb=f();if(Zb!==a){var Kc=oa();if(Kc!==a){var Lc=N();if(Lc!==a){var re=oa();if(re!==a){var hd=f();if(hd!==a){var se=oa();if(se!==a){var te=Ea();te!==a?La=Yb=
{type:"function",name:"trim",args:{type:"expr_list",value:[{type:"string",value:null==rb?"BOTH":rb},Zb,hd]}}:(c=La,La=a)}else c=La,La=a}else c=La,La=a}else c=La,La=a}else c=La,La=a}else c=La,La=a}else c=La,La=a}else c=La,La=a}else c=La,La=a}else c=La,La=a}else c=La,La=a}else c=La,La=a}else c=La,La=a;La===a&&(La=c,Yb=aa(),Yb!==a?(Gc=oa(),Gc!==a?(Hc=Aa(),Hc!==a?(Ic=oa(),Ic!==a?(rb=n(),rb===a&&(rb=null),rb!==a?(Jc=oa(),Jc!==a?(Zb=f(),Zb!==a?(Kc=oa(),Kc!==a?(Lc=Ea(),Lc!==a?La=Yb={type:"function",name:"trim",
args:{type:"expr_list",value:[{type:"string",value:null==rb?"BOTH":rb},Zb]}}:(c=La,La=a)):(c=La,La=a)):(c=La,La=a)):(c=La,La=a)):(c=La,La=a)):(c=La,La=a)):(c=La,La=a)):(c=La,La=a)):(c=La,La=a));Ua=La;if(Ua===a){var eb=c;var Pb=c;if(h.substr(c,8).toLowerCase()===ue){var Mc=h.substr(c,8);c+=8}else Mc=a,0===pa&&C(ve);if(Mc!==a){var oc=c;pa++;var we=P();pa--;we===a?oc=void 0:(c=oc,oc=a);oc!==a?Pb=Mc="POSITION":(c=Pb,Pb=a)}else c=Pb,Pb=a;var id=Pb;if(id!==a){var xe=oa();if(xe!==a){var ye=Aa();if(ye!==
a){var ze=oa();if(ze!==a){var jd=f();if(jd!==a){var Ae=oa();if(Ae!==a){var Be=sa();if(Be!==a){var Ce=oa();if(Ce!==a){var kd=f();if(kd!==a){var De=oa();if(De!==a){var Ee=Ea();Ee!==a?eb=id={type:"function",name:"position",args:{type:"expr_list",value:[jd,kd]}}:(c=eb,eb=a)}else c=eb,eb=a}else c=eb,eb=a}else c=eb,eb=a}else c=eb,eb=a}else c=eb,eb=a}else c=eb,eb=a}else c=eb,eb=a}else c=eb,eb=a}else c=eb,eb=a}else c=eb,eb=a;Ua=eb;if(Ua===a){var jb=c;var $b;var sb=c;sb=$b=K();if(sb===a)if(sb=c,96===h.charCodeAt(c)?
($b=ld,c++):($b=a,0===pa&&C(md)),$b!==a){var pc=[];if(nd.test(h.charAt(c))){var xb=h.charAt(c);c++}else xb=a,0===pa&&C(od);if(xb!==a)for(;xb!==a;)pc.push(xb),nd.test(h.charAt(c))?(xb=h.charAt(c),c++):(xb=a,0===pa&&C(od));else pc=a;pc!==a?(96===h.charCodeAt(c)?(xb=ld,c++):(xb=a,0===pa&&C(md)),xb!==a?sb=$b=pc.join(""):(c=sb,sb=a)):(c=sb,sb=a)}else c=sb,sb=a;var Nc=sb;if(Nc!==a){var Fe=oa();if(Fe!==a){var Ge=Aa();if(Ge!==a){var He=oa();if(He!==a){var ac=R();ac===a&&(ac=null);if(ac!==a){var Ie=oa();if(Ie!==
a){var Je=Ea();Je!==a?jb=Nc={type:"function",name:Nc,args:ac?ac:{type:"expr_list",value:[]}}:(c=jb,jb=a)}else c=jb,jb=a}else c=jb,jb=a}else c=jb,jb=a}else c=jb,jb=a}else c=jb,jb=a}else c=jb,jb=a;Ua=jb;if(Ua===a){var ob;var Qa=c;var bc=wa();if(bc!==a){var Oc=oa();if(Oc!==a){var cc=f();if(cc!==a){var Pc=oa();if(Pc!==a){var Db=[];for(ob=va();ob!==a;)Db.push(ob),ob=va();if(Db!==a)if(ob=oa(),ob!==a){var qc=ya();qc!==a?Qa=bc={type:"case_expression",format:"simple",operand:cc,clauses:Db,else:null}:(c=Qa,
Qa=a)}else c=Qa,Qa=a;else c=Qa,Qa=a}else c=Qa,Qa=a}else c=Qa,Qa=a}else c=Qa,Qa=a}else c=Qa,Qa=a;if(Qa===a)if(Qa=c,bc=wa(),bc!==a)if(Oc=oa(),Oc!==a)if(cc=f(),cc!==a)if(Pc=oa(),Pc!==a){Db=[];for(ob=va();ob!==a;)Db.push(ob),ob=va();if(Db!==a)if(ob=oa(),ob!==a)if(qc=Ba(),qc!==a){var Ke=oa();if(Ke!==a){var Le=ya();Le!==a?Qa=bc={type:"case_expression",format:"simple",operand:cc,clauses:Db,else:qc.value}:(c=Qa,Qa=a)}else c=Qa,Qa=a}else c=Qa,Qa=a;else c=Qa,Qa=a;else c=Qa,Qa=a}else c=Qa,Qa=a;else c=Qa,Qa=
a;else c=Qa,Qa=a;else c=Qa,Qa=a;var Qc=Qa;if(Qc===a){var pb;var Xa=c;var dc=wa();if(dc!==a){var Rc=oa();if(Rc!==a){var Eb=[];for(pb=za();pb!==a;)Eb.push(pb),pb=za();if(Eb!==a)if(pb=oa(),pb!==a){var rc=ya();rc!==a?Xa=dc={type:"case_expression",format:"searched",clauses:Eb,else:null}:(c=Xa,Xa=a)}else c=Xa,Xa=a;else c=Xa,Xa=a}else c=Xa,Xa=a}else c=Xa,Xa=a;if(Xa===a)if(Xa=c,dc=wa(),dc!==a)if(Rc=oa(),Rc!==a){Eb=[];for(pb=za();pb!==a;)Eb.push(pb),pb=za();if(Eb!==a)if(pb=oa(),pb!==a)if(rc=Ba(),rc!==a){var Me=
oa();if(Me!==a){var Ne=ya();Ne!==a?Xa=dc={type:"case_expression",format:"searched",clauses:Eb,else:rc.value}:(c=Xa,Xa=a)}else c=Xa,Xa=a}else c=Xa,Xa=a;else c=Xa,Xa=a;else c=Xa,Xa=a}else c=Xa,Xa=a;else c=Xa,Xa=a;Qc=Xa}Ua=Qc;if(Ua===a){var sc;var Qb=c;var pd=L();if(pd!==a){var Sc=[];for(sc=Q();sc!==a;)Sc.push(sc),sc=Q();Sc!==a?Qb=pd+=Sc.join(""):(c=Qb,Qb=a)}else c=Qb,Qb=a;var tc=Qb;if(tc!==a){var Tc=tc;tc=/^CURRENT_DATE$/i.test(Tc)?{type:"current_time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(Tc)?{type:"current_time",
mode:"timestamp"}:{type:"column_ref",table:"",column:Tc}}Ua=tc;if(Ua===a&&(Ua=p(),Ua===a)){Ua=c;var qd=Aa();if(qd!==a){var Oe=oa();if(Oe!==a){var Uc=f();if(Uc!==a){var Pe=oa();if(Pe!==a){var Qe=Ea();Qe!==a?(Uc.paren=!0,Ua=qd=Uc):(c=Ua,Ua=a)}else c=Ua,Ua=a}else c=Ua,Ua=a}else c=Ua,Ua=a}else c=Ua,Ua=a}}}}}}}}return Ua}function K(){var l;var D=c;var z=L();if(z!==a){var da=[];for(l=P();l!==a;)da.push(l),l=P();da!==a?D=z+=da.join(""):(c=D,D=a)}else c=D,D=a;return D}function L(){if(nb.test(h.charAt(c))){var l=
h.charAt(c);c++}else l=a,0===pa&&C(Re);return l}function P(){if(Se.test(h.charAt(c))){var l=h.charAt(c);c++}else l=a,0===pa&&C(Te);return l}function Q(){if(Ue.test(h.charAt(c))){var l=h.charAt(c);c++}else l=a,0===pa&&C(Ve);return l}function p(){var l=c;if(64===h.charCodeAt(c)){var D=We;c++}else D=a,0===pa&&C(Xe);if(D!==a){var z=K();z!==a?l=D=[D,z]:(c=l,l=a)}else c=l,l=a;l!==a&&(l={type:"param",value:l[1]});return l}function n(){var l=c;if(h.substr(c,7).toLowerCase()===Ye){var D=h.substr(c,7);c+=7}else D=
a,0===pa&&C(Ze);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="LEADING":(c=l,l=a)}else c=l,l=a;l===a&&(l=c,h.substr(c,8).toLowerCase()===$e?(D=h.substr(c,8),c+=8):(D=a,0===pa&&C(af)),D!==a?(D=c,pa++,z=P(),pa--,z===a?D=void 0:(c=D,D=a),D!==a?l="TRAILING":(c=l,l=a)):(c=l,l=a),l===a&&(l=c,h.substr(c,4).toLowerCase()===bf?(D=h.substr(c,4),c+=4):(D=a,0===pa&&C(cf)),D!==a?(D=c,pa++,z=P(),pa--,z===a?D=void 0:(c=D,D=a),D!==a?l="BOTH":(c=l,l=a)):(c=l,l=a)));return l}function H(){var l=
c;var D=c;var z=O();if(z!==a){var da=oa();if(da!==a)if(da=Aa(),da!==a)if(da=oa(),da!==a)if(da=ia(),da!==a){var ra=oa();ra!==a?(ra=Ea(),ra!==a?D=z={type:"interval-period",period:z.value,precision:da,secondary:null}:(c=D,D=a)):(c=D,D=a)}else c=D,D=a;else c=D,D=a;else c=D,D=a;else c=D,D=a}else c=D,D=a;D===a&&(D=c,z=O(),z!==a&&(z=rd(z)),D=z);if(D!==a)if(z=oa(),z!==a)if(z=c,h.substr(c,2).toLowerCase()===df?(da=h.substr(c,2),c+=2):(da=a,0===pa&&C(ef)),da!==a?(da=c,pa++,ra=P(),pa--,ra===a?da=void 0:(c=da,
da=a),da!==a?z="TO":(c=z,z=a)):(c=z,z=a),z!==a)if(z=oa(),z!==a){z=c;da=O();da!==a&&(da={type:"interval-period",period:da.value,precision:null,secondary:null});z=da;if(z===a){z=c;da=ta();if(da!==a)if(da=oa(),da!==a)if(da=Aa(),da!==a)if(da=oa(),da!==a)if(da=ia(),da!==a)if(ra=oa(),ra!==a)if(ra=Fa(),ra!==a)if(ra=oa(),ra!==a)if(ra=ea(),ra!==a){var Ca=oa();Ca!==a?(Ca=Ea(),Ca!==a?z=da=sd(da,ra):(c=z,z=a)):(c=z,z=a)}else c=z,z=a;else c=z,z=a;else c=z,z=a;else c=z,z=a;else c=z,z=a;else c=z,z=a;else c=z,z=
a;else c=z,z=a;else c=z,z=a;z===a&&(z=c,da=ta(),da!==a?(da=oa(),da!==a?(da=Aa(),da!==a?(da=oa(),da!==a?(da=ia(),da!==a?(ra=oa(),ra!==a?(ra=Ea(),ra!==a?z=da={type:"interval-period",period:"second",precision:da,secondary:null}:(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a)):(c=z,z=a),z===a&&(z=c,da=ta(),da!==a&&(da={type:"interval-period",period:"second",precision:null,secondary:null}),z=da))}z!==a?l=D={type:"interval-qualifier",start:D,end:z}:(c=l,l=a)}else c=l,l=a;else c=l,l=a;else c=
l,l=a;else c=l,l=a;l===a&&(l=c,z=O(),z!==a?(D=oa(),D!==a?(D=Aa(),D!==a?(D=oa(),D!==a?(D=ea(),D!==a?(da=oa(),da!==a?(da=Ea(),da!==a?l=z={type:"interval-period",period:z.value,precision:D,secondary:null}:(c=l,l=a)):(c=l,l=a)):(c=l,l=a)):(c=l,l=a)):(c=l,l=a)):(c=l,l=a)):(c=l,l=a),l===a&&(l=c,z=O(),z!==a&&(z=rd(z)),l=z,l===a&&(l=c,z=ta(),z!==a?(D=oa(),D!==a?(D=Aa(),D!==a?(D=oa(),D!==a?(D=ia(),D!==a?(da=oa(),da!==a?(da=Fa(),da!==a?(z=oa(),z!==a?(z=ea(),z!==a?(da=oa(),da!==a?(da=Ea(),da!==a?l=z=sd(D,z):
(c=l,l=a)):(c=l,l=a)):(c=l,l=a)):(c=l,l=a)):(c=l,l=a)):(c=l,l=a)):(c=l,l=a)):(c=l,l=a)):(c=l,l=a)):(c=l,l=a)):(c=l,l=a),l===a&&(l=c,z=ta(),z!==a?(D=oa(),D!==a?(D=Aa(),D!==a?(D=oa(),D!==a?(D=ea(),D!==a?(da=oa(),da!==a?(da=Ea(),da!==a?l=z={type:"interval-period",period:"second",precision:D,secondary:null}:(c=l,l=a)):(c=l,l=a)):(c=l,l=a)):(c=l,l=a)):(c=l,l=a)):(c=l,l=a)):(c=l,l=a),l===a&&(l=c,z=ta(),z!==a&&(z={type:"interval-period",period:"second",precision:null,secondary:null}),l=z)))));return l}function O(){var l=
c;l=X();l!==a&&(l={type:"string",value:"day"});l===a&&(l=c,l=ma(),l!==a&&(l={type:"string",value:"hour"}),l===a&&(l=c,l=na(),l!==a&&(l={type:"string",value:"minute"}),l===a&&(l=c,l=G(),l!==a&&(l={type:"string",value:"month"}),l===a&&(l=c,l=y(),l!==a&&(l={type:"string",value:"year"})))));return l}function ea(){var l=Da();l!==a&&(l=parseFloat(l));return l}function ia(){var l=Da();l!==a&&(l=parseFloat(l));return l}function la(){var l=qa();l===a&&(l=p());return l}function qa(){var l=c;if(39===h.charCodeAt(c)){var D=
td;c++}else D=a,0===pa&&C(ud);D===a&&(h.substr(c,2)===vd?(D=vd,c+=2):(D=a,0===pa&&C(ff)));if(D!==a){D=[];var z=c;h.substr(c,2)===uc?(z=uc,c+=2):(z=a,0===pa&&C(wd));z!==a&&(z="'");z===a&&(xd.test(h.charAt(c))?(z=h.charAt(c),c++):(z=a,0===pa&&C(yd)));for(;z!==a;)D.push(z),z=c,h.substr(c,2)===uc?(z=uc,c+=2):(z=a,0===pa&&C(wd)),z!==a&&(z="'"),z===a&&(xd.test(h.charAt(c))?(z=h.charAt(c),c++):(z=a,0===pa&&C(yd)));D!==a?(39===h.charCodeAt(c)?(z=td,c++):(z=a,0===pa&&C(ud)),z!==a?l=D={type:"string",value:D.join("")}:
(c=l,l=a)):(c=l,l=a)}else c=l,l=a;return l}function za(){var l=c;var D=Ja();if(D!==a)if(D=oa(),D!==a)if(D=f(),D!==a){var z=oa();z!==a?(z=Ga(),z!==a?(z=oa(),z!==a?(z=f(),z!==a?l=D={type:"when_clause",operand:D,value:z}:(c=l,l=a)):(c=l,l=a)):(c=l,l=a)):(c=l,l=a)}else c=l,l=a;else c=l,l=a;else c=l,l=a;return l}function va(){var l=c;var D=Ja();if(D!==a)if(D=oa(),D!==a)if(D=f(),D!==a){var z=oa();z!==a?(z=Ga(),z!==a?(z=oa(),z!==a?(z=f(),z!==a?l=D={type:"when_clause",operand:D,value:z}:(c=l,l=a)):(c=l,l=
a)):(c=l,l=a)):(c=l,l=a)}else c=l,l=a;else c=l,l=a;else c=l,l=a;return l}function Ba(){var l=c;var D=c;if(h.substr(c,4).toLowerCase()===gf){var z=h.substr(c,4);c+=4}else z=a,0===pa&&C(hf);if(z!==a){z=c;pa++;var da=P();pa--;da===a?z=void 0:(c=z,z=a);z!==a?D="ELSE":(c=D,D=a)}else c=D,D=a;D!==a?(D=oa(),D!==a?(D=f(),D!==a?l={type:"else_clause",value:D}:(c=l,l=a)):(c=l,l=a)):(c=l,l=a);return l}function Na(){var l=Da();if(l===a){l=c;if(45===h.charCodeAt(c)){var D=Ia;c++}else D=a,0===pa&&C(Ma);D===a&&(43===
h.charCodeAt(c)?(D=ua,c++):(D=a,0===pa&&C(xa)));if(D!==a){var z=Da();z!==a?l=D=D[0]+z:(c=l,l=a)}else c=l,l=a}return l}function Ta(){var l=c;if(46===h.charCodeAt(c)){var D=jf;c++}else D=a,0===pa&&C(kf);D!==a?(D=Da(),D===a&&(D=null),D!==a?l="."+(null!=D?D:""):(c=l,l=a)):(c=l,l=a);return l}function Ka(){var l;var D=l=c;if(lf.test(h.charAt(c))){var z=h.charAt(c);c++}else z=a,0===pa&&C(mf);z!==a?(nf.test(h.charAt(c))?(z=h.charAt(c),c++):(z=a,0===pa&&C(of)),z===a&&(z=null),z!==a?D="e"+(null===z?"":z):(c=
D,D=a)):(c=D,D=a);D!==a?(z=Da(),z!==a?l=D+z:(c=l,l=a)):(c=l,l=a);return l}function Da(){var l=[];var D=Sa();if(D!==a)for(;D!==a;)l.push(D),D=Sa();else l=a;l!==a&&(l=l.join(""));return l}function Sa(){if(pf.test(h.charAt(c))){var l=h.charAt(c);c++}else l=a,0===pa&&C(qf);return l}function sa(){var l=c;if(h.substr(c,2).toLowerCase()===rf){var D=h.substr(c,2);c+=2}else D=a,0===pa&&C(sf);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="IN":(c=l,l=a)}else c=l,l=a;return l}function b(){var l=
c;if(h.substr(c,2).toLowerCase()===tf){var D=h.substr(c,2);c+=2}else D=a,0===pa&&C(uf);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="IS":(c=l,l=a)}else c=l,l=a;return l}function g(){var l=c;if(h.substr(c,4).toLowerCase()===vf){var D=h.substr(c,4);c+=4}else D=a,0===pa&&C(wf);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="LIKE":(c=l,l=a)}else c=l,l=a;return l}function M(){var l=c;if(h.substr(c,3).toLowerCase()===xf){var D=h.substr(c,3);c+=3}else D=a,0===pa&&
C(yf);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="NOT":(c=l,l=a)}else c=l,l=a;return l}function e(){var l=c;if(h.substr(c,3).toLowerCase()===zf){var D=h.substr(c,3);c+=3}else D=a,0===pa&&C(Af);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="AND":(c=l,l=a)}else c=l,l=a;return l}function t(){var l=c;if(h.substr(c,2).toLowerCase()===Bf){var D=h.substr(c,2);c+=2}else D=a,0===pa&&C(Cf);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="OR":(c=
l,l=a)}else c=l,l=a;return l}function I(){var l=c;if(h.substr(c,7).toLowerCase()===Df){var D=h.substr(c,7);c+=7}else D=a,0===pa&&C(Ef);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="BETWEEN":(c=l,l=a)}else c=l,l=a;return l}function N(){var l=c;if(h.substr(c,4).toLowerCase()===Ff){var D=h.substr(c,4);c+=4}else D=a,0===pa&&C(Gf);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="FROM":(c=l,l=a)}else c=l,l=a;return l}function aa(){var l=c;if(h.substr(c,4).toLowerCase()===
Hf){var D=h.substr(c,4);c+=4}else D=a,0===pa&&C(If);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="TRIM":(c=l,l=a)}else c=l,l=a;return l}function Y(){var l=c;if(h.substr(c,8).toLowerCase()===Jf){var D=h.substr(c,8);c+=8}else D=a,0===pa&&C(Kf);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="INTERVAL":(c=l,l=a)}else c=l,l=a;return l}function y(){var l=c;if(h.substr(c,4).toLowerCase()===Lf){var D=h.substr(c,4);c+=4}else D=a,0===pa&&C(Mf);if(D!==a){D=c;pa++;var z=
P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="YEAR":(c=l,l=a)}else c=l,l=a;return l}function G(){var l=c;if(h.substr(c,5).toLowerCase()===Nf){var D=h.substr(c,5);c+=5}else D=a,0===pa&&C(Of);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="MONTH":(c=l,l=a)}else c=l,l=a;return l}function X(){var l=c;if(h.substr(c,3).toLowerCase()===Pf){var D=h.substr(c,3);c+=3}else D=a,0===pa&&C(Qf);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="DAY":(c=l,l=a)}else c=l,l=a;return l}
function ma(){var l=c;if(h.substr(c,4).toLowerCase()===Rf){var D=h.substr(c,4);c+=4}else D=a,0===pa&&C(Sf);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="HOUR":(c=l,l=a)}else c=l,l=a;return l}function na(){var l=c;if(h.substr(c,6).toLowerCase()===Tf){var D=h.substr(c,6);c+=6}else D=a,0===pa&&C(Uf);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="MINUTE":(c=l,l=a)}else c=l,l=a;return l}function ta(){var l=c;if(h.substr(c,6).toLowerCase()===Vf){var D=h.substr(c,
6);c+=6}else D=a,0===pa&&C(Wf);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="SECOND":(c=l,l=a)}else c=l,l=a;return l}function wa(){var l=c;if(h.substr(c,4).toLowerCase()===Xf){var D=h.substr(c,4);c+=4}else D=a,0===pa&&C(Yf);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="CASE":(c=l,l=a)}else c=l,l=a;return l}function ya(){var l=c;if(h.substr(c,3).toLowerCase()===Zf){var D=h.substr(c,3);c+=3}else D=a,0===pa&&C($f);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=
void 0:(c=D,D=a);D!==a?l="END":(c=l,l=a)}else c=l,l=a;return l}function Ja(){var l=c;if(h.substr(c,4).toLowerCase()===ag){var D=h.substr(c,4);c+=4}else D=a,0===pa&&C(bg);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="WHEN":(c=l,l=a)}else c=l,l=a;return l}function Ga(){var l=c;if(h.substr(c,4).toLowerCase()===cg){var D=h.substr(c,4);c+=4}else D=a,0===pa&&C(dg);if(D!==a){D=c;pa++;var z=P();pa--;z===a?D=void 0:(c=D,D=a);D!==a?l="THEN":(c=l,l=a)}else c=l,l=a;return l}function Fa(){if(44===
h.charCodeAt(c)){var l=eg;c++}else l=a,0===pa&&C(fg);return l}function Aa(){if(40===h.charCodeAt(c)){var l=gg;c++}else l=a,0===pa&&C(hg);return l}function Ea(){if(41===h.charCodeAt(c)){var l=ig;c++}else l=a,0===pa&&C(jg);return l}function oa(){var l;var D=[];for(l=cb();l!==a;)D.push(l),l=cb();return D}function cb(){if(kg.test(h.charAt(c))){var l=h.charAt(c);c++}else l=a,0===pa&&C(lg);return l}function fb(l,D,z,da){l={type:"binary_expr",operator:l,left:D,right:z};void 0!==da&&(l.escape=da);return l}
function bb(l,D){for(var z=0;z<D.length;z++)l=fb(D[z][1],l,D[z][3]);return l}J=void 0!==J?J:{};var a={},hb={start:B},gb=B,Ra="!",vb=k("!",!1),zb="\x3d",Fb=k("\x3d",!1),ec="\x3e\x3d",mb=k("\x3e\x3d",!1),yb="\x3e",Va=k("\x3e",!1),kb="\x3c\x3d",tb=k("\x3c\x3d",!1),Pa="\x3c\x3e",Gb=k("\x3c\x3e",!1),V="\x3c",fa=k("\x3c",!1),U="!\x3d",ka=k("!\x3d",!1),ua="+",xa=k("+",!1),Ia="-",Ma=k("-",!1),$a="*",Za=k("*",!1),Ya="/",ib=k("/",!1),nb=/^[A-Za-z_\x80-\uFFFF]/,Re=w([["A","Z"],["a","z"],"_",["\u0080","\uffff"]],
!1,!1),Se=/^[A-Za-z0-9_]/,Te=w([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Ue=/^[A-Za-z0-9_.\x80-\uFFFF]/,Ve=w([["A","Z"],["a","z"],["0","9"],"_",".",["\u0080","\uffff"]],!1,!1),We="@",Xe=k("@",!1),rd=function(l){return{type:"interval-period",period:l.value,precision:null,secondary:null}},sd=function(l,D){return{type:"interval-period",period:"second",precision:l,secondary:D}},td="'",ud=k("'",!1),vd="N'",ff=k("N'",!1),uc="''",wd=k("''",!1),xd=/^[^']/,yd=w(["'"],!0,!1),jf=".",kf=k(".",!1),pf=/^[0-9]/,
qf=w([["0","9"]],!1,!1),lf=/^[eE]/,mf=w(["e","E"],!1,!1),nf=/^[+\-]/,of=w(["+","-"],!1,!1),Id="null",Jd=k("NULL",!0),Cd="true",Dd=k("TRUE",!0),Fd="false",Gd=k("FALSE",!0),rf="in",sf=k("IN",!0),tf="is",uf=k("IS",!0),vf="like",wf=k("LIKE",!0),zd="escape",Ad=k("ESCAPE",!0),xf="not",yf=k("NOT",!0),zf="and",Af=k("AND",!0),Bf="or",Cf=k("OR",!0),Df="between",Ef=k("BETWEEN",!0),Ff="from",Gf=k("FROM",!0),oe="for",pe=k("FOR",!0),ee="substring",fe=k("SUBSTRING",!0),Ud="extract",Vd=k("EXTRACT",!0),Hf="trim",
If=k("TRIM",!0),ue="position",ve=k("POSITION",!0),Pd="timestamp",Qd=k("TIMESTAMP",!0),Ld="date",Md=k("DATE",!0),Ye="leading",Ze=k("LEADING",!0),$e="trailing",af=k("TRAILING",!0),bf="both",cf=k("BOTH",!0),df="to",ef=k("TO",!0),Jf="interval",Kf=k("INTERVAL",!0),Lf="year",Mf=k("YEAR",!0),Nf="month",Of=k("MONTH",!0),Pf="day",Qf=k("DAY",!0),Rf="hour",Sf=k("HOUR",!0),Tf="minute",Uf=k("MINUTE",!0),Vf="second",Wf=k("SECOND",!0),Xf="case",Yf=k("CASE",!0),Zf="end",$f=k("END",!0),ag="when",bg=k("WHEN",!0),cg=
"then",dg=k("THEN",!0),gf="else",hf=k("ELSE",!0),eg=",",fg=k(",",!1),gg="(",hg=k("(",!1),ig=")",jg=k(")",!1),kg=/^[ \t\n\r]/,lg=w([" ","\t","\n","\r"],!1,!1),ld="`",md=k("`",!1),nd=/^[^`]/,od=w(["`"],!0,!1),c=0,fc=[{line:1,column:1}],ub=0,vc=[],pa=0;if("startRule"in J){if(!(J.startRule in hb))throw Error("Can't start parsing from rule \""+J.startRule+'".');gb=hb[J.startRule]}var Vc=gb();if(Vc!==a&&c===h.length)return Vc;Vc!==a&&c<h.length&&C({type:"end"});throw function(l,D,z){return new v(v.buildMessage(l,
D),l,D,z)}(vc,ub<h.length?h.charAt(ub):null,ub<h.length?W(ub,ub+1):W(ub,ub));}}})})(Z);let T=function(){function m(){}m.parse=function(v){return Z.exports.parse(v)};return m}();q.WhereGrammar=T;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],function(q){q.commonjsGlobal="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};q.commonjsRequire=
function(d){throw Error('Could not dynamically require "'+d+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');};q.getDefaultExportFromCjs=function(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d["default"]:d}})},"esri/layers/graphics/data/QueryEngineCapabilities":function(){define(["exports"],function(q){q.queryCapabilities={supportsStatistics:!0,supportsPercentileStatistics:!0,
supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,
maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/graphics/data/QueryEngineResult":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../geometry/support/quantizationUtils ../../../geometry/support/spatialReferenceUtils ../featureConversionUtils ./AttributesBuilder ./attributeSupport ./projectionSupport ./timeSupport ./utils ../../support/fieldUtils ../../../smartMapping/statistics/support/utils ../../../support/arcadeOnDemand".split(" "),
function(q,d,Z,T,m,v,h,J,k,w,ba,W,C){function B(u){return u.substr(24,12)+u.substr(19,4)+u.substr(16,2)+u.substr(14,2)+u.substr(11,2)+u.substr(9,2)+u.substr(6,2)+u.substr(4,2)+u.substr(2,2)+u.substr(0,2)}function R(u,E,x,A){if(x&&"esriFieldTypeDate"===x.type){const F=(new Date(u)).getTime(),S=(new Date(E)).getTime();if(!isNaN(F)&&!isNaN(S))return A?S-F:F-S}return"number"===typeof u&&"number"===typeof E?A?E-u:u-E:"string"===typeof u&&"string"===typeof E?(u=u.toUpperCase(),E=E.toUpperCase(),!x||"esriFieldTypeGUID"!==
x.type&&"esriFieldTypeGlobalID"!==x.type?A=(A?u>E:u<E)?-1:(A?u<E:u>E)?1:0:(x=B(u),E=B(E),A=(A?x>E:x<E)?-1:(A?x<E:x>E)?1:0),A):A?1:-1}function f(u,E,x,A,F,S){F-=x;S-=A;u=Math.min(1,Math.max(0,((u-x)*F+(E-A)*S)/(F*F+S*S)));return{x:x+F*u,y:A+S*u}}function r(u,E){return u?E?4:3:E?3:2}return function(){function u(x,A,F){this.items=x;this.queryGeometry=A;this.definitionExpression=F.definitionExpression;this.geometryType=F.geometryType;this.hasM=F.hasM;this.hasZ=F.hasZ;this.objectIdField=F.objectIdField;
this.spatialReference=F.spatialReference;this.fieldsIndex=F.fieldsIndex;this.timeInfo=F.timeInfo;this.featureAdapter=F.featureAdapter;this.aggregateAdapter=F.aggregateAdapter}var E=u.prototype;E.createQueryResponseForCount=function(x){const A=new v(x,this.featureAdapter,this.fieldsIndex);if(!x.outStatistics)return A.countDistinctValues(this.items);const {groupByFieldsForStatistics:F,having:S}=x;if(null==F||!F.length)return 1;const ha=new Map,ca=new Map,ja=new Set;x=x.outStatistics;for(const L of x){({statisticType:x}=
L);x="exceedslimit"!==x?L.onStatisticField:void 0;if(!ca.has(x)){var K=[];for(const P of F){const Q=this._getAttributeValues(A,P,ha);K.push(Q)}ca.set(x,this._calculateUniqueValues(K,A.returnDistinctValues))}x=ca.get(x);for(const P in x){const {data:Q,items:p}=x[P];K=Q.join(",");S&&!A.validateItems(p,S)||ja.add(K)}}return ja.size};E.createQueryResponse=function(x){let A;A=x.outStatistics?x.outStatistics.some(F=>"exceedslimit"===F.statisticType)?this._createExceedsLimitQueryResponse(x):this._createStatisticsQueryResponse(x):
this._createFeatureQueryResponse(x);x.returnQueryGeometry&&(T.isValid(x.outSR)&&!T.equals(this.queryGeometry.spatialReference,x.outSR)?A.queryGeometry=w.cleanFromGeometryEngine({spatialReference:x.outSR,...J.project(this.queryGeometry,this.queryGeometry.spatialReference,x.outSR)}):A.queryGeometry=w.cleanFromGeometryEngine({spatialReference:x.outSR,...this.queryGeometry}));return A};E.createSnappingResponse=function(x,A){const F=this.featureAdapter,S=r(this.hasZ,this.hasM),{x:ha,y:ca}=x.point,ja="number"===
typeof x.distance?x.distance:x.distance.x,K="number"===typeof x.distance?x.distance:x.distance.y,L={candidates:[]},P="esriGeometryPolygon"===this.geometryType;A=this.getPointCreator(x.point,this.spatialReference,A);for(const la of this.items){var Q=F.getGeometry(la);if(d.isNone(Q))continue;const {coords:qa,lengths:za}=Q;if(x.types&1){Q=0;for(var p=0;p<za.length;p++){var n=za[p];for(var H=0;H<n;H++,Q+=S){var O=qa[Q],ea=qa[Q+1];if(H!==n-1){const va=qa[Q+S],Ba=qa[Q+S+1],{x:Na,y:Ta}=f(ha,ca,O,ea,va,Ba);
var ia=(ha-Na)/ja;const Ka=(ca-Ta)/K;ia=ia*ia+Ka*Ka;1>=ia&&L.candidates.push({type:"edge",objectId:F.getObjectId(la),distance:Math.sqrt(ia),target:A(Na,Ta),start:A(O,ea),end:A(va,Ba)})}}}}if(x.types&2)for(Q=P?qa.length-S:qa.length,p=0;p<Q;p+=S)n=qa[p],H=qa[p+1],O=(ha-n)/ja,ea=(ca-H)/K,O=O*O+ea*ea,1>=O&&L.candidates.push({type:"vertex",objectId:F.getObjectId(la),distance:Math.sqrt(O),target:A(n,H)})}L.candidates.sort((la,qa)=>la.distance-qa.distance);return L};E.getPointCreator=function(x,A,F){const S=
d.isSome(F)&&!T.equals(A,F)?ha=>J.project(ha,A,F):ha=>ha;return null!=x.z&&null!=x.m?(ha,ca)=>S({x:ha,y:ca,z:x.z,m:x.m}):null!=x.z?(ha,ca)=>S({x:ha,y:ca,z:x.z}):null!=x.m?(ha,ca)=>S({x:ha,y:ca,m:x.m}):(ha,ca)=>S({x:ha,y:ca})};E.executeAttributesQuery=function(x){var A=h.getWhereClause(x.where,this.fieldsIndex);if(!A)return Promise.resolve(this);if(A.isStandardized){let F=0;const S=[];for(const ha of this.items)A.testFeature(ha,this.featureAdapter)&&(S[F++]=ha);A=new u(S,this.queryGeometry,this);A.definitionExpression=
x.where;return Promise.resolve(A)}return Promise.reject(new TypeError("Where clause is not standardized"))};E.executeAggregateIdsQuery=function(x){if(!x.aggregateIds||!x.aggregateIds.length||d.isNone(this.aggregateAdapter))return Promise.resolve(this);const A=new Set;for(const S of x.aggregateIds)this.aggregateAdapter.getFeatureObjectIds(S).forEach(ha=>A.add(ha));const F=this.featureAdapter.getObjectId;return Promise.resolve(new u(this.items.filter(S=>A.has(F(S))),this.queryGeometry,this))};E.executeObjectIdsQuery=
function(x){if(!x.objectIds||!x.objectIds.length)return Promise.resolve(this);const A=new Set(x.objectIds),F=this.featureAdapter.getObjectId;return Promise.resolve(new u(this.items.filter(S=>A.has(F(S))),this.queryGeometry,this))};E.executeTimeQuery=function(x){x=k.getTimeOperator(this.timeInfo,x.timeExtent,this.featureAdapter);if(!d.isSome(x))return Promise.resolve(this);x=this.items.filter(x);return Promise.resolve(new u(x,this.queryGeometry,this))};E.filterLatest=function(){const {trackIdField:x,
startTimeField:A,endTimeField:F}=this.timeInfo;var S=F||A;const ha=new Map,ca=this.featureAdapter.getAttribute;for(const ja of this.items){const K=ca(ja,x),L=ca(ja,S),P=ha.get(K);(!P||L>ca(P,S))&&ha.set(K,ja)}S=Array.from(ha.values());return Promise.resolve(new u(S,this.queryGeometry,this))};E.project=function(){var x=q._asyncToGenerator(function*(A){if(!A||T.equals(this.spatialReference,A))return this;const F=this.featureAdapter,S=(yield J.projectMany(this.items.map(ha=>w.getGeometry(this.geometryType,
this.hasZ,this.hasM,F.getGeometry(ha))),this.spatialReference,A)).map((ha,ca)=>F.cloneWithGeometry(this.items[ca],m.convertFromGeometry(ha,this.hasZ,this.hasM)));return new u(S,this.queryGeometry,{definitionExpression:this.definitionExpression,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,objectIdField:this.objectIdField,spatialReference:A,fieldsIndex:this.fieldsIndex,timeInfo:this.timeInfo,featureAdapter:this.featureAdapter})});return function(A){return x.apply(this,arguments)}}();
E.createSummaryStatisticsResponse=function(){var x=q._asyncToGenerator(function*(A,F){const {field:S,normalizationField:ha,normalizationType:ca,normalizationTotal:ja,minValue:K,maxValue:L}=F;var P=new v(A,this.featureAdapter,this.fieldsIndex);A=this.fieldsIndex.isDateField(S);F=F.valueExpression?yield this._getAttributeExpressionValues(P,F.valueExpression,F.viewInfoParams):this._getAttributeNormalizedValues(P,{field:S,normalizationField:ha,normalizationType:ca,normalizationTotal:ja});P=W.isNullCountSupported({normalizationType:ca,
normalizationField:ha,minValue:K,maxValue:L});F=ba.isStringField(this.fieldsIndex.get(S))?W.calculateStringStatistics({values:F,supportsNullCount:P}):W.calculateStatistics({values:F,minValue:K,maxValue:L,useSampleStdDev:!ca,supportsNullCount:P});return W.processStatsResult(F,A)});return function(A,F){return x.apply(this,arguments)}}();E._sortFeatures=function(x,A,F){if(1<x.length&&A&&A.length)for(const S of A.reverse()){A=S.split(" ");const ha=A[0],ca=this.fieldsIndex.get(ha),ja=A[1]&&"desc"===A[1].toLowerCase();
x.sort((K,L)=>{K=F(K,ha,ca);L=F(L,ha,ca);return R(K,L,ca,ja)})}};E._createFeatureQueryResponse=function(x){const A=this.items,{geometryType:F,hasM:S,hasZ:ha,objectIdField:ca,spatialReference:ja}=this,{outFields:K,outSR:L,quantizationParameters:P,resultRecordCount:Q,resultOffset:p,returnZ:n,returnM:H}=x,O=null!=Q?A.length>(p||0)+Q:!1,ea=K&&(-1<K.indexOf("*")?[...this.fieldsIndex.fields]:K.map(ia=>this.fieldsIndex.get(ia)));return{exceededTransferLimit:O,features:this._createFeatures(x,A),fields:ea,
geometryType:F,hasM:S&&H,hasZ:ha&&n,objectIdFieldName:ca,spatialReference:w.cleanFromGeometryEngine(L?L:ja),transform:P&&Z.toQuantizationTransform(P)||null}};E._createFeatures=function(x,A){const F=new v(x,this.featureAdapter,this.fieldsIndex),{hasM:S,hasZ:ha}=this,{orderByFields:ca,quantizationParameters:ja,returnGeometry:K,returnCentroid:L,maxAllowableOffset:P,resultOffset:Q,resultRecordCount:p,returnZ:n=!1,returnM:H=!1}=x,O=ha&&n,ea=S&&H;x=[];var ia=0;A=[...A];this._sortFeatures(A,ca,(za,va,Ba)=>
F.getFieldValue(za,va,Ba));if(K||L){var la=Z.toQuantizationTransform(ja);if(K&&!L)for(var qa of A)x[ia++]={attributes:F.getAttributes(qa),geometry:w.getGeometry(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(qa),P,la,O,ea)};else if(!K&&L)for(const za of A)x[ia++]={attributes:F.getAttributes(za),centroid:w.transformCentroid(this,this.featureAdapter.getCentroid(za,this),la)};else for(const za of A)x[ia++]={attributes:F.getAttributes(za),centroid:w.transformCentroid(this,this.featureAdapter.getCentroid(za,
this),la),geometry:w.getGeometry(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(za),P,la,O,ea)}}else for(la of A)(qa=F.getAttributes(la))&&(x[ia++]={attributes:qa});ia=Q||0;null!=p&&(x=x.slice(ia,Math.min(x.length,ia+p)));return x};E._createExceedsLimitQueryResponse=function(x){var A=!1;let F=Number.POSITIVE_INFINITY,S=Number.POSITIVE_INFINITY;A=Number.POSITIVE_INFINITY;for(const ha of x.outStatistics)if("exceedslimit"===ha.statisticType){F=null!=ha.maxPointCount?ha.maxPointCount:
Number.POSITIVE_INFINITY;S=null!=ha.maxRecordCount?ha.maxRecordCount:Number.POSITIVE_INFINITY;A=null!=ha.maxVertexCount?ha.maxVertexCount:Number.POSITIVE_INFINITY;break}if("esriGeometryPoint"===this.geometryType)A=this.items.length>F;else if(this.items.length>S)A=!0;else{x=this.hasZ?this.hasM?4:3:this.hasM?3:2;const ha=this.featureAdapter;A=this.items.reduce((ca,ja)=>{ja=ha.getGeometry(ja);return ca+(d.isSome(ja)&&ja.coords.length||0)},0)/x>A}return{fields:[{name:"exceedslimit",type:"esriFieldTypeInteger",
alias:"exceedslimit",sqlType:"sqlTypeInteger",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(A)}}]}};E._createStatisticsQueryResponse=function(x){var A={attributes:{}};const F=[],S=new Map,ha=new Map,ca=new Map,ja=new Map,K=new v(x,this.featureAdapter,this.fieldsIndex);var L=x.outStatistics;const {groupByFieldsForStatistics:P,having:Q,orderByFields:p}=x;x=P&&P.length;const n=!!x,H=n&&P[0],O=n&&!this.fieldsIndex.get(H);for(const za of L){const {outStatisticFieldName:va,
statisticType:Ba}=za;L=za;var ea="exceedslimit"!==Ba?za.onStatisticField:void 0;const Na="percentile_disc"===Ba||"percentile_cont"===Ba,Ta=n&&1===x&&(ea===H||O)&&"count"===Ba;if(n){if(!ca.has(ea)){var ia=[];for(const Ka of P){var la=this._getAttributeValues(K,Ka,S);ia.push(la)}ca.set(ea,this._calculateUniqueValues(ia,K.returnDistinctValues))}ia=ca.get(ea);for(const Ka in ia){const {count:Da,data:Sa,items:sa,itemPositions:b}=ia[Ka];la=Sa.join(",");if(!Q||K.validateItems(sa,Q)){const g=ja.get(la)||
{attributes:{}};var qa=null;if(Ta)qa=Da;else{const M=this._getAttributeValues(K,ea,S);qa=b.map(e=>M[e]);qa=Na&&"statisticParameters"in L?this._getPercentileValue(L,qa):this._getStatisticValue(L,qa,null,K.returnDistinctValues)}g.attributes[va]=qa;P.forEach((M,e)=>g.attributes[this.fieldsIndex.get(M)?M:`EXPR_${e+1}`]=Sa[e]);ja.set(la,g)}}}else ea=this._getAttributeValues(K,ea,S),A.attributes[va]=Na&&"statisticParameters"in L?this._getPercentileValue(L,ea):this._getStatisticValue(L,ea,ha,K.returnDistinctValues);
F.push({name:va,alias:va,type:"esriFieldTypeDouble"})}A=n?Array.from(ja.values()):[A];this._sortFeatures(A,p,(za,va)=>za.attributes[va]);return{fields:F,features:A}};E._getStatisticValue=function(x,A,F,S){const {onStatisticField:ha,statisticType:ca}=x;x=null;x=null!=F&&F.has(ha)?F.get(ha):ba.isStringField(this.fieldsIndex.get(ha))?W.calculateStringStatistics({values:A,returnDistinct:S}):W.calculateStatistics({values:A,minValue:null,maxValue:null,useSampleStdDev:!0});F&&F.set(ha,x);return x["var"===
ca?"variance":ca]};E._getPercentileValue=function(x,A){const {onStatisticField:F,statisticParameters:S,statisticType:ha}=x,{value:ca,orderBy:ja}=S,K="desc"===ja,L=this.fieldsIndex.get(F);x=[...A].filter(P=>null!=P).sort((P,Q)=>R(P,Q,L,K));return this._calculatePercentile(x,ca,"percentile_disc"===ha)};E._getAttributeValues=function(x,A,F){if(F.has(A))return F.get(A);const S=this.fieldsIndex.get(A),ha=this.items.map(ca=>x.getFieldValue(ca,A,S));F.set(A,ha);return ha};E._getAttributeNormalizedValues=
function(x,A){return this.items.map(F=>x.getNormalizedValue(F,{field:A.field,fieldInfo:this.fieldsIndex.get(A.field),normalizationField:A.normalizationField,normalizationFieldInfo:this.fieldsIndex.get(A.normalizationField),normalizationType:A.normalizationType,normalizationTotal:A.normalizationTotal}))};E._getAttributeExpressionValues=function(){var x=q._asyncToGenerator(function*(A,F,S){const {arcadeUtils:ha}=yield C.loadArcade(),ca=ha.createFunction(F),ja=S&&ha.getViewInfo(S);return this.items.map(K=>
A.getExpressionValue(K,{compiledFunc:ca,viewInfo:ja},ha))});return function(A,F,S){return x.apply(this,arguments)}}();E._calculateUniqueValues=function(x,A){const F={},S=this.items,ha=S.length;for(let ca=0;ca<ha;ca++){const ja=S[ca],K=[];for(const P of x)K.push(P[ca]);const L=K.join(",");A?null==F[L]&&(F[L]={count:1,data:K,items:[ja],itemPositions:[ca]}):null==F[L]?F[L]={count:1,data:K,items:[ja],itemPositions:[ca]}:(F[L].count++,F[L].items.push(ja),F[L].itemPositions.push(ca))}return F};E._calculatePercentile=
function(x,A,F){if(0===x.length)return null;if(0>=A)return x[0];if(1<=A)return x[x.length-1];var S=(x.length-1)*A,ha=Math.floor(S);A=ha+1;S%=1;ha=x[ha];const ca=x[A];return A>=x.length||F||"string"===typeof ha||"string"===typeof ca?ha:ha*(1-S)+ca*S};q._createClass(u,[{key:"size",get:function(){return this.items.length}}]);return u}()})},"esri/geometry/support/quantizationUtils":function(){define(["exports","../../core/maybe","./jsonUtils"],function(q,d,Z){function T({scale:K,translate:L},P){return Math.round((P-
L[0])/K[0])}function m({scale:K,translate:L},P){return Math.round((L[1]-P)/K[1])}function v(K,L,P){const Q=[];let p,n,H,O;for(let ea=0;ea<P.length;ea++){const ia=P[ea];if(0<ea){if(H=T(K,ia[0]),O=m(K,ia[1]),H!==p||O!==n)Q.push(L(ia,H-p,O-n)),p=H,n=O}else p=T(K,ia[0]),n=m(K,ia[1]),Q.push(L(ia,p,n))}return 0<Q.length?Q:null}function h(K,L,P,Q){return v(K,P?Q?ja:ca:Q?ca:ha,L)}function J(K,L,P,Q){const p=[];P=P?Q?ja:ca:Q?ca:ha;for(Q=0;Q<L.length;Q++){const n=v(K,P,L[Q]);n&&3<=n.length&&p.push(n)}return p.length?
p:null}function k(K,L,P,Q){const p=[];P=P?Q?ja:ca:Q?ca:ha;for(Q=0;Q<L.length;Q++){const n=v(K,P,L[Q]);n&&2<=n.length&&p.push(n)}return p.length?p:null}function w({scale:K,translate:L},P){return P*K[0]+L[0]}function ba({scale:K,translate:L},P){return L[1]-P*K[1]}function W(K,L,P){const Q=Array(P.length);if(!P.length)return Q;const [p,n]=K.scale;let H=w(K,P[0][0]);K=ba(K,P[0][1]);Q[0]=L(P[0],H,K);for(let O=1;O<P.length;O++){const ea=P[O];H+=ea[0]*p;K-=ea[1]*n;Q[O]=L(ea,H,K)}return Q}function C(K,L,
P){const Q=Array(P.length);for(let p=0;p<P.length;p++)Q[p]=W(K,L,P[p]);return Q}function B(K,L,P,Q){return W(K,P?Q?ja:ca:Q?ca:ha,L)}function R(K,L,P,Q){return C(K,P?Q?ja:ca:Q?ca:ha,L)}function f(K,L,P,Q){return C(K,P?Q?ja:ca:Q?ca:ha,L)}function r(K,L,P){let [Q,p]=P[0],n=Math.min(Q,L[0]),H=Math.min(p,L[1]),O=Math.max(Q,L[2]);L=Math.max(p,L[3]);for(let ea=1;ea<P.length;ea++){const [ia,la]=P[ea];Q+=ia;p+=la;0>ia&&(n=Math.min(n,Q));0<ia&&(O=Math.max(O,Q));0>la?H=Math.min(H,p):0<la&&(L=Math.max(L,p))}K[0]=
n;K[1]=H;K[2]=O;K[3]=L;return K}function u(K,L){if(!L.length)return null;K[0]=K[1]=Number.POSITIVE_INFINITY;K[2]=K[3]=Number.NEGATIVE_INFINITY;for(let P=0;P<L.length;P++)r(K,K,L[P]);return K}function E(K,L,P,Q,p){L.xmin=T(K,P.xmin);L.ymin=m(K,P.ymin);L.xmax=T(K,P.xmax);L.ymax=m(K,P.ymax);L!==P&&(Q&&(L.zmin=P.zmin,L.zmax=P.zmax),p&&(L.mmin=P.mmin,L.mmax=P.mmax));return L}function x(K,L,P,Q,p){L.points=h(K,P.points,Q,p);return L}function A(K,L,P,Q,p){L.x=T(K,P.x);L.y=m(K,P.y);L!==P&&(Q&&(L.z=P.z),p&&
(L.m=P.m));return L}function F(K,L,P,Q,p){K=J(K,P.rings,Q,p);if(!K)return null;L.rings=K;return L}function S(K,L,P,Q,p){K=k(K,P.paths,Q,p);if(!K)return null;L.paths=K;return L}const ha=(K,L,P)=>[L,P],ca=(K,L,P)=>[L,P,K[2]],ja=(K,L,P)=>[L,P,K[2],K[3]];q.equals=function(K,L){if(K===L||null==K&&null==L)return!0;if(null==K||null==L)return!1;let P,Q,p,n;K&&"upperLeft"===K.originPosition?(P=K.translate[0],Q=K.translate[1],K=K.scale[0]):(P=K.extent.xmin,Q=K.extent.ymax,K=K.tolerance);L&&"upperLeft"===L.originPosition?
(p=L.translate[0],n=L.translate[1],L=L.scale[0]):(p=L.extent.xmin,n=L.extent.ymax,L=L.tolerance);return P===p&&Q===n&&K===L};q.getQuantizedBoundsCoordsArray=r;q.getQuantizedBoundsCoordsArrayArray=u;q.getQuantizedBoundsPaths=function(K){return u([0,0,0,0],K)};q.getQuantizedBoundsPoints=function(K){const L=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return r(L,L,K)};q.getQuantizedBoundsRings=function(K){return u([0,0,0,0],K)};q.quantizeBounds=
function(K,L,P){L[0]=T(K,P[0]);L[3]=m(K,P[1]);L[2]=T(K,P[2]);L[1]=m(K,P[3]);return L};q.quantizeExtent=E;q.quantizeGeometry=function(K,L){return K&&L?Z.isPoint(L)?A(K,{},L,!1,!1):Z.isPolyline(L)?S(K,{},L,!1,!1):Z.isPolygon(L)?F(K,{},L,!1,!1):Z.isMultipoint(L)?x(K,{},L,!1,!1):Z.isExtent(L)?E(K,{},L,!1,!1):null:null};q.quantizeMultipoint=x;q.quantizePaths=k;q.quantizePoint=A;q.quantizePoints=h;q.quantizePolygon=F;q.quantizePolyline=S;q.quantizeRings=J;q.quantizeX=T;q.quantizeY=m;q.toQuantizationTransform=
function(K){return K?{originPosition:"upper-left"===K.originPosition?"upperLeft":"lower-left"===K.originPosition?"lowerLeft":K.originPosition,scale:K.tolerance?[K.tolerance,K.tolerance]:[1,1],translate:K.extent?[K.extent.xmin,K.extent.ymax]:[0,0]}:null};q.unquantizeBounds=function(K,L,P){return P?(L[0]=w(K,P[0]),L[1]=ba(K,P[3]),L[2]=w(K,P[2]),L[3]=ba(K,P[1]),L):[w(K,L[0]),ba(K,L[3]),w(K,L[2]),ba(K,L[1])]};q.unquantizeCoordsArray=W;q.unquantizeCoordsArrayArray=C;q.unquantizeExtent=function(K,L,P,Q,
p){L.xmin=w(K,P.xmin);L.ymin=ba(K,P.ymin);L.xmax=w(K,P.xmax);L.ymax=ba(K,P.ymax);L!==P&&(Q&&(L.zmin=P.zmin,L.zmax=P.zmax),p&&(L.mmin=P.mmin,L.mmax=P.mmax));return L};q.unquantizeMultipoint=function(K,L,P,Q,p){d.isSome(P)&&(L.points=B(K,P.points,Q,p));return L};q.unquantizePaths=R;q.unquantizePoint=function(K,L,P,Q,p){if(d.isNone(P))return L;L.x=w(K,P.x);L.y=ba(K,P.y);L!==P&&(Q&&(L.z=P.z),p&&(L.m=P.m));return L};q.unquantizePoints=B;q.unquantizePolygon=function(K,L,P,Q,p){d.isSome(P)&&(L.rings=f(K,
P.rings,Q,p));return L};q.unquantizePolyline=function(K,L,P,Q,p){d.isSome(P)&&(L.paths=R(K,P.paths,Q,p));return L};q.unquantizeRings=f;q.unquantizeX=w;q.unquantizeY=ba;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/graphics/data/AttributesBuilder":function(){define(["../../../core/maybe","./attributeSupport","../../../smartMapping/statistics/support/utils"],function(q,d,Z){return function(){function T(v,h,J){this._fieldDataCache=new Map;this._returnDistinctMap=new Map;this.returnDistinctValues=
v.returnDistinctValues;this.fieldsIndex=J;this.featureAdapter=h;if((h=v.outFields)&&-1===h.indexOf("*")){this.outFields=h;v=0;for(const w of h){var k=d.getExpressionFromFieldName(w);k=(h=this.fieldsIndex.get(k))?null:d.getWhereClause(k,J);h=h?h.name:d.getAliasFromFieldName(w)||`FIELD_EXP_${v++}`;this._fieldDataCache.set(w,{alias:h,clause:k})}}}var m=T.prototype;m.countDistinctValues=function(v){if(!this.returnDistinctValues)return v.length;v.forEach(h=>this.getAttributes(h));return this._returnDistinctMap.size};
m.getAttributes=function(v){v=this._processAttributesForOutFields(v);return this._processAttributesForDistinctValues(v)};m.getFieldValue=function(v,h,J){const k=J?J.name:h;let w=null;this._fieldDataCache.has(k)?w=this._fieldDataCache.get(k).clause:J||(w=d.getWhereClause(h,this.fieldsIndex),this._fieldDataCache.set(k,{alias:k,clause:w}));return J?this.featureAdapter.getAttribute(v,k):w.calculateValue(v,this.featureAdapter)};m.getNormalizedValue=function(v,h){const J=h.normalizationType,k=h.normalizationTotal;
let w=this.getFieldValue(v,h.field,h.fieldInfo);J&&Number.isFinite(w)&&(v=this.getFieldValue(v,h.normalizationField,h.normalizationFieldInfo),w=Z.getNormalizedValue(w,J,v,k));return w};m.getExpressionValue=function(v,h,J){v={attributes:this.featureAdapter.getAttributes(v)};v=J.createExecContext(v,h.viewInfo);return J.executeFunction(h.compiledFunc,v)};m.validateItem=function(v,h){this._fieldDataCache.has(h)||this._fieldDataCache.set(h,{alias:h,clause:d.getWhereClause(h,this.fieldsIndex)});return this._fieldDataCache.get(h).clause.testFeature(v,
this.featureAdapter)};m.validateItems=function(v,h){this._fieldDataCache.has(h)||this._fieldDataCache.set(h,{alias:h,clause:d.getWhereClause(h,this.fieldsIndex)});return this._fieldDataCache.get(h).clause.testSet(v,this.featureAdapter)};m._processAttributesForOutFields=function(v){const h=this.outFields;if(!h||!h.length)return this.featureAdapter.getAttributes(v);const J={};for(const k of h){const {alias:w,clause:ba}=this._fieldDataCache.get(k);J[w]=ba?ba.calculateValue(v,this.featureAdapter):this.featureAdapter.getAttribute(v,
w)}return J};m._processAttributesForDistinctValues=function(v){if(q.isNone(v)||!this.returnDistinctValues)return v;var h=this.outFields,J=[];if(h)for(const w of h){var {alias:k}=this._fieldDataCache.get(w);J.push(v[k])}else for(k in v)J.push(v[k]);h=`${(h||["*"]).join(",")}=${J.join(",")}`;J=this._returnDistinctMap.get(h)||0;this._returnDistinctMap.set(h,++J);return 1<J?null:v};return T}()})},"esri/smartMapping/statistics/support/utils":function(){define(["exports","../../../core/Error","../../../core/maybe",
"../../../layers/support/fieldUtils"],function(q,d,Z,T){function m(k,w){return new d(k,w)}function v(k,w){k=Z.isSome(k)?k:"";Z.isSome(w)&&w&&(k=k?"("+k+") AND ("+w+")":w);return k}function h(k){const w=k.layer;return k.fields.filter(ba=>!w.getField(ba))}function J(k){const w=k.layer;return k.fields.filter(ba=>{ba=w.getFieldUsageInfo(ba);return!ba||!ba.supportsStatistics})}q.calculateStatistics=function(k){const {values:w,useSampleStdDev:ba,supportsNullCount:W}=k;var C=Number.POSITIVE_INFINITY;let B=
Number.NEGATIVE_INFINITY,R=null,f=null;var r=null;let u=null,E=0;const x=null==k.minValue?-Infinity:k.minValue;k=null==k.maxValue?Infinity:k.maxValue;for(const A of w)Number.isFinite(A)?A>=x&&A<=k&&(R+=A,C=Math.min(C,A),B=Math.max(B,A),E++):"string"===typeof A&&E++;if(E&&null!=R){f=R/E;r=0;for(const A of w)Number.isFinite(A)&&A>=x&&A<=k&&(r+=(A-f)**2);u=ba?1<E?r/(E-1):0:0<E?r/E:0;r=Math.sqrt(u)}else B=C=null;C={avg:f,count:E,max:B,min:C,stddev:r,sum:R,variance:u};W&&(C.nullcount=w.length-E);return C};
q.calculateStringStatistics=function(k){const w=k.returnDistinct?[...new Set(k.values)]:k.values,ba=w.filter(C=>null!=C).length,W={count:ba};k.supportsNullCount&&(W.nullcount=w.length-ba);return W};q.createError=m;q.getNormalizedValue=function(k,w,ba,W){let C=null;switch(w){case "log":0!==k&&(C=Math.log(k)*Math.LOG10E);break;case "percent-of-total":Number.isFinite(W)&&0!==W&&(C=k/W*100);break;case "field":Number.isFinite(ba)&&0!==ba&&(C=k/ba);break;case "natural-log":0<k&&(C=Math.log(k));break;case "square-root":0<
k&&(C=k**.5)}return C};q.getRangeExpr=function(k,w,ba){w=null!=w?k+" \x3e\x3d "+w:"";k=null!=ba?k+" \x3c\x3d "+ba:"";ba="";return(ba=w&&k?v(w,k):w||k)?"("+ba+")":""};q.getSQLFilterForNormalization=function(k){const w=k.field,ba=k.normalizationType;k=k.normalizationField;let W;if("log"===ba)W="(NOT "+w+" \x3d 0)";else if("field"===ba)W="(NOT "+k+" \x3d 0)";else if("natural-log"===ba||"square-root"===ba)W=`(${w} > 0)`;return W};q.isNullCountSupported=function(k){const w=null!=k.minValue||null!=k.maxValue,
ba=!!k.sqlExpression&&k.supportsSQLExpression;return!(null!=k.normalizationField||null!=k.normalizationType)&&!w&&!ba};q.mergeWhereClauses=v;q.processStatsResult=function(k,w){if(!w)return k;["avg","stddev","variance"].forEach(ba=>{null!=k[ba]&&(k[ba]=Math.ceil(k[ba]))});return k};q.verifyBasicFieldValidity=function(k,w,ba){const W=h({layer:k,fields:w});if(W.length)return m(ba,"Unknown fields: "+W.join(", ")+". You can only use fields defined in the layer schema");k=J({layer:k,fields:w});if(k.length)return m(ba,
"Unsupported fields: "+k.join(", ")+". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true")};q.verifyFieldType=function(k,w,ba,W){let C=null;if(!w)C=m(ba,"'field' is not defined in the layer schema");else if(w.name===k.objectIdField||-1===W.indexOf(w.type))C=m(ba,"'field' should be one of these types: "+W.join(","));return C};q.verifyNumericField=function(k,w,ba){let W;w?w.name!==k.objectIdField&&T.isNumericField(w)||(W=m(ba,"'field' should be one of these numeric types: "+
T.numericTypes.join(","))):W=m(ba,"'field' is not defined in the layer schema");return W};Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/support/fieldUtils":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../core/maybe ../../core/object ./domainUtils ../../support/arcadeOnDemand".split(" "),function(q,d,Z,T,m,v,h,J){function k(y,G,X){if(y)for(const ma of y)(y=(y=v.getDeepValue(ma,G))&&"function"!==typeof y&&X.get(y))&&v.setDeepValue(ma,
y.name,G)}function w(y,G){if(!y||!G)return[];g.clear();ba(g,y,G);return Array.from(g).sort()}function ba(y,G,X){var ma;if(X)if(null!=G&&null!=(ma=G.fields)&&ma.length)if(X.includes("*"))for(const {name:na}of G.fields)y.add(na);else for(const na of X)W(y,G,na);else if(X.includes("*"))y.clear(),y.add("*");else for(const na of X)y.add(na)}function W(y,G,X){"string"===typeof X&&(G?(G=G.get(X))&&y.add(G.name):y.add(X))}function C(y,G,X){return B.apply(this,arguments)}function B(){B=Z._asyncToGenerator(function*(y,
G,X){var ma;if(X){var {arcadeUtils:na}=yield J.loadArcade();X=na.extractFieldNames(X,null==G?void 0:null==(ma=G.fields)?void 0:ma.map(ta=>ta.name));for(const ta of X)W(y,G,ta)}});return B.apply(this,arguments)}function R(y,G,X){return f.apply(this,arguments)}function f(){f=Z._asyncToGenerator(function*(y,G,X){if(X&&"1\x3d1"!==X){X=(yield new Promise(function(ma,na){q(["../../core/sql/WhereClause"],ma,na)})).WhereClause.create(X,G);if(!X.isStandardized)throw new T("fieldUtils:collectFilterFields",
"Where clause is not standardized");ba(y,G,X.fieldNames)}});return f.apply(this,arguments)}function r(y,G){for(const X of y)if(X&&X.valueType&&X.valueType===G)return X.name;return null}function u(){u=Z._asyncToGenerator(function*(y){if(!y)return[];const G=new Set;yield E(G,y);return Array.from(G).sort()});return u.apply(this,arguments)}function E(y,G){return x.apply(this,arguments)}function x(){x=Z._asyncToGenerator(function*(y,G){if(G){var X=v.getDeepValue("elevationInfo.featureExpressionInfo",G);
if(X)return X.collectRequiredFields(y,G.fieldsIndex)}});return x.apply(this,arguments)}function A(y,G,X){return F.apply(this,arguments)}function F(){F=Z._asyncToGenerator(function*(y,G,X){X.outStatistic.onStatisticValueExpression?C(y,G,X.outStatistic.onStatisticValueExpression):y.add(X.outStatistic.onStatisticField)});return F.apply(this,arguments)}function S(){S=Z._asyncToGenerator(function*(y,G,X){var ma;if(G&&X&&"cluster"===X.type){var na=[];null!=(ma=X.popupTemplate)&&ma.expressionInfos&&na.push(...X.popupTemplate.expressionInfos.map(ta=>
C(y,G.fieldsIndex,ta.expression)));X.fields&&na.push(...X.fields.map(ta=>A(y,G.fieldsIndex,ta)));yield Promise.all(na)}});return S.apply(this,arguments)}function ha(){ha=Z._asyncToGenerator(function*(y,G,X){G&&(G.timeInfo&&m.isSome(X)&&X.timeExtent&&ba(y,G.fieldsIndex,[G.timeInfo.startField,G.timeInfo.endField]),G.floorInfo&&ba(y,G.fieldsIndex,[G.floorInfo.floorField]),m.isSome(X)&&m.isSome(X.where)&&(yield R(y,G.fieldsIndex,X.where)))});return ha.apply(this,arguments)}function ca(){ca=Z._asyncToGenerator(function*(y,
G,X){G&&X&&(yield Promise.all(X.map(ma=>ja(y,G,ma))))});return ca.apply(this,arguments)}function ja(y,G,X){return K.apply(this,arguments)}function K(){K=Z._asyncToGenerator(function*(y,G,X){G&&X&&(X.valueExpression?yield C(y,G.fieldsIndex,X.valueExpression):X.field&&W(y,G.fieldsIndex,X.field))});return K.apply(this,arguments)}function L(){L=Z._asyncToGenerator(function*(y){if(!y)return[];const G="timeInfo"in y&&y.timeInfo;return G?w(y.fieldsIndex,[y.trackIdField,G.startField,G.endField]):[]});return L.apply(this,
arguments)}function P(){P=Z._asyncToGenerator(function*(y){if(!y)return[];const G=new Set;yield Q(G,y);return Array.from(G).sort()});return P.apply(this,arguments)}function Q(y,G){return p.apply(this,arguments)}function p(){p=Z._asyncToGenerator(function*(y,G){const {labelingInfo:X,fieldsIndex:ma}=G;X&&X.length&&(yield Promise.all(X.map(na=>n(y,ma,na))))});return p.apply(this,arguments)}function n(y,G,X){return H.apply(this,arguments)}function H(){H=Z._asyncToGenerator(function*(y,G,X){if(X){var ma=
X.getLabelExpression();X=X.where;"arcade"===ma.type?yield C(y,G,ma.expression):(ma=ma.expression.match(/{[^}]*}/g))&&ma.forEach(na=>{W(y,G,na.slice(1,-1))});yield R(y,G,X)}});return H.apply(this,arguments)}function O(y){return"number"===typeof y&&!isNaN(y)&&isFinite(y)}function ea(y){return null===y||O(y)}function ia(y){return null===y||M(y)}function la(y){return null!=y&&"string"===typeof y}function qa(y){return null===y||la(y)}function za(){return!0}function va(y,G){let X;switch(y.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":X=
y.nullable?ia:M;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":X=y.nullable?ea:O;break;case "string":case "esriFieldTypeString":X=y.nullable?qa:la;break;default:X=za}return 1===arguments.length?X:X(G)}function Ba(y){return null!=y&&t.has(y.type)}function Na(y,G){return y.nullable&&null===G?null:Ba(y)&&!Ta(y.type,Number(G))?d.NumericRangeValidationError.OUT_OF_RANGE:va(y,G)?y.domain?h.validateDomainValue(y.domain,G):null:d.TypeValidationError.INVALID_TYPE}function Ta(y,
G){return(y="string"===typeof y?Ka(y):y)?y.isInteger?M(G)&&G>=y.min&&G<=y.max:G>=y.min&&G<=y.max:!1}function Ka(y){switch(y){case "esriFieldTypeSmallInteger":case "small-integer":return I;case "esriFieldTypeInteger":case "integer":return N;case "esriFieldTypeSingle":case "single":return aa;case "esriFieldTypeDouble":case "double":return Y}}function Da(y,G,X){if(!G||!G.attributes||!y){if(m.isSome(X))for(var ma of y)X.add(ma);return!0}G=G.attributes;ma=!1;for(const na of y)if(!(na in G))if(ma=!0,m.isSome(X))X.add(na);
else break;return ma}function Sa(){Sa=Z._asyncToGenerator(function*(y,G){const X=new Set;for(const ma of G)yield C(X,y.fieldsIndex,ma);return Array.from(X).sort()});return Sa.apply(this,arguments)}const sa="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),b=["field","normalizationField"],g=new Set,M=(()=>"isInteger"in Number?Number.isInteger:y=>"number"===typeof y&&
isFinite(y)&&Math.floor(y)===y)(),e=["integer","small-integer","single","double"],t=new Set([...e,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);d.NumericRangeValidationError=void 0;(d.NumericRangeValidationError||(d.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";d.TypeValidationError=void 0;(d.TypeValidationError||(d.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const I={min:-32768,
max:32767,isInteger:!0},N={min:-2147483648,max:2147483647,isInteger:!0},aa={min:-3.4E38,max:1.2E38,isInteger:!1},Y={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};d.collectArcadeFieldNames=C;d.collectElevationFields=E;d.collectFeatureReductionFields=function(y,G,X){return S.apply(this,arguments)};d.collectField=W;d.collectFields=ba;d.collectFilterFields=function(y,G,X){return ha.apply(this,arguments)};d.collectLabelingFields=Q;d.collectOrderByInfos=function(y,G,X){return ca.apply(this,arguments)};
d.doubleRange=Y;d.featureHasFields=function(y,G){return!Da(y,G,null)};d.fixFields=w;d.fixRendererFields=function(y,G){if(null!=y&&null!=G)for(const X of Array.isArray(y)?y:[y])if(k(sa,X,G),"visualVariables"in X&&X.visualVariables)for(const ma of X.visualVariables)k(b,ma,G)};d.fixTimeInfoFields=function(y,G){if(null!=y&&null!=G&&G.fields.length)if("startField"in y){var X=G.get(y.startField);G=G.get(y.endField);y.startField=X&&X.name||null;y.endField=G&&G.name||null}else X=G.get(y.startTimeField),G=
G.get(y.endTimeField),y.startTimeField=X&&X.name||null,y.endTimeField=G&&G.name||null};d.getDisplayFieldName=function({displayField:y,fields:G}){if(y)return y;if(!G||!G.length)return null;if(!(y=r(G,"name-or-title")||r(G,"unique-identifier")||r(G,"type-or-category")))a:{for(const X of G)if(X&&X.name&&(G=X.name.toLowerCase(),-1<G.indexOf("name")||-1<G.indexOf("title"))){y=X.name;break a}y=null}return y};d.getElevationFields=function(y){return u.apply(this,arguments)};d.getExpressionFields=function(y,
G){return Sa.apply(this,arguments)};d.getFeatureEditFields=function(y){if(!y)return[];const G="editFieldsInfo"in y&&y.editFieldsInfo;return G?w(y.fieldsIndex,[G&&G.creatorField,G&&G.creationDateField,G&&G.editorField,G&&G.editDateField]):[]};d.getFeatureGeometryFields=function(y){if(!y)return[];const G=y.geometryFieldsInfo;return G?w(y.fieldsIndex,[G.shapeAreaField,G.shapeLengthField]):[]};d.getFieldDefaultValue=function(y){const G=y.defaultValue;if(void 0!==G&&va(y,G))return G;if(y.nullable)return null};
d.getFieldRange=function(y){const G=h.getDomainRange(y.domain);if(G)return G;if(Ba(y))return Ka(y.type)};d.getLabelingFields=function(y){return P.apply(this,arguments)};d.getNumericTypeForValue=function(y){if(!O(y))return null;if(M(y)){if(y>=I.min&&y<=I.max)return"esriFieldTypeSmallInteger";if(y>=N.min&&y<=N.max)return"esriFieldTypeInteger"}return y>=aa.min&&y<=aa.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};d.getTimeFields=function(y){return L.apply(this,arguments)};d.integerRange=N;d.isDateField=
function(y){return null!=y&&("date"===y.type||"esriFieldTypeDate"===y.type)};d.isNumberInRange=Ta;d.isNumericField=Ba;d.isStringField=function(y){return null!=y&&("string"===y.type||"esriFieldTypeString"===y.type)};d.isValidFieldValue=function(y,G){return null===Na(y,G)};d.isValueMatchingFieldType=va;d.numericTypes=e;d.packFields=function(y,G,X=1){if(!G||!y)return[];if(G.includes("*"))return["*"];G=w(y,G);return G.length/y.fields.length>=X?["*"]:G};d.populateMissingFields=Da;d.rendererFields=sa;d.sanitizeNullFieldValue=
function(y){return null==y||"number"===typeof y&&isNaN(y)?null:y};d.singleRange=aa;d.smallIntegerRange=I;d.unpackFieldNames=function(y,G){return m.isNone(G)||m.isNone(y)?[]:G.includes("*")?y.fields.map(X=>X.name):G};d.validateFieldValue=Na;d.validationErrorToString=function(y,G,X){switch(y){case h.DomainValidationError.INVALID_CODED_VALUE:return`Value ${X} is not in the coded domain - field: ${G.name}, domain: ${JSON.stringify(G.domain)}`;case h.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${X} is out of the range of valid values - field: ${G.name}, domain: ${JSON.stringify(G.domain)}`;
case d.TypeValidationError.INVALID_TYPE:return`Value ${X} is not a valid value for the field type - field: ${G.name}, type: ${G.type}, nullable: ${G.nullable}`;case d.NumericRangeValidationError.OUT_OF_RANGE:{const {min:ma,max:na}=Ka(G.type);return`Value ${X} is out of range for the number type - field: ${G.name}, type: ${G.type}, value range is ${ma} to ${na}`}}};d.visualVariableFields=b;Object.defineProperty(d,"__esModule",{value:!0})})},"esri/layers/support/domainUtils":function(){define(["exports"],
function(q){function d(Z,T){switch(Z.type){case "range":{const m="range"in Z?Z.range[1]:Z.maxValue;if(+T<("range"in Z?Z.range[0]:Z.minValue)||+T>m)return q.DomainValidationError.VALUE_OUT_OF_RANGE;break}case "coded-value":case "codedValue":if(null==Z.codedValues||Z.codedValues.every(m=>null==m||m.code!==T))return q.DomainValidationError.INVALID_CODED_VALUE}return null}q.DomainValidationError=void 0;(function(Z){Z.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";Z.INVALID_CODED_VALUE=
"domain-validation-error::invalid-coded-value"})(q.DomainValidationError||(q.DomainValidationError={}));q.getDomainRange=function(Z){if(Z&&"range"===Z.type)return{min:"range"in Z?Z.range[0]:Z.minValue,max:"range"in Z?Z.range[1]:Z.maxValue}};q.isValidDomainValue=function(Z,T){return null===d(Z,T)};q.validateDomainValue=d;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/support/arcadeOnDemand":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../geometry ../core/maybe ../geometry/SpatialReference".split(" "),
function(q,d,Z,T,m,v){function h(){J||(J=Z._asyncToGenerator(function*(){const w=yield new Promise(function(ba,W){q(["./arcadeUtils"],ba,W)});return{arcade:w.arcade,arcadeUtils:w,Dictionary:w.Dictionary,Feature:w.arcadeFeature}})());return J}let J;T=(w,ba,W)=>k.create(w,ba,W,null,["$feature","$view"]);let k=function(){function w(W,C,B,R,f,r,u,E){this.script=W;this.evaluate=f;this.fields=Array.isArray(u)?u:u.fields;this._syntaxTree=R;this._arcade=C;this._arcadeDictionary=B;this._arcadeFeature=r;this._spatialReference=
E;this._referencesGeometry=C.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}w.create=function(){var W=Z._asyncToGenerator(function*(C,B,R,f,r,u){const {arcade:E,Feature:x,Dictionary:A}=yield h(),F=v.fromJSON(B);B=E.parseScript(C,u);r=r.reduce((K,L)=>({...K,[L]:null}),{});let S=null;m.isSome(f)&&(S=new A(f),S.immutable=!0,r.$config=null);f=E.scriptUsesGeometryEngine(B)&&E.enableGeometrySupport();u=E.scriptUsesFeatureSet(B)&&E.enableFeatureSetSupport();
const ha=E.scriptIsAsync(B)&&E.enableAsyncSupport();r={vars:r,spatialReference:F,useAsync:!!ha};const ca=new A;ca.immutable=!1;ca.setField("scale",0);const ja=E.compileScript(B,r);yield Promise.all([f,u,ha]);return new w(C,E,A,B,K=>{"$view"in K&&K.$view&&(ca.setField("scale",K.$view.scale),K.$view=ca);S&&(K.$config=S);return ja({vars:K,spatialReference:F})},new x,R,F)});return function(C,B,R,f,r,u){return W.apply(this,arguments)}}();var ba=w.prototype;ba.repurposeFeature=function(W){W.geometry&&!W.geometry.spatialReference&&
(W.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(W.geometry,W.attributes,{fields:this.fields});return this._arcadeFeature};ba.repurposeAdapter=function(W){this._arcadeFeature.repurposeFromAdapter(W,{fields:this.fields});return this._arcadeFeature};ba.createDictionary=function(){return new this._arcadeDictionary};ba.referencesMember=function(W){return this._arcade.referencesMember(this._syntaxTree,W)};ba.referencesFunction=function(W){return this._arcade.referencesFunction(this._syntaxTree,
W)};ba.referencesGeometry=function(){return this._referencesGeometry};ba.referencesScale=function(){return this._referencesScale};ba.extractFieldLiterals=function(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)};return w}();d.ArcadeExpression=k;d.createDictionaryExpression=(w,ba,W,C)=>k.create(w,ba,W,C,["$feature","$view"]);d.createLabelExpression=(w,ba,W)=>k.create(w,ba,W,null,["$feature"]);d.createRendererExpression=T;d.createVVExpression=T;d["default"]=k;d.loadArcade=h;Object.defineProperty(d,
"__esModule",{value:!0})})},"esri/layers/graphics/data/timeSupport":function(){define(["exports"],function(q){function d(m,v,h,J,k){if(null!=J&&null!=k)return w=>{const ba=m.getAttribute(w,v);w=m.getAttribute(w,h);return(null==ba||ba<=k)&&(null==w||w>=J)};if(null!=J)return w=>{w=m.getAttribute(w,h);return null==w||w>=J};if(null!=k)return w=>{w=m.getAttribute(w,v);return null==w||w<=k}}function Z(m,v,h,J){if(null!=h&&null!=J&&h===J)return k=>m.getAttribute(k,v)===h;if(null!=h&&null!=J)return k=>{k=
m.getAttribute(k,v);return k>=h&&k<=J};if(null!=h)return k=>m.getAttribute(k,v)>=h;if(null!=J)return k=>m.getAttribute(k,v)<=J}function T(){return()=>!1}q.getTimeExtent=function(m,v){if(!m)return null;const h=v.featureAdapter,{startTimeField:J,endTimeField:k}=m;let w=Number.POSITIVE_INFINITY,ba=Number.NEGATIVE_INFINITY;if(J&&k)v.forEach(W=>{const C=h.getAttribute(W,J);W=h.getAttribute(W,k);null==C||isNaN(C)||(w=Math.min(w,C));null==W||isNaN(W)||(ba=Math.max(ba,W))});else{const W=J||k;v.forEach(C=>
{C=h.getAttribute(C,W);null==C||isNaN(C)||(w=Math.min(w,C),ba=Math.max(ba,C))})}return{start:w,end:ba}};q.getTimeOperator=function(m,v,h){if(!v||!m)return null;const {startTimeField:J,endTimeField:k}=m;if(!J&&!k)return null;const {start:w,end:ba}=v;return null===w&&null===ba?null:void 0===w&&void 0===ba?T():J&&k?d(h,J,k,w,ba):Z(h,J||k,w,ba)};Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/graphics/data/utils":function(){define("require exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/jsonMap ../../../core/maybe ../../../core/unitUtils ../../../geometry/support/extentUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../../geometry/support/spatialReferenceUtils ../centroid ../featureConversionUtils ../OptimizedGeometry ./projectionSupport".split(" "),
function(q,d,Z,T,m,v,h,J,k,w,ba,W,C,B){function R(p,n,H,O=p.hasZ,ea=p.hasM){if(m.isNone(n))return null;const ia=p.hasZ&&O,la=p.hasM&&ea;return H?(p=W.quantizeOptimizedGeometry(L,n,p.hasZ,p.hasM,"esriGeometryPoint",H,O,ea),W.convertToPoint(p,ia,la)):W.convertToPoint(n,ia,la)}function f(){f=Z._asyncToGenerator(function*(p,n,H){const {outFields:O,orderByFields:ea,groupByFieldsForStatistics:ia,outStatistics:la}=p;if(O)for(var qa=0;qa<O.length;qa++)O[qa]=O[qa].trim();if(ea)for(qa=0;qa<ea.length;qa++)ea[qa]=
ea[qa].trim();if(ia)for(qa=0;qa<ia.length;qa++)ia[qa]=ia[qa].trim();if(la)for(qa=0;qa<la.length;qa++)la[qa].onStatisticField&&(la[qa].onStatisticField=la[qa].onStatisticField.trim());p.geometry&&!p.outSR&&(p.outSR=p.geometry.spatialReference);return u(p,n,H)});return f.apply(this,arguments)}function r(){r=Z._asyncToGenerator(function*(p,n,H){return u(p,n,H)});return r.apply(this,arguments)}function u(p,n,H){return E.apply(this,arguments)}function E(){E=Z._asyncToGenerator(function*(p,n,H){if(!p)return null;
var {where:O}=p;p.where=O=O&&O.trim();if(!O||/^1 *= *1$/.test(O)||n&&n===O)p.where=null;if(!p.geometry)return p;n=yield x(p);p.distance=0;p.units=null;"esriSpatialRelEnvelopeIntersects"===p.spatialRel&&({spatialReference:O}=p.geometry,n=h.getGeometryExtent(n),n.spatialReference=O);p.geometry=n;yield B.checkProjectionSupport(n.spatialReference,H);n=(yield k.normalizeCentralMeridian(J.fromJSON(n)))[0];if(m.isNone(n))throw ca;n=n.toJSON();n=yield B.project(n,n.spatialReference,H);if(!n)throw ca;n.spatialReference=
H;p.geometry=n;return p});return E.apply(this,arguments)}function x(p){return A.apply(this,arguments)}function A(){A=Z._asyncToGenerator(function*(p){const {geometry:n,distance:H,units:O}=p;if(null==H||"vertexAttributes"in n)return n;var ea=n.spatialReference;p=O?ha.fromJSON(O):v.getUnitString(ea);ea=ea&&(w.isGeographic(ea)||w.isWebMercator(ea))?n:yield B.checkProjectionSupport(ea,w.WGS84).then(()=>B.project(n,w.WGS84));return(yield F())(ea.spatialReference,ea,H,p)});return A.apply(this,arguments)}
function F(){return S.apply(this,arguments)}function S(){S=Z._asyncToGenerator(function*(){return(yield new Promise(function(p,n){q(["../../../geometry/geometryEngineJSON"],p,n)})).geodesicBuffer});return S.apply(this,arguments)}const ha=new T.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),ca=Object.freeze({}),ja=new C,K=new C,L=new C,
P={esriGeometryPoint:W.convertToPoint,esriGeometryPolyline:W.convertToPolyline,esriGeometryPolygon:W.convertToPolygon,esriGeometryMultipoint:W.convertToMultipoint},Q=(p,n)=>"_geVersion"!==p?n:void 0;d.QUERY_ENGINE_EMPTY_RESULT=ca;d.cleanFromGeometryEngine=function(p){return p&&"_geVersion"in p?JSON.parse(JSON.stringify(p,Q)):p};d.getCentroid=function(p,n,H){if("esriGeometryPolygon"!==p.geometryType||!n||!n.centroid&&!n.geometry)return null;n.centroid||(n.centroid=ba.getCentroidOptimizedGeometry(new C,
n.geometry,p.hasZ,p.hasM));return R(p,n.centroid,H)};d.getGeometry=function(p,n,H,O,ea,ia,la=n,qa=H){const za=n&&la,va=H&&qa;O=m.isSome(O)?"coords"in O?O:O.geometry:null;if(m.isNone(O))return null;if(ea)return n=W.generalizeOptimizedGeometry(K,O,n,H,p,ea,la,qa),ia&&(n=W.quantizeOptimizedGeometry(L,n,za,va,p,ia)),P[p](n,za,va);if(ia)return ia=W.quantizeOptimizedGeometry(L,O,n,H,p,ia,la,qa),P[p](ia,za,va);W.removeZMValues(ja,O,n,H,la,qa);return P[p](ja,za,va)};d.normalizeFilter=function(p,n,H){return r.apply(this,
arguments)};d.normalizeQuery=function(p,n,H){return f.apply(this,arguments)};d.normalizeQueryLike=u;d.transformCentroid=R;Object.defineProperty(d,"__esModule",{value:!0})})},"esri/layers/graphics/data/spatialQuerySupport":function(){define("require exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/Error ../../../geometry/support/contains ../../../geometry/support/intersects ../../../geometry/support/jsonUtils ../../../geometry/support/spatialReferenceUtils ../contains ../featureConversionUtils ../OptimizedGeometry ./projectionSupport ./utils".split(" "),
function(q,d,Z,T,m,v,h,J,k,w,ba,W,C){function B(){return new Promise(function(u,E){q(["../../../geometry/geometryEngineJSON"],u,E)})}function R(){R=Z._asyncToGenerator(function*(u,E,x){const {spatialRel:A,geometry:F}=u;if(F){if(!0!==r.spatialRelationship[A])throw new T("feature-store:unsupported-query","Unsupported query spatial relationship",{query:u});if(J.isValid(F.spatialReference)&&J.isValid(x)){if(!0!==r.queryGeometry[h.getJsonType(F)])throw new T("feature-store:unsupported-query","Unsupported query geometry type",
{query:u});if(!0!==r.layerGeometry[E])throw new T("feature-store:unsupported-query","Unsupported layer geometry type",{query:u});if(u.outSR)return W.checkProjectionSupport(u.geometry&&u.geometry.spatialReference,u.outSR)}}});return R.apply(this,arguments)}const f={esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"intersects",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:"overlaps",
esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:null},r={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},
layerGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};d.canQueryWithRBush=function(u){if(h.isExtent(u))return!0;if(h.isPolygon(u)){for(const E of u.rings)if(5!==E.length||E[0][0]!==E[1][0]||E[0][0]!==E[4][0]||E[2][0]!==E[3][0]||E[0][1]!==E[3][1]||E[0][1]!==E[4][1]||E[1][1]!==E[2][1])return!1;return!0}return!1};d.checkSpatialQuerySupport=function(u,E,x){return R.apply(this,arguments)};d.getSpatialQueryOperator=function(u,
E,x,A,F){if(h.isPolygon(E)&&"esriGeometryPoint"===x&&("esriSpatialRelIntersects"===u||"esriSpatialRelContains"===u)){const S=w.convertFromPolygon(new ba,E,!1,!1);return Promise.resolve(ha=>k.polygonContainsPoint(S,!1,!1,ha))}if(h.isPolygon(E)&&"esriGeometryMultipoint"===x){const S=w.convertFromPolygon(new ba,E,!1,!1);if("esriSpatialRelContains"===u)return Promise.resolve(ha=>k.polygonContainsMultipoint(S,!1,!1,ha,A,F))}if(h.isExtent(E)&&"esriGeometryPoint"===x&&("esriSpatialRelIntersects"===u||"esriSpatialRelContains"===
u))return Promise.resolve(S=>m.extentContainsPoint(E,C.getGeometry(x,A,F,S)));if(h.isExtent(E)&&"esriGeometryMultipoint"===x&&"esriSpatialRelContains"===u)return Promise.resolve(S=>m.extentContainsMultipoint(E,C.getGeometry(x,A,F,S)));if(h.isExtent(E)&&"esriSpatialRelIntersects"===u){const S=v.getExtentIntersector(x);return Promise.resolve(ha=>S(E,C.getGeometry(x,A,F,ha)))}return B().then(S=>{const ha=S[f[u]].bind(null,E.spatialReference,E);return ca=>ha(C.getGeometry(x,A,F,ca))})};Object.defineProperty(d,
"__esModule",{value:!0})})},"esri/geometry/support/intersects":function(){define(["exports","./intersectsBase"],function(q,d){q.extentIntersectsExtent=d.extentIntersectsExtent;q.extentIntersectsMultipoint=d.extentIntersectsMultipoint;q.extentIntersectsPoint=d.extentIntersectsPoint;q.extentIntersectsPolygon=d.extentIntersectsPolygon;q.extentIntersectsPolyline=d.extentIntersectsPolyline;q.getFeatureExtentIntersector=d.getFeatureExtentIntersector;q.isSelfIntersecting=d.isSelfIntersecting;q.segmentIntersects=
d.segmentIntersects;q.getExtentIntersector=function(Z){return"mesh"===Z?d.extentIntersectsExtent:d.getFeatureExtentIntersector(Z)};Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/graphics/contains":function(){define(["exports"],function(q){function d(Z,T,m,v,h){if(!Z)return!1;T=T?m?4:3:m?3:2;const {coords:J,lengths:k}=Z;m=!1;Z=0;for(const ba of k){var w=Z;for(let W=Z,C=Z+ba*T;W<C;W+=T){w=W+T;w===C&&(w=Z);const B=J[W],R=J[W+1],f=J[w];w=J[w+1];(R<h&&w>=h||w<h&&R>=h)&&B+(h-R)/(w-R)*
(f-B)<v&&(m=!m)}Z+=ba*T}return m}q.polygonContainsCoords=d;q.polygonContainsMultipoint=function(Z,T,m,v,h,J){h=h?J?4:3:J?3:2;const {coords:k,lengths:w}=v;if(!w)return!1;for(let ba=0,W=0;ba<w.length;ba++,W+=h)if(!d(Z,T,m,k[W],k[W+1]))return!1;return!0};q.polygonContainsPoint=function(Z,T,m,v){return d(Z,T,m,v.coords[0],v.coords[1])};Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/support/FieldsIndex":function(){define(function(){return function(){function q(Z){this.fields=Z;this._fieldsMap=
new Map;this._dateFieldsSet=new Set;this.dateFields=[];if(Z){var T=[];for(const m of Z)if(Z=m&&m.name){const v=Z.toLowerCase().trim();this._fieldsMap.set(Z,m);this._fieldsMap.set(v,m);T.push(v);if("date"===m.type||"esriFieldTypeDate"===m.type)this.dateFields.push(m),this._dateFieldsSet.add(m)}T.sort();this.uid=T.join(",")}}var d=q.prototype;d.destroy=function(){this._fieldsMap.clear()};d.has=function(Z){return null!=this.get(Z)};d.get=function(Z){return null!=Z?this._fieldsMap.get(Z)||this._fieldsMap.get(Z.toLowerCase().trim()):
void 0};d.isDateField=function(Z){return this._dateFieldsSet.has(this.get(Z))};d.normalizeFieldName=function(Z){if(Z=this.get(Z))return Z.name};return q}()})},"esri/layers/support/PromiseQueue":function(){define(["../../chunks/_rollupPluginBabelHelpers","../../core/promiseUtils"],function(q,d){let Z=function(T,m,v,h,J){this.resolve=T;this.reject=m;this.callback=v;this.signal=h;this.abortCallback=J};return function(){function T(){this._tasks=[]}var m=T.prototype;m.push=function(v,h,J){return new Promise((k,
w)=>this._tasks.push(new Z(k,w,v,h,J)))};m.unshift=function(v,h,J){return new Promise((k,w)=>this._tasks.unshift(new Z(k,w,v,h,J)))};m.process=function(){if(0===this._tasks.length)return!1;const v=this._tasks.shift();try{const h=d.isAborted(v.signal);if(h&&!v.abortCallback)v.reject(d.createAbortError());else{const J=h?v.abortCallback(d.createAbortError()):v.callback();d.isPromise(J)?J.then(v.resolve,v.reject):v.resolve(J)}}catch(h){v.reject(h)}return!0};m.cancelAll=function(){const v=d.createAbortError();
for(const h of this._tasks)if(h.abortCallback){const J=h.abortCallback(v);h.resolve(J)}else h.reject(v);this._tasks.length=0};q._createClass(T,[{key:"length",get:function(){return this._tasks.length}}]);return T}()})},"esri/layers/graphics/sources/geojson/geojson":function(){define(["exports","../../../../core/Error","../../OptimizedFeature","../../OptimizedGeometry"],function(q,d,Z,T){function*m(u){switch(u.type){case "Feature":yield u;break;case "FeatureCollection":for(const E of u.features)E&&
(yield E)}}function*v(u){if(!u)return null;switch(u.type){case "Point":yield u.coordinates;break;case "LineString":case "MultiPoint":yield*u.coordinates;break;case "MultiLineString":case "Polygon":for(const E of u.coordinates)yield*E;break;case "MultiPolygon":for(const E of u.coordinates)for(const x of E)yield*x}}function*h(u,E={}){const {geometryType:x,objectIdField:A}=E;for(const S of u){var F;const {geometry:ha,properties:ca,id:ja}=S;if(ha&&r[ha.type]!==x)continue;u=ca||{};let K=null!=(F=u[A])?
F:null;A&&null!=ja&&!u[A]&&(u[A]=K=ja);yield new Z["default"](ha?ba(new T,ha,E):null,u,null,K)}}function J(u){for(const E of u)if(2<E.length)return!0;return!1}function k(u){let E=0;for(let x=0;x<u.length;x++){const A=u[x],F=u[(x+1)%u.length];E+=A[0]*F[1]-F[0]*A[1]}return 0>=E}function w(u){const E=u[0],x=u[u.length-1];E[0]===x[0]&&E[1]===x[1]&&E[2]===x[2]||u.push(E);return u}function ba(u,E,x){switch(E.type){case "LineString":return B(u,E.coordinates,x),u;case "MultiLineString":for(const F of E.coordinates)B(u,
F,x);return u;case "MultiPoint":return B(u,E.coordinates,x),u;case "MultiPolygon":for(var A of E.coordinates)for(W(u,A[0],x),E=1;E<A.length;E++)C(u,A[E],x);return u;case "Point":return f(u,E.coordinates,x),u;case "Polygon":A=E.coordinates;W(u,A[0],x);for(E=1;E<A.length;E++)C(u,A[E],x);return u}}function W(u,E,x){E=w(E);k(E)?B(u,E,x):R(u,E,x)}function C(u,E,x){E=w(E);k(E)?R(u,E,x):B(u,E,x)}function B(u,E,x){for(const A of E)f(u,A,x);u.lengths.push(E.length)}function R(u,E,x){for(let A=E.length-1;0<=
A;A--)f(u,E[A],x);u.lengths.push(E.length)}function f(u,E,x){const [A,F,S]=E;u.coords.push(A,F);x.hasZ&&u.coords.push(S||0)}const r={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};q.createOptimizedFeatures=function(u,E){return Array.from(h(m(u),E))};q.getGeometryType=function(u){return r[u]};q.inferLayerProperties=function(u,E={}){const x=[];var A=
new Set;const F=new Set;var S=!1;let ha=Number.NEGATIVE_INFINITY,ca=null,ja=!1,K=void 0;({geometryType:E=null}=E);var L=!1;for(const P of m(u)){const {geometry:Q,properties:p,id:n}=P;if(Q&&(E||(E=r[Q.type]),r[Q.type]!==E))continue;S||(S=v(Q),S=J(S));!ja&&(ja=null!=n)&&(K=typeof n,"number"===K&&(ca=Object.keys(p).filter(H=>p[H]===n)));ja&&"number"===K&&null!=n&&(ha=Math.max(ha,n),1<ca.length?ca=ca.filter(H=>p[H]===n):1===ca.length&&(ca=p[ca[0]]===n?ca:[]));if(!L&&p){u=!0;for(const H in p)if(!A.has(H))if(L=
p[H],null==L)u=!1,F.add(H);else{a:switch(typeof L){case "string":L="esriFieldTypeString";break a;case "number":L="esriFieldTypeDouble";break a;default:L="unknown"}"unknown"===L?F.add(H):(F.delete(H),A.add(H),x.push({name:H,alias:H,type:L}))}L=u}}if(A=ca&&1===ca.length&&ca[0]||null)for(const P of x)P.name===A&&(P.type="esriFieldTypeOID");return{fields:x,geometryType:E,hasZ:S,maxObjectId:Math.max(0,ha),objectIdFieldName:A,objectIdFieldType:K,unknownFields:Array.from(F)}};q.validateGeoJSON=function(u){if(!u)throw new d("geojson-layer:empty",
"GeoJSON data is empty");if("Feature"!==u.type&&"FeatureCollection"!==u.type)throw new d("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:u});({crs:u}=u);if(u){var E="string"===typeof u?u:"name"===u.type?u.properties.name:"EPSG"===u.type?u.properties.code:null,x=/.*(CRS84H?|4326)$/i;if(!E||!x.test(E))throw new d("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:u});}};Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/graphics/sources/support/sourceUtils":function(){define(["require",
"exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../geometry/support/spatialReferenceUtils","../../../support/fieldUtils"],function(q,d,Z,T,m){function v(R){return new ba(R)}function h(){return J.apply(this,arguments)}function J(){J=Z._asyncToGenerator(function*(){return B?B:B=yield new Promise(function(R,f){q(["../../../../geometry/geometryEngineJSON"],R,f)})});return J.apply(this,arguments)}function k(){k=Z._asyncToGenerator(function*(R,f){!T.isValid(R)||"esriGeometryPolygon"!==
f&&"esriGeometryPolyline"!==f||(yield h())});return k.apply(this,arguments)}let w=function(){this.description=this.code=null},ba=function(R){this.error=new w;this.objectId=this.globalId=null;this.success=!1;this.uniqueId=null;this.error.description=R},W=function(R){this.globalId=null;this.success=!0;this.objectId=this.uniqueId=R};const C=new Set;let B;d.createFeatureEditErrorResult=v;d.createFeatureEditSuccessResult=function(R){return new W(R)};d.loadGeometryEngine=h;d.loadGeometryEngineForSimplify=
function(R,f){return k.apply(this,arguments)};d.mixAttributes=function(R,f,r,u,E=!1,x){C.clear();for(const ha in r){const ca=R.get(ha);if(ca){var A=r[ha];{var F=ca;var S=A;let ja=S;"string"===typeof S&&m.isNumericField(F)?ja=parseFloat(S):null!=S&&m.isStringField(F)&&"string"!==typeof S&&(ja=String(S));F=m.sanitizeNullFieldValue(ja)}F!==A&&x&&x.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:ca,originalValue:A,sanitizedValue:F}});C.add(ca.name);
if(ca&&(E||ca.editable)){if(A=m.validateFieldValue(ca,F))return v(m.validationErrorToString(A,ca,F));f[ca.name]=F}}}if(u)for(const ha of u)if(!C.has(ha.name))return v(`missing required field "${ha.name}"`);return null};d.simplify=function(R,f){if(!R||!T.isValid(f))return R;if("rings"in R||"paths"in R){if(!B)throw new TypeError("geometry engine not loaded");return B.simplify(f,R)}return R};Object.defineProperty(d,"__esModule",{value:!0})})},"esri/layers/ogc/wfsUtils":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../../request ../../core/Error ../../core/interatorUtils ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../geometry/projection ../../geometry/support/spatialReferenceUtils ../../geometry/support/typeUtils ../graphics/sources/geojson/geojson ./dateUtils ./xmlUtils ../support/Field ../../geometry/SpatialReference ../../geometry/Extent".split(" "),
function(q,d,Z,T,m,v,h,J,k,w,ba,W,C,B,R,f,r,u){function E(){E=d._asyncToGenerator(function*(sa,b){b=yield T(sa,{responseType:"text",query:{SERVICE:"WFS",REQUEST:"GetCapabilities",VERSION:"2.0.0",...null==b?void 0:b.customParameters},signal:null==b?void 0:b.signal});b=x(b.data);k.isHTTPSProtocol(sa)&&(k.hasSameOrigin(sa,b.operations.DescribeFeatureType.url,!0)&&(b.operations.DescribeFeatureType.url=k.toHTTPS(b.operations.DescribeFeatureType.url)),k.hasSameOrigin(sa,b.operations.GetFeature.url,!0)&&
(b.operations.GetFeature.url=k.toHTTPS(b.operations.GetFeature.url)));return b});return E.apply(this,arguments)}function x(sa){sa=Ba(sa);Ta(sa);Ka(sa);const b=sa.firstElementChild,g=new Map;return{operations:A(b),get featureTypes(){return Array.from(F(b,g))},readFeatureTypes:()=>F(b,g)}}function A(sa){let b=!1;const g={GetCapabilities:{url:""},DescribeFeatureType:{url:""},GetFeature:{url:"",outputFormat:null,supportsPagination:!1}};R.visitXML(sa,{OperationsMetadata:{Operation:M=>{switch(M.getAttribute("name")){case "GetCapabilities":return{DCP:{HTTP:{Get:e=>
{g.GetCapabilities.url=e.getAttribute("xlink:href")}}}};case "DescribeFeatureType":return{DCP:{HTTP:{Get:e=>{g.DescribeFeatureType.url=e.getAttribute("xlink:href")}}}};case "GetFeature":return{DCP:{HTTP:{Get:e=>{g.GetFeature.url=e.getAttribute("xlink:href")}}},Parameter:e=>{if("outputFormat"===e.getAttribute("name"))return{AllowedValues:{Value:t=>{t=t.textContent;Da.has(t.toLowerCase())&&(g.GetFeature.outputFormat=t)}}}}}}},Constraint:M=>{switch(M.getAttribute("name")){case "KVPEncoding":return{DefaultValue:e=>
{b="true"===e.textContent.toLowerCase()}};case "ImplementsResultPaging":return{DefaultValue:e=>{g.GetFeature.supportsPagination="true"===e.textContent.toLowerCase()}}}}}});if(!b)throw new m("wfs-layer:kvp-encoding-not-supported","WFS service doesn't support key/value pair (KVP) encoding");if(h.isNone(g.GetFeature.outputFormat))throw new m("wfs-layer:geojson-not-supported","WFS service doesn't support GeoJSON output format");return g}function F(sa,b){return R.iterateXML(sa,{FeatureTypeList:{FeatureType:g=>
{if(b.has(g))return b.get(g);const M={typeName:"undefined:undefined",name:"",title:"",description:"",extent:null,namespacePrefix:"",namespaceUri:"",supportedSpatialReferences:[]},e=new Set([4326]),t=I=>{var N,aa;I=parseInt(null==(N=I.textContent.match(/(?<wkid>\d+$)/i))?void 0:null==(aa=N.groups)?void 0:aa.wkid,10);Number.isNaN(I)||e.add(I)};R.visitXML(g,{Name:I=>{const {name:N,prefix:aa}=Na(I.textContent);M.typeName=`${aa}:${N}`;M.name=N;M.namespacePrefix=aa;M.namespaceUri=I.lookupNamespaceURI(aa)},
Abstract:I=>{M.description=I.textContent},Title:I=>{M.title=I.textContent},WGS84BoundingBox:I=>{M.extent=S(I)},DefaultSRS:t,DefaultCRS:t,OtherSRS:t,OtherCRS:t});M.title||(M.title=M.name);M.supportedSpatialReferences.push(...e);b.set(g,M);return M}}})}function S(sa){let b,g,M,e;for(const t of sa.children)switch(t.localName){case "LowerCorner":[b,g]=t.textContent.split(" ").map(I=>Number.parseFloat(I));break;case "UpperCorner":[M,e]=t.textContent.split(" ").map(I=>Number.parseFloat(I))}return{xmin:b,
ymin:g,xmax:M,ymax:e,spatialReference:ba.WGS84}}function ha(sa,b,g){return v.find(sa,M=>g?M.name===b&&M.namespaceUri===g:M.typeName===b||M.name===b)}function ca(){ca=d._asyncToGenerator(function*(sa,b,g,M={}){var e;const {featureType:t,extent:I}=yield ja(sa,b,g,M),{fields:N,geometryType:aa,swapXY:Y,objectIdField:y,geometryField:G}=yield L(sa,t.typeName,M);return{url:sa.operations.GetCapabilities.url,name:t.name,namespaceUri:t.namespaceUri,fields:N,geometryField:G,geometryType:aa,objectIdField:y,spatialReference:null!=
(e=M.spatialReference)?e:r.WGS84,extent:I,swapXY:Y,wfsCapabilities:sa,customParameters:M.customParameters}});return ca.apply(this,arguments)}function ja(sa,b,g){return K.apply(this,arguments)}function K(){K=d._asyncToGenerator(function*(sa,b,g,M={}){const {spatialReference:e=r.WGS84}=M;sa=sa.readFeatureTypes();g=b?ha(sa,b,g):sa.next().value;if(h.isNone(g)){if(b)throw new m("wfs-layer:feature-type-not-found",`The type '${b}' could not be found in the service`);throw new m("wfs-layer:empty-service",
"The service is empty");}b=new u({...g.extent,spatialReference:e});if(!ba.equals(e,ba.WGS84))try{yield w.initializeProjection(ba.WGS84,e,void 0,M),b=w.project(b,ba.WGS84)}catch{throw new m("wfs-layer:unsupported-spatial-reference","Projection not supported");}return{extent:b,spatialReference:e,featureType:g}});return K.apply(this,arguments)}function L(sa,b){return P.apply(this,arguments)}function P(){P=d._asyncToGenerator(function*(sa,b,g={}){const [M,e]=yield J.eachAlways([H(sa.operations.DescribeFeatureType.url,
b,g),p(sa,b,g)]);if(M.error||e.error)throw new m("wfs-layer:getWFSLayerTypeInfo-error",`An error occurred while getting info about the feature type '${b}'`,{error:M.error||e.error});const {fields:t,errors:I}=M.value;sa=M.value.geometryType||e.value.geometryType;g=e.value.swapXY;if(h.isNone(sa))throw new m("wfs-layer:unknown-geometry-type",`The geometry type could not be determined for type '${b}`,{typeName:b,geometryType:sa,fields:t,errors:I});return{...Q(t),geometryType:sa,swapXY:g}});return P.apply(this,
arguments)}function Q(sa){var b;const g=sa.find(e=>"geometry"===e.type);let M=sa.find(e=>"oid"===e.type);sa=sa.filter(e=>"geometry"!==e.type);M||(M=new f({name:"__esri_wfs_id__",type:"oid",alias:"__esri_wfs_id__"}),sa.unshift(M));return{geometryField:null!=(b=null==g?void 0:g.name)?b:null,objectIdField:M.name,fields:sa}}function p(sa,b){return n.apply(this,arguments)}function n(){n=d._asyncToGenerator(function*(sa,b,g={}){var M;let e,t=!1;const [I,N]=yield Promise.all([la(sa.operations.GetFeature.url,
b,sa.operations.GetFeature.outputFormat,{...g,count:1}),T(sa.operations.GetFeature.url,{responseType:"text",query:za(b,void 0,{...g,count:1}),signal:null==g?void 0:g.signal})]);if(sa="FeatureCollection"===I.type&&(null==(M=I.features[0])?void 0:M.geometry)){e=W.featureGeometryTypeKebabDictionary.fromJSON(C.getGeometryType(sa.type));switch(sa.type){case "Point":var aa=sa.coordinates;break;case "LineString":case "MultiPoint":aa=sa.coordinates[0];break;case "MultiLineString":case "Polygon":aa=sa.coordinates[0][0];
break;case "MultiPolygon":aa=sa.coordinates[0][0][0]}if(sa=/<[^>]*pos[^>]*> *(-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?)/.exec(N.data))M=aa[0].toFixed(3),aa=aa[1].toFixed(3),b=parseFloat(sa[1]).toFixed(3),sa=parseFloat(sa[2]).toFixed(3),M===sa&&aa===b&&(t=!0)}return{geometryType:e,swapXY:t}});return n.apply(this,arguments)}function H(sa,b,g){return O.apply(this,arguments)}function O(){O=d._asyncToGenerator(function*(sa,b,g){sa=yield T(sa,{responseType:"text",query:{SERVICE:"WFS",REQUEST:"DescribeFeatureType",
VERSION:"2.0.0",TYPENAME:b,...null==g?void 0:g.customParameters},signal:null==g?void 0:g.signal});return ea(b,sa.data)});return O.apply(this,arguments)}function ea(sa,b){const {name:g}=Na(sa);b=Ba(b);Ka(b);const M=v.find(R.iterateXML(b.firstElementChild,{element:e=>({name:e.getAttribute("name"),typeName:Na(e.getAttribute("type")).name})}),({name:e})=>e===g);if(h.isSome(M)){const e=v.find(R.iterateXML(b.firstElementChild,{complexType:t=>t}),t=>t.getAttribute("name")===M.typeName);if(h.isSome(e))return ia(e)}throw new m("wfs-layer:feature-type-not-found",
`Type '${sa}' not found in document`,{document:(new XMLSerializer).serializeToString(b)});}function ia(sa){var b,g;const M=[],e=[];let t;var I=R.iterateXML(sa,{complexContent:{extension:{sequence:{element:N=>N}}}});for(const N of I){I=N.getAttribute("name");if(!I)continue;let aa,Y;N.hasAttribute("type")?aa=Na(N.getAttribute("type")).name:R.visitXML(N,{simpleType:{restriction:X=>{aa=Na(X.getAttribute("base")).name;return{maxLength:ma=>{Y=+ma.getAttribute("value")}}}}});if(!aa)continue;const y="true"===
N.getAttribute("nillable");let G=!1;switch(aa.toLowerCase()){case "integer":case "nonpositiveinteger":case "negativeinteger":case "long":case "int":case "short":case "byte":case "nonnegativeinteger":case "unsignedlong":case "unsignedint":case "unsignedshort":case "unsignedbyte":case "positiveinteger":e.push(new f({name:I,alias:I,type:"integer",nullable:y}));break;case "float":case "double":case "decimal":e.push(new f({name:I,alias:I,type:"double",nullable:y}));break;case "boolean":case "string":case "gyearmonth":case "gyear":case "gmonthday":case "gday":case "gmonth":case "anyuri":case "qname":case "notation":case "normalizedstring":case "token":case "language":case "idrefs":case "entities":case "nmtoken":case "nmtokens":case "name":case "ncname":case "id":case "idref":case "entity":case "duration":case "time":e.push(new f({name:I,
alias:I,type:"string",nullable:y,length:null!=(b=Y)?b:255}));break;case "datetime":case "date":e.push(new f({name:I,alias:I,type:"date",nullable:y,length:null!=(g=Y)?g:36}));break;case "pointpropertytype":t="point";G=!0;break;case "multipointpropertytype":t="multipoint";G=!0;break;case "curvepropertytype":case "multicurvepropertytype":case "multilinestringpropertytype":t="polyline";G=!0;break;case "surfacepropertytype":case "multisurfacepropertytype":case "multipolygonpropertytype":t="polygon";G=
!0;break;case "geometrypropertytype":case "multigeometrypropertytype":G=!0;M.push(new m("wfs-layer:unknown-geometry-type",`geometry type '${aa}' is not supported`,{type:(new XMLSerializer).serializeToString(sa)}));break;default:M.push(new m("wfs-layer:unknown-field-type",`Unknown field type '${aa}'`,{type:(new XMLSerializer).serializeToString(sa)}))}G&&e.push(new f({name:I,alias:I,type:"geometry",nullable:y}))}for(const N of e)if("integer"===N.type&&!N.nullable&&Sa.has(N.name.toLowerCase())){N.type=
"oid";break}return{geometryType:t,fields:e,errors:M}}function la(sa,b,g,M){return qa.apply(this,arguments)}function qa(){qa=d._asyncToGenerator(function*(sa,b,g,M){({data:sa}=yield T(sa,{responseType:"text",query:za(b,g,M),signal:null==M?void 0:M.signal}));sa=sa.replace(/": +(-?\d+),(\d+)(,)?/g,'": $1.$2$3');try{var e;if(null!=M&&null!=(e=M.dateFields)&&e.length){const t=new Set(M.dateFields);return JSON.parse(sa,(I,N)=>t.has(I)?B.parseDate(N):N)}return JSON.parse(sa)}catch(t){throw new m("wfs-layer:malformed-json",
"Error while parsing the\u00a0response",{response:sa,error:t});}});return qa.apply(this,arguments)}function za(sa,b,g){return{SERVICE:"WFS",REQUEST:"GetFeature",VERSION:"2.0.0",TYPENAMES:sa,OUTPUTFORMAT:b,SRSNAME:"EPSG:4326",STARTINDEX:null==g?void 0:g.startIndex,COUNT:null==g?void 0:g.count,...null==g?void 0:g.customParameters}}function va(){va=d._asyncToGenerator(function*(sa,b,g){sa=yield T(sa,{responseType:"text",query:{SERVICE:"WFS",REQUEST:"GetFeature",VERSION:"2.0.0",TYPENAMES:b,RESULTTYPE:"hits",
...null==g?void 0:g.customParameters},signal:null==g?void 0:g.signal});sa=Ba(sa.data);Ka(sa);sa=Number.parseFloat(sa.firstElementChild.getAttribute("numberMatched"));return Number.isNaN(sa)?0:sa});return va.apply(this,arguments)}function Ba(sa){return(new DOMParser).parseFromString(sa.trim(),"text/xml")}function Na(sa){const [b,g]=sa.split(":");return{prefix:g?b:"",name:null!=g?g:b}}function Ta(sa){if((sa=sa.firstElementChild.getAttribute("version"))&&"2.0.0"!==sa)throw new m("wfs-layer:unsupported-wfs-version",
`Unsupported WFS version ${sa}. Supported version: ${"2.0.0"}`);}function Ka(sa){let b,g;R.visitXML(sa.firstElementChild,{Exception:M=>{b=M.getAttribute("exceptionCode");return{ExceptionText:e=>{g=e.textContent}}}});if(b)throw new m(`wfs-layer:${b}`,g);}const Da=new Set(["json","application/json","geojson","application/json; subtype\x3dgeojson"]),Sa=new Set(["objectid","fid"]);q.WFS_OID_FIELD_NAME="__esri_wfs_id__";q.describeFeatureType=H;q.findFeatureType=ha;q.getCapabilities=function(sa,b){return E.apply(this,
arguments)};q.getFeature=la;q.getFeatureCount=function(sa,b,g){return va.apply(this,arguments)};q.getFeatureTypeInfo=ja;q.getWFSLayerInfo=function(sa,b,g){return ca.apply(this,arguments)};q.parseDescribeFeatureTypeResponse=ea;q.parseGetCapabilitiesResponse=x;q.prepareWFSLayerFields=Q;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/core/interatorUtils":function(){define(["exports"],function(q){q.find=function(d,Z){for(const T of d)if(null!=T&&Z(T))return T};Object.defineProperty(q,"__esModule",
{value:!0})})},"esri/layers/ogc/dateUtils":function(){define(["exports"],function(q){function d(T){T=(new Date(T)).getTime();return Number.isNaN(T)?null:T}const Z=/^(?:(?<year>-?\d{4,})-(?<month>\d{2})-(?<day>\d{2}))(?:T(?<hours>\d{2}):(?<minutes>\d{2}):(?<seconds>\d{2})(?:\.(?<ms>\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\+|-)(?<offsetHours>\d{2}):(?<offsetMinutes>\d{2})))?$/;q.parseDate=function(T){var m;var v,h,J,k=Z.exec(T);if(k){k=k.groups;var w=+k.year,ba=+k.month-1,W=+k.day,C=+(null!=(v=k.hours)?
v:0);v=+(null!=(h=k.minutes)?h:0);h=+(null!=(J=k.seconds)?J:0);if(23<C||59<v||59<h)var B=null;else B=(J=null!=(B=k.ms)?B:"0")?+J.padEnd(3,"0").substring(0,3):0,B=k.isUTC?Date.UTC(w,ba,W,C,v,h,B):k.offsetSign?6E4*("+"===k.offsetSign?-1:1)*(60*+k.offsetHours+ +k.offsetMinutes)+Date.UTC(w,ba,W,C,v,h,B):(new Date(w,ba,W,C,v,h,B)).getTime(),B=Number.isNaN(B)?null:B}else B=null;return null!=(m=B)?m:d(T)};q.parseJSDate=d;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/ogc/xmlUtils":function(){define(["exports"],
function(q){function d(T,m){for(const v of T.children)v.localName in m&&(T=m[v.localName],"function"===typeof T?(T=T(v))&&d(v,T):d(v,T))}function*Z(T,m){for(const v of T.children)v.localName in m&&(T=m[v.localName],"function"===typeof T?yield T(v):yield*Z(v,T))}q.iterateXML=Z;q.visitXML=d;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(q,d,Z,T,m,v,h,J,k,w,ba,W,C){var B;const R=new Z.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});Z=B=function(f){function r(E){E=f.call(this,E)||this;
E.alias=null;E.defaultValue=void 0;E.description=null;E.domain=null;E.editable=!0;E.length=-1;E.name=null;E.nullable=!0;E.type=null;E.valueType=null;return E}q._inheritsLoose(r,f);var u=r.prototype;u.readDescription=function(E,{description:x}){let A;try{A=JSON.parse(x)}catch(F){}return A?A.value:null};u.readValueType=function(E,{description:x}){let A;try{A=JSON.parse(x)}catch(F){}return A?R.fromJSON(A.fieldValueType):null};u.clone=function(){return new B({alias:this.alias,defaultValue:this.defaultValue,
description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};return r}(T.JSONSupport);d.__decorate([m.property({type:String,json:{write:!0}})],Z.prototype,"alias",void 0);d.__decorate([m.property({type:[String,Number],json:{write:{allowNull:!0}}})],Z.prototype,"defaultValue",void 0);d.__decorate([m.property()],Z.prototype,"description",void 0);d.__decorate([w.reader("description")],
Z.prototype,"readDescription",null);d.__decorate([m.property({types:W.types,json:{read:{reader:W.fromJSON},write:!0}})],Z.prototype,"domain",void 0);d.__decorate([m.property({type:Boolean,json:{write:!0}})],Z.prototype,"editable",void 0);d.__decorate([m.property({type:h.Integer,json:{write:!0}})],Z.prototype,"length",void 0);d.__decorate([m.property({type:String,json:{write:!0}})],Z.prototype,"name",void 0);d.__decorate([m.property({type:Boolean,json:{write:!0}})],Z.prototype,"nullable",void 0);d.__decorate([k.enumeration(C.kebabDict)],
Z.prototype,"type",void 0);d.__decorate([m.property()],Z.prototype,"valueType",void 0);d.__decorate([w.reader("valueType",["description"])],Z.prototype,"readValueType",null);return Z=B=d.__decorate([ba.subclass("esri.layers.support.Field")],Z)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(q,d,Z){q.enumeration=function(T,m={}){var v;T=T instanceof d.JSONMap?T:new d.JSONMap(T,m);T={type:(null!=(v=null==m?void 0:m.ignoreUnknown)?
v:1)?T.apiValues:String,readOnly:null==m?void 0:m.readOnly,json:{type:T.jsonValues,read:null!=m&&m.readOnly?!1:{reader:T.read},write:{writer:T.write}}};void 0!==(null==m?void 0:m.default)&&(T.json.default=m.default);void 0!==(null==m?void 0:m.name)&&(T.json.name=m.name);return Z.property(T)};Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(q,d,
Z,T,m,v){d={key:"type",base:T,typeMap:{range:v,"coded-value":Z,inherited:m}};q.CodedValueDomain=Z;q.DomainBase=T;q.InheritedDomain=m;q.RangeDomain=v;q.fromJSON=function(h){if(!h||!h.type)return null;switch(h.type){case "range":return v.fromJSON(h);case "codedValue":return Z.fromJSON(h);case "inherited":return m.fromJSON(h)}return null};q.types=d;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(q,d,Z,T,m,v,h,J,k,w,ba){var W;m=W=function(C){function B(f){f=C.call(this,f)||this;f.codedValues=null;f.type="coded-value";return f}q._inheritsLoose(B,C);var R=B.prototype;R.getName=function(f){let r=null;if(this.codedValues){const u=String(f);this.codedValues.some(E=>{String(E.code)===u&&(r=E.name);return!!r})}return r};R.clone=function(){return new W({codedValues:Z.clone(this.codedValues),name:this.name})};return B}(ba);d.__decorate([T.property({type:[w["default"]],json:{write:!0}})],m.prototype,
"codedValues",void 0);d.__decorate([J.enumeration({codedValue:"coded-value"})],m.prototype,"type",void 0);return m=W=d.__decorate([k.subclass("esri.layers.support.CodedValueDomain")],m)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/subclass".split(" "),
function(q,d,Z,T,m,v,h,J,k){var w;q.CodedValue=w=function(ba){function W(C){C=ba.call(this,C)||this;C.name=null;C.code=null;return C}d._inheritsLoose(W,ba);W.prototype.clone=function(){return new w({name:this.name,code:this.code})};return W}(T.JSONSupport);Z.__decorate([m.property({type:String,json:{write:!0}})],q.CodedValue.prototype,"name",void 0);Z.__decorate([m.property({type:[String,Number],json:{write:!0}})],q.CodedValue.prototype,"code",void 0);q.CodedValue=w=Z.__decorate([k.subclass("esri.layers.support.CodedValue")],
q.CodedValue);q["default"]=q.CodedValue;Object.defineProperty(q,"__esModule",{value:!0})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(q,d,Z,T,m,v,h,J,k,w){Z=
new Z.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});T=function(ba){function W(C){C=ba.call(this,C)||this;C.name=null;C.type=null;return C}q._inheritsLoose(W,ba);return W}(T.JSONSupport);d.__decorate([m.property({type:String,json:{write:!0}})],T.prototype,"name",void 0);d.__decorate([k.enumeration(Z)],T.prototype,"type",void 0);return T=d.__decorate([w.subclass("esri.layers.support.Domain")],T)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(q,d,Z,T,m,v,h,J,k){var w;Z=w=function(ba){function W(C){C=ba.call(this,C)||this;C.type="inherited";return C}q._inheritsLoose(W,ba);W.prototype.clone=function(){return new w};return W}(k);d.__decorate([h.enumeration({inherited:"inherited"})],Z.prototype,"type",void 0);return Z=w=d.__decorate([J.subclass("esri.layers.support.InheritedDomain")],Z)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(q,d,Z,T,m,v,h,J,k){var w;T=w=function(ba){function W(C){C=ba.call(this,C)||this;C.maxValue=null;C.minValue=null;C.type="range";return C}q._inheritsLoose(W,ba);W.prototype.clone=function(){return new w({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return W}(k);d.__decorate([Z.property({type:Number,json:{type:[Number],read:{source:"range",reader(ba,W){return W.range&&W.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},
target:"range",writer(ba,W,C){W[C]=[this.minValue||0,ba]}}}})],T.prototype,"maxValue",void 0);d.__decorate([Z.property({type:Number,json:{type:[Number],read:{source:"range",reader(ba,W){return W.range&&W.range[0]}},write:{target:"range",writer(ba,W,C){W[C]=[ba,this.maxValue||0]}}}})],T.prototype,"minValue",void 0);d.__decorate([h.enumeration({range:"range"})],T.prototype,"type",void 0);return T=w=d.__decorate([J.subclass("esri.layers.support.RangeDomain")],T)})},"esri/layers/support/fieldType":function(){define(["exports",
"../../core/jsonMap"],function(q,d){d=new d.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});q.kebabDict=d;Object.defineProperty(q,"__esModule",
{value:!0})})},"*noref":1}});
define("../../../chunks/_rollupPluginBabelHelpers ../../../core/Error ../../../core/Logger ../../../core/maybe ../../../core/promiseUtils ../../../geometry/support/spatialReferenceUtils ../featureConversionUtils ../data/FeatureStore ../data/projectionSupport ../data/QueryEngine ./geojson/geojson ./support/sourceUtils ../../ogc/wfsUtils ../../support/FieldsIndex".split(" "),function(q,d,Z,T,m,v,h,J,k,w,ba,W,C,B){return function(){function R(){var r=this;this._customParameters=this._queryEngine=null;
this._snapshotFeatures=function(){var u=q._asyncToGenerator(function*(E){const {objectIdField:x}=r._queryEngine;var A=yield C.getFeature(r._getFeatureUrl,r._featureType.typeName,r._getFeatureOutputFormat,{customParameters:r._customParameters,dateFields:r._queryEngine.fieldsIndex.dateFields.map(S=>S.name),signal:E});yield ba.validateGeoJSON(A);m.throwIfAborted(E);E=ba.createOptimizedFeatures(A,{geometryType:r._queryEngine.geometryType,hasZ:!1,objectIdField:x});if(!v.equals(r._queryEngine.spatialReference,
v.WGS84))for(var F of E)T.isSome(F.geometry)&&(F.geometry=h.convertFromGeometry(k.project(h.convertToGeometry(F.geometry,r._queryEngine.geometryType,!1,!1),v.WGS84,r._queryEngine.spatialReference)));F=1;for(const S of E)A={},W.mixAttributes(r._fieldsIndex,A,S.attributes,null,!0),S.attributes=A,null==S.attributes[x]&&(S.objectId=S.attributes[x]=F++);return E});return function(E){return u.apply(this,arguments)}}()}var f=R.prototype;f.destroy=function(){var r;null==(r=this._queryEngine)?void 0:r.destroy();
this._queryEngine=null};f.load=function(){var r=q._asyncToGenerator(function*(u,E){const {getFeatureUrl:x,getFeatureOutputFormat:A,spatialReference:F,fields:S,geometryType:ha,featureType:ca,objectIdField:ja,customParameters:K}=u;this._featureType=ca;this._customParameters=K;this._getFeatureUrl=x;this._getFeatureOutputFormat=A;this._fieldsIndex=new B(S);yield this._checkProjection(F);m.throwIfAborted(E);this._queryEngine=new w["default"]({fields:S,geometryType:ha,hasM:!1,hasZ:!1,objectIdField:ja,spatialReference:F,
timeInfo:null,featureStore:new J({geometryType:ha,hasM:!1,hasZ:!1})});u=yield this._snapshotFeatures(T.unwrap(E.signal));this._queryEngine.featureStore.addMany(u);return{extent:this._queryEngine.fullExtent}});return function(u,E){return r.apply(this,arguments)}}();f.applyEdits=function(){var r=q._asyncToGenerator(function*(){throw new d("wfs-source:editing-not-supported","applyEdits() is not supported on WFSLayer");});return function(){return r.apply(this,arguments)}}();f.queryFeatures=function(){var r=
q._asyncToGenerator(function*(u={},E={}){yield this._waitSnapshotComplete();return this._queryEngine.executeQuery(u,E.signal)});return function(){return r.apply(this,arguments)}}();f.queryFeatureCount=function(){var r=q._asyncToGenerator(function*(u={},E={}){yield this._waitSnapshotComplete();return this._queryEngine.executeQueryForCount(u,E.signal)});return function(){return r.apply(this,arguments)}}();f.queryObjectIds=function(){var r=q._asyncToGenerator(function*(u={},E={}){yield this._waitSnapshotComplete();
return this._queryEngine.executeQueryForIds(u,E.signal)});return function(){return r.apply(this,arguments)}}();f.queryExtent=function(){var r=q._asyncToGenerator(function*(u={},E={}){yield this._waitSnapshotComplete();return this._queryEngine.executeQueryForExtent(u,E.signal)});return function(){return r.apply(this,arguments)}}();f.querySnapping=function(){var r=q._asyncToGenerator(function*(u,E={}){yield this._waitSnapshotComplete();return this._queryEngine.executeQueryForSnapping(u,E.signal)});
return function(u){return r.apply(this,arguments)}}();f.setCustomParameters=function(r){this._customParameters=r};f.refresh=function(){var r=q._asyncToGenerator(function*(){var u;null==(u=this._snapshotTask)?void 0:u.abort();this._snapshotTask=m.createTask(this._snapshotFeatures);this._snapshotTask.promise.then(E=>{this._queryEngine.featureStore.clear();E&&this._queryEngine.featureStore.addMany(E)},E=>{this._queryEngine.featureStore.clear();m.isAbortError(E)||Z.getLogger("esri.layers.WFSLayer").error(new d("wfs-layer:getfeature-error",
"An error occurred during the GetFeature request",{error:E}))});yield this._waitSnapshotComplete();return{extent:this._queryEngine.fullExtent}});return function(){return r.apply(this,arguments)}}();f._waitSnapshotComplete=function(){var r=q._asyncToGenerator(function*(){if(this._snapshotTask&&!this._snapshotTask.finished){try{yield this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}});return function(){return r.apply(this,arguments)}}();f._checkProjection=function(){var r=q._asyncToGenerator(function*(u){try{yield k.checkProjectionSupport(v.WGS84,
u)}catch{throw new d("unsupported-projection","Projection not supported",{spatialReference:u});}});return function(u){return r.apply(this,arguments)}}();return R}()});