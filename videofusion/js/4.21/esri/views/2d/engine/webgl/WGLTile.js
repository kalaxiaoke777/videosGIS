// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.21/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/mat2d ../../../../chunks/mat3 ../../../../chunks/mat3f32 ../../../../chunks/vec2 ../../../../chunks/vec2f32 ./definitions ./TiledDisplayObject".split(" "),function(m,q,k,n,l,r,t,p,h){let u=function(){function d(){}var c=d.prototype;c.acquire=function(f){return{refCount:1,version:-1,labelMat2d:l.create(),tileMat3:l.create(),dvs:l.create()}};c.release=function(f){};return d}();h=function(d){function c(b,e,a){return d.call(this,
b,e,a,p.TILE_SIZE,p.TILE_SIZE)||this}q._inheritsLoose(c,d);var f=c.prototype;f.destroy=function(){d.prototype.destroy.call(this);this._transforms&&c.TransformCache.release(this.key.hash)};f.setTransform=function(b,e){if(b.version!==this.transforms.version){this.transforms.version=b.version;var a=e/(b.resolution*b.pixelRatio),g=this.transforms.tileMat3,[v,w]=b.toScreenNoRotation([0,0],[this.x,this.y]);n.set(g,this.width/this.rangeX*a,0,0,0,this.height/this.rangeY*a,0,v,w,1);n.multiply(this.transforms.dvs,
b.displayViewMat3,g);a=this.transforms.labelMat2d;e=b.getScreenTransform(a,e);g=t.create();r.transformMat2d(g,[this.x,this.y],e);k.identity(a);k.translate(a,a,g);k.multiply(a,b.viewMat2d,a)}};f._createTransforms=function(){return c.TransformCache.acquire(this.key.hash)};return c}(h.TiledDisplayObject);h.TransformCache=new u;m.WGLTile=h;Object.defineProperty(m,"__esModule",{value:!0})});