// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.21/esri/copyright.txt for details.
//>>built
define("exports ../../../core/maybe ../../webgl/BufferObject ../../webgl/FramebufferObject ../../../chunks/_rollupPluginBabelHelpers ../../../core/has ../../webgl/checkWebGLError ../../webgl/enums ../../../chunks/builtins ../../webgl/renderState ../../webgl/Texture ../../webgl/VertexArrayObject ./NoiseTextureAtlasTechnique ../webgl-engine/lib/glUtil3D".split(" "),function(e,d,f,k,p,q,r,t,u,v,l,w,m,n){f=function(){function g(a,b){this._shapeTextureDescriptor={target:3553,pixelFormat:6408,dataType:5121,
wrapMode:33071,samplingMode:9729,hasMipmap:!1,width:1,height:1};this._tileRows=this._tileSize=1;this._frameBuffer=new k(a,{colorTarget:0});this._vao=n.createQuadVAO(a);this.textureAtlas=new l(a,this._shapeTextureDescriptor,null);this._technique=new m.NoiseTextureAtlasTechnique({rctx:a,viewingMode:b.state.viewingMode},null)}var h=g.prototype;h.destroy=function(){this._technique=d.releaseMaybe(this._technique);this._frameBuffer=d.disposeMaybe(this._frameBuffer);this._vao=d.disposeMaybe(this._vao);this.textureAtlas=
d.disposeMaybe(this.textureAtlas)};h.render=function(a,b){if(d.isNone(this._vao)||d.isNone(this.textureAtlas))return!1;this._tileSize=a;this._tileRows=Math.ceil(Math.sqrt(this._tileSize));a=(a+2)*this._tileRows;this._frameBuffer.resize(a,a);this.textureAtlas.resize(a,a);this._frameBuffer.attachColorTexture(this.textureAtlas);b.bindFramebuffer(this._frameBuffer);var c=this._technique.program;b.bindVAO(this._vao);c.assertCompatibleVertexAttributeLocations(this._vao);this._technique.bindPipelineState(b);
b.useProgram(c);c.setUniform1f("tileSize",this._tileSize);c.setUniform1f("tileRows",this._tileRows);c=b.getViewport();b.setViewport(0,0,a,a);b.gl.drawArrays(b.gl.TRIANGLE_STRIP,0,4);this._frameBuffer.detachColorTexture();b.setViewport(c.x,c.y,c.width,c.height);return!0};return g}();e.NoiseTextureAtlas=f;Object.defineProperty(e,"__esModule",{value:!0})});