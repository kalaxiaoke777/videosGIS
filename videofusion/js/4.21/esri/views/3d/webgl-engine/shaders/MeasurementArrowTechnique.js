// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.21/esri/copyright.txt for details.
//>>built
define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../core/shaderLibrary/util/View.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ../lib/OrderIndependentTransparency ../lib/Program ../../../../chunks/MeasurementArrow.glsl ../../../webgl/renderState".split(" "),function(r,k,l,m,p,e,g,h,t,q,u,v,n){g=function(d){function b(a,
f,w){return d.call(this,a,f,w)||this}l._inheritsLoose(b,d);var c=b.prototype;c.initializeProgram=function(a){const f=b.shader.get().build();return new u.Program(a.rctx,f,t.Default3D)};c.bindPass=function(a,f){p.bindProjectionMatrix(this.program,f.camera.projectionMatrix);this.program.setUniform1f("width",a.width);this.program.setUniform1f("outlineSize",a.outlineSize);this.program.setUniform4fv("outlineColor",a.outlineColor);this.program.setUniform1f("stripeLength",a.stripeLength);this.program.setUniform4fv("stripeEvenColor",
a.stripeEvenColor);this.program.setUniform4fv("stripeOddColor",a.stripeOddColor)};c.bindDraw=function(a){p.bindView(this.program,a);this.program.rebindTextures()};c.setPipelineState=function(a){return n.makePipelineState({blending:this.configuration.transparent?3===a?q.blendingDefault:q.OITBlending(a):null,polygonOffset:this.configuration.polygonOffsetEnabled&&{factor:0,units:-4},depthTest:{func:513},depthWrite:n.defaultDepthWriteParams,colorWrite:n.defaultColorWriteParams})};c.initializePipeline=
function(){return this.setPipelineState(this.configuration.transparencyPassType)};l._createClass(b,[{key:"primitiveType",get:function(){return 5}}]);return b}(g.ShaderTechnique);g.shader=new e.ReloadableShaderModule(v.MeasurementArrowShader,()=>new Promise(function(d,b){r(["./MeasurementArrow.glsl"],d,b)}));e=function(d){function b(){var c=d.apply(this,arguments)||this;c.polygonOffsetEnabled=!1;c.transparent=!1;c.transparencyPassType=3;return c}l._inheritsLoose(b,d);return b}(h.ShaderTechniqueConfiguration);
m.__decorate([h.parameter()],e.prototype,"polygonOffsetEnabled",void 0);m.__decorate([h.parameter()],e.prototype,"transparent",void 0);m.__decorate([h.parameter({count:4})],e.prototype,"transparencyPassType",void 0);k.MeasurementArrowTechnique=g;k.MeasurementArrowTechniqueConfiguration=e;Object.defineProperty(k,"__esModule",{value:!0})});