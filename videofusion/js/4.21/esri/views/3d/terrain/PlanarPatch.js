// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.21/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/mathUtils ../../../core/maybe ../../../chunks/vec3f64 ../../../geometry/support/aaBoundingBox ../../../geometry/support/frustum ../../../geometry/support/spatialReferenceUtils ./PatchGeometryFactory ./Tile ../webgl-engine/materials/internal/MaterialUtil".split(" "),function(l,n,m,p,q,r,t,u,v,f,w){f=function(k){function g(a,b,c){var e=k.call(this,g.NumSubdivisionsAtLevel)||this;e.horizontalScaleFactor=1;void 0!==a&&e.init(a,b,
c);return e}n._inheritsLoose(g,k);var d=g.prototype;d.init=function(a,b,c){k.prototype.init.call(this,a,b,c);a=c.view.renderSpatialReference;this.horizontalScaleFactor=p.isSome(a)&&u.isPlateCarree(a)&&c.spatialReference.isGeographic?this.ellipsoid.radius*Math.PI/180:1;this._edgeLen=(this.extent[2]-this.extent[0])*this.horizontalScaleFactor;this._edgeLen2=this._edgeLen*this._edgeLen;this.centerAtSeaLevel[0]=m.lerp(this.extent[0],this.extent[2],.5)*this.horizontalScaleFactor;this.centerAtSeaLevel[1]=
m.lerp(this.extent[1],this.extent[3],.5)*this.horizontalScaleFactor;this.centerAtSeaLevel[2]=0;this.updateRadiusAndCenter()};d.updateRadiusAndCenter=function(){this._updateCenter();const a=(this.extent[2]-this.extent[0])*Math.SQRT1_2,b=.5*(this.elevationBounds[0]-this.elevationBounds[1]);this._center[1][3]=Math.sqrt(a*a+b*b)};d._isVisible=function(a){return this.intersectsClippingArea&&t.intersectsAABB(a,this._aabb())};d._aabb=function(){return r.wrap(this.extent[0]*this.horizontalScaleFactor,this.extent[1]*
this.horizontalScaleFactor,this.elevationBounds[0],this.extent[2]*this.horizontalScaleFactor,this.extent[3]*this.horizontalScaleFactor,this.elevationBounds[1])};d.intersectsRay=function(a,b,c,e,x){h[0]=1/b[0];h[1]=1/b[1];h[2]=1/b[2];b=x*(this.extent[2]-this.extent[0])*.1;return w.intersectAabbInvDirBefore(this._aabb(),a,h,c+b,e)};d.createGeometry=function(a,b){v.createPlanarGlobePatch(a,this.extent,b,this.horizontalScaleFactor,this.renderData);this.setMemoryDirty()};return g}(f["default"]);f.NumSubdivisionsAtLevel=
[2,2,2,2,2,2,2,2];const h=q.create();l.PlanarPatch=f;Object.defineProperty(l,"__esModule",{value:!0})});