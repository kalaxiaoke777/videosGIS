// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.21/esri/copyright.txt for details.
//>>built
require({cache:{"esri/rest/query/operations/pbfDehydratedFeatureSet":function(){define("exports ../../../core/compilerUtils ../../../core/uid ../../../geometry/SpatialReference ../../../layers/graphics/dehydratedFeatures ../../../layers/graphics/featureConversionUtils ../../../layers/support/Field ./zscale".split(" "),function(c,E,B,C,D,O,F,P){function K(f,v){return v}function m(f,v,t,d){switch(t){case 0:return g(f,v+d,0);case 1:return"lowerLeft"===f.originPosition?g(f,v+d,1):w(f,v+d,1)}}function q(f,
v,t,d){switch(t){case 2:return g(f,v,2);default:return m(f,v,t,d)}}function G(f,v,t,d){switch(t){case 2:return g(f,v,3);default:return m(f,v,t,d)}}function N(f,v,t,d){switch(t){case 3:return g(f,v,3);default:return q(f,v,t,d)}}function g({translate:f,scale:v},t,d){return f[d]+t*v[d]}function w({translate:f,scale:v},t,d){return f[d]-t*v[d]}let a=function(){function f(t){this.options=t;this.geometryTypes=["point","multipoint","polyline","polygon"];this.previousCoordinate=[0,0];this.transform=null;this.applyTransform=
K;this.lengths=[];this.vertexDimension=this.toAddInCurrentPath=this.currentLengthIndex=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;this.AttributesConstructor=function(){}}var v=f.prototype;v.createFeatureResult=function(){return new D.DehydratedFeatureSetClass};v.finishFeatureResult=function(t){this.options.applyTransform&&(t.transform=null);this.AttributesConstructor=function(){};this.coordinateBuffer=null;this.lengths.length=0;if(t.hasZ){var d=P.getGeometryZScaler(t.geometryType,this.options.sourceSpatialReference,
t.spatialReference);if(d)for(const r of t.features)d(r.geometry)}};v.createSpatialReference=function(){return new C};v.addField=function(t,d){t.fields.push(F.fromJSON(d));const r=t.fields.map(J=>J.name);this.AttributesConstructor=function(){for(const J of r)this[J]=null}};v.addFeature=function(t,d){const r=this.options.maxStringAttributeLength?this.options.maxStringAttributeLength:0;if(0<r)for(const J in d.attributes){const V=d.attributes[J];"string"===typeof V&&V.length>r&&(d.attributes[J]="")}t.features.push(d)};
v.addQueryGeometry=function(t,d){const {queryGeometry:r,queryGeometryType:J}=d;d=O.unquantizeOptimizedGeometry(r.clone(),r,!1,!1,this.transform);d=O.convertToGeometry(d,J,!1,!1);let V=null;switch(J){case "esriGeometryPoint":V="point";break;case "esriGeometryPolygon":V="polygon";break;case "esriGeometryPolyline":V="polyline";break;case "esriGeometryMultipoint":V="multipoint"}d.type=V;t.queryGeometryType=J;t.queryGeometry=d};v.prepareFeatures=function(t){this.transform=t.transform;this.options.applyTransform&&
t.transform&&(this.applyTransform=this.deriveApplyTransform(t));this.vertexDimension=2;t.hasZ&&this.vertexDimension++;t.hasM&&this.vertexDimension++;switch(t.geometryType){case "point":this.addCoordinate=(d,r,J)=>this.addCoordinatePoint(d,r,J);this.createGeometry=d=>this.createPointGeometry(d);break;case "polygon":this.addCoordinate=(d,r,J)=>this.addCoordinatePolygon(d,r,J);this.createGeometry=d=>this.createPolygonGeometry(d);break;case "polyline":this.addCoordinate=(d,r,J)=>this.addCoordinatePolyline(d,
r,J);this.createGeometry=d=>this.createPolylineGeometry(d);break;case "multipoint":this.addCoordinate=(d,r,J)=>this.addCoordinateMultipoint(d,r,J);this.createGeometry=d=>this.createMultipointGeometry(d);break;case "mesh":case "extent":break;default:E.neverReached(t.geometryType)}};v.createFeature=function(){this.currentLengthIndex=this.lengths.length=0;this.previousCoordinate[0]=0;this.previousCoordinate[1]=0;return new D.DehydratedFeatureClass(B.generateUID(),null,new this.AttributesConstructor)};
v.allocateCoordinates=function(){const t=this.lengths.reduce((d,r)=>d+r,0);this.coordinateBuffer=new Float64Array(t*this.vertexDimension);this.coordinateBufferPtr=0};v.addLength=function(t,d,r){0===this.lengths.length&&(this.toAddInCurrentPath=d);this.lengths.push(d)};v.createPointGeometry=function(t){t={type:"point",x:0,y:0,spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM};t.hasZ&&(t.z=0);t.hasM&&(t.m=0);return t};v.addCoordinatePoint=function(t,d,r){d=this.applyTransform(this.transform,
d,r,0);switch(r){case 0:t.x=d;break;case 1:t.y=d;break;case 2:t.hasZ?t.z=d:t.m=d;break;case 3:t.m=d}};v.transformPathLikeValue=function(t,d){let r=0;1>=d&&(r=this.previousCoordinate[d],this.previousCoordinate[d]+=t);return this.applyTransform(this.transform,t,d,r)};v.addCoordinatePolyline=function(t,d,r){this.dehydratedAddPointsCoordinate(t.paths,d,r)};v.addCoordinatePolygon=function(t,d,r){this.dehydratedAddPointsCoordinate(t.rings,d,r)};v.addCoordinateMultipoint=function(t,d,r){0===r&&t.points.push([]);
d=this.transformPathLikeValue(d,r);t.points[t.points.length-1].push(d)};v.createPolygonGeometry=function(t){return{type:"polygon",rings:[[]],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}};v.createPolylineGeometry=function(t){return{type:"polyline",paths:[[]],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}};v.createMultipointGeometry=function(t){return{type:"multipoint",points:[],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}};v.dehydratedAddPointsCoordinate=
function(t,d,r){0===r&&0===this.toAddInCurrentPath--&&(t.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);d=this.transformPathLikeValue(d,r);t=t[t.length-1];0===r&&t.push(new Float64Array(this.coordinateBuffer.buffer,this.coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT,this.vertexDimension));this.coordinateBuffer[this.coordinateBufferPtr++]=d};v.deriveApplyTransform=function(t){const {hasZ:d,hasM:r}=t;return d&&
r?N:d?q:r?G:m};return f}();c.DehydratedFeatureSetParserContext=a;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(c,E){c.neverReached=function(B){};c.neverReachedSilent=function(B){};c.tuple=(...B)=>B;c.typeCast=function(B){return()=>B};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/dehydratedFeatures":function(){define("exports ../../core/byteSizeEstimations ../../core/has ../../core/maybe ../../core/typedArrayUtil ../../core/uid ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/quantizationUtils ../../geometry/support/typeUtils ../support/Field ./dehydratedFeatureComparison".split(" "),
function(c,E,B,C,D,O,F,P,K,m,q,G,N){function g(d,r,J){if(C.isNone(d))return null;switch(r){case "point":return{x:d.x,y:d.y,z:d.z,m:d.m,hasZ:null!=d.z,hasM:null!=d.m,type:"point",spatialReference:J};case "polyline":return{paths:d.paths,hasZ:!!d.hasZ,hasM:!!d.hasM,type:"polyline",spatialReference:J};case "polygon":return{rings:d.rings,hasZ:!!d.hasZ,hasM:!!d.hasM,type:"polygon",spatialReference:J};case "multipoint":return{points:d.points,hasZ:!!d.hasZ,hasM:!!d.hasM,type:"multipoint",spatialReference:J}}}
function w(d){if(C.isNone(d))return 0;let r=32;switch(d.type){case "point":r+=42;break;case "polyline":case "polygon":{var J=0;const V=2+(d.hasZ?1:0)+(d.hasM?1:0);d="polyline"===d.type?d.paths:d.rings;for(const X of d)J+=X.length;r+=8*J*V+64;r+=128*J;r=r+34+32*(d.length+1);break}case "multipoint":J=d.points.length;r+=8*J*(2+(d.hasZ?1:0)+(d.hasM?1:0))+64;r+=128*J;r=r+34+32;break;case "extent":r+=98;d.hasM&&(r+=32);d.hasZ&&(r+=32);break;case "mesh":r+=D.estimateSize(d.vertexAttributes.position),r+=
D.estimateSize(d.vertexAttributes.normal),r+=D.estimateSize(d.vertexAttributes.uv),r+=D.estimateSize(d.vertexAttributes.tangent)}return r}function a(d,r){P.empty(r);"mesh"===d.type&&(d=d.extent);switch(d.type){case "point":r[0]=r[3]=d.x;r[1]=r[4]=d.y;d.hasZ&&(r[2]=r[5]=d.z);break;case "polyline":for(var J=0;J<d.paths.length;J++)P.expandWithNestedArray(r,d.paths[J],d.hasZ);break;case "polygon":for(J=0;J<d.rings.length;J++)P.expandWithNestedArray(r,d.rings[J],d.hasZ);break;case "multipoint":P.expandWithNestedArray(r,
d.points,d.hasZ);break;case "extent":r[0]=d.xmin,r[1]=d.ymin,r[3]=d.xmax,r[4]=d.ymax,null!=d.zmin&&(r[2]=d.zmin),null!=d.zmax&&(r[5]=d.zmax)}}function f(d,r){K.empty(r);"mesh"===d.type&&(d=d.extent);switch(d.type){case "point":r[0]=r[2]=d.x;r[1]=r[3]=d.y;break;case "polyline":for(var J=0;J<d.paths.length;J++)K.expandWithNestedArray(r,d.paths[J]);break;case "polygon":for(J=0;J<d.rings.length;J++)K.expandWithNestedArray(r,d.rings[J]);break;case "multipoint":K.expandWithNestedArray(r,d.points);break;
case "extent":r[0]=d.xmin,r[1]=d.ymin,r[2]=d.xmax,r[3]=d.ymax}}const v=P.create(),t=K.create();c.equals=N.equals;c.DehydratedFeatureClass=function(d,r,J){this.uid=d;this.geometry=r;this.attributes=J;this.visible=!0;this.centroid=this.objectId=null};c.DehydratedFeatureSetClass=function(){this.exceededTransferLimit=!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=
this.geometryType=null};c.computeAABB=a;c.computeAABR=f;c.estimateGeometryObjectSize=w;c.estimateSize=function(d){let r;r=32+E.estimateAttributesObjectSize(d.attributes);return r=r+3+(8+w(d.geometry))};c.expandAABB=function(d,r){a(d,v);P.expandWithAABB(r,v)};c.expandAABR=function(d,r){C.isSome(d)&&(f(d,t),K.expand(r,t,r))};c.fromFeatureSetJSON=function(d){const r=q.featureGeometryTypeKebabDictionary.fromJSON(d.geometryType),J=F.fromJSON(d.spatialReference),V=d.transform,X=d.features.map(n=>{var z=
d.objectIdFieldName;n={uid:O.generateUID(),objectId:z&&n.attributes?n.attributes[z]:null,attributes:n.attributes,geometry:g(n.geometry,r,J),visible:!0};z=n.geometry;if(C.isSome(z)&&V)switch(z.type){case "point":n.geometry=m.unquantizePoint(V,z,z,z.hasZ,z.hasM);break;case "multipoint":n.geometry=m.unquantizeMultipoint(V,z,z,z.hasZ,z.hasM);break;case "polygon":n.geometry=m.unquantizePolygon(V,z,z,z.hasZ,z.hasM);break;case "polyline":n.geometry=m.unquantizePolyline(V,z,z,z.hasZ,z.hasM);break;case "extent":n.geometry=
z;break;case "mesh":n.geometry=z}return n});return{geometryType:r,features:X,spatialReference:J,fields:d.fields?d.fields.map(n=>G.fromJSON(n)):null,objectIdFieldName:d.objectIdFieldName,globalIdFieldName:d.globalIdFieldName,geohashFieldName:d.geohashFieldName,geometryProperties:d.geometryProperties,hasZ:d.hasZ,hasM:d.hasM,exceededTransferLimit:d.exceededTransferLimit,transform:null}};c.fromJSONGeometry=g;c.getObjectId=function(d,r){return null!=d.objectId?d.objectId:d.attributes&&r?d.attributes[r]:
null};c.hasGeometry=function(d){return C.isSome(d.geometry)};c.hasVertices=function(d){if(C.isNone(d))return!1;switch(d.type){case "extent":case "point":return!0;case "polyline":for(const r of d.paths)if(0<r.length)return!0;return!1;case "polygon":for(const r of d.rings)if(0<r.length)return!0;return!1;case "multipoint":return 0<d.points.length;case "mesh":return!d.loaded||0<d.vertexAttributes.position.length}};c.isFeatureGeometry=function(d){return q.isFeatureGeometryType(d.type)};c.makeDehydratedPoint=
function(d,r,J,V){return{x:d,y:r,z:J,hasZ:null!=J,hasM:!1,spatialReference:V,type:"point"}};c.numVertices=function(d){if(C.isNone(d))return 0;switch(d.type){case "point":return 1;case "polyline":var r=0;for(var J of d.paths)r+=J.length;return r;case "polygon":J=0;for(r of d.rings)J+=r.length;return J;case "multipoint":return d.points.length;case "extent":return 2;case "mesh":return(d=d.vertexAttributes&&d.vertexAttributes.position)?d.length/3:0}};Object.defineProperty(c,"__esModule",{value:!0})})},
"esri/core/byteSizeEstimations":function(){define(["exports"],function(c){function E(B){return 32+B.length}c.estimateAttributesObjectSize=function(B){if(!B)return 0;let C=32;for(const D in B)if(B.hasOwnProperty(D)){const O=B[D];switch(typeof O){case "string":C+=E(O);break;case "number":C+=16;break;case "boolean":C+=4}}return C};c.estimateFixedArraySize=function(B,C){return 32+B.length*C};c.estimateNumberByteSize=function(){return 16};c.estimateStringByteSize=E;Object.defineProperty(c,"__esModule",
{value:!0})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../../core/maybe","../Extent","./aaBoundingRect"],function(c,E,B,C){function D(a=g){return[a[0],a[1],a[2],a[3],a[4],a[5]]}function O(a,f,v,t,d,r,J=D()){J[0]=a;J[1]=f;J[2]=v;J[3]=t;J[4]=d;J[5]=r;return J}function F(a){return a[0]>=a[3]?0:a[3]-a[0]}function P(a){return a[1]>=a[4]?0:a[4]-a[1]}function K(a){return a[2]>=a[5]?0:a[5]-a[2]}function m(a,f){return Math.max(f[0],a[0])<=Math.min(f[3],a[3])&&Math.max(f[1],a[1])<=
Math.min(f[4],a[4])&&Math.max(f[2],a[2])<=Math.min(f[5],a[5])}function q(a,f){a[0]=f[0];a[1]=f[1];a[2]=f[2];a[3]=f[3];a[4]=f[4];a[5]=f[5];return a}function G(a){return 6===a.length}const N=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],g=[0,0,0,0,0,0],w=D();c.NEGATIVE_INFINITY=N;c.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];c.ZERO=g;c.allFinite=function(a){for(let f=0;6>f;f++)if(!isFinite(a[f]))return!1;return!0};c.center=function(a,f=[0,0,0]){f[0]=a[0]+
F(a)/2;f[1]=a[1]+P(a)/2;f[2]=a[2]+K(a)/2;return f};c.contains=function(a,f){return f[0]>=a[0]&&f[1]>=a[1]&&f[2]>=a[2]&&f[3]<=a[3]&&f[4]<=a[4]&&f[5]<=a[5]};c.containsPoint=function(a,f){return f[0]>=a[0]&&f[1]>=a[1]&&f[2]>=a[2]&&f[0]<=a[3]&&f[1]<=a[4]&&f[2]<=a[5]};c.containsPointWithMargin=function(a,f,v){return f[0]>=a[0]-v&&f[1]>=a[1]-v&&f[2]>=a[2]-v&&f[0]<=a[3]+v&&f[1]<=a[4]+v&&f[2]<=a[5]+v};c.create=D;c.depth=P;c.diameter=function(a){const f=F(a),v=K(a);a=P(a);return Math.sqrt(f*f+v*v+a*a)};c.empty=
function(a){return a?q(a,N):D(N)};c.equals=function(a,f,v){if(E.isNone(a)||E.isNone(f))return a===f;if(!G(a)||!G(f))return!1;if(v)for(let t=0;t<a.length;t++){if(!v(a[t],f[t]))return!1}else for(v=0;v<a.length;v++)if(a[v]!==f[v])return!1;return!0};c.expandWithAABB=function(a,f){a[0]=Math.min(a[0],f[0]);a[1]=Math.min(a[1],f[1]);a[2]=Math.min(a[2],f[2]);a[3]=Math.max(a[3],f[3]);a[4]=Math.max(a[4],f[4]);a[5]=Math.max(a[5],f[5])};c.expandWithBuffer=function(a,f,v=0,t=f.length/3){let d=a[0],r=a[1],J=a[2],
V=a[3],X=a[4],n=a[5];for(let z=0;z<t;z++)d=Math.min(d,f[v+3*z]),r=Math.min(r,f[v+3*z+1]),J=Math.min(J,f[v+3*z+2]),V=Math.max(V,f[v+3*z]),X=Math.max(X,f[v+3*z+1]),n=Math.max(n,f[v+3*z+2]);a[0]=d;a[1]=r;a[2]=J;a[3]=V;a[4]=X;a[5]=n};c.expandWithNestedArray=function(a,f,v){const t=f.length;let d=a[0],r=a[1],J=a[2],V=a[3],X=a[4],n=a[5];if(v)for(v=0;v<t;v++){var z=f[v];d=Math.min(d,z[0]);r=Math.min(r,z[1]);J=Math.min(J,z[2]);V=Math.max(V,z[0]);X=Math.max(X,z[1]);n=Math.max(n,z[2])}else for(v=0;v<t;v++)z=
f[v],d=Math.min(d,z[0]),r=Math.min(r,z[1]),V=Math.max(V,z[0]),X=Math.max(X,z[1]);a[0]=d;a[1]=r;a[2]=J;a[3]=V;a[4]=X;a[5]=n};c.expandWithOffset=function(a,f,v,t){a[0]=Math.min(a[0],a[0]+f);a[3]=Math.max(a[3],a[3]+f);a[1]=Math.min(a[1],a[1]+v);a[4]=Math.max(a[4],a[4]+v);a[2]=Math.min(a[2],a[2]+t);a[5]=Math.max(a[5],a[5]+t)};c.expandWithRect=function(a,f){a[0]=Math.min(a[0],f[0]);a[1]=Math.min(a[1],f[1]);a[3]=Math.max(a[3],f[2]);a[4]=Math.max(a[4],f[3])};c.expandWithVec3=function(a,f){a[0]=Math.min(a[0],
f[0]);a[1]=Math.min(a[1],f[1]);a[2]=Math.min(a[2],f[2]);a[3]=Math.max(a[3],f[0]);a[4]=Math.max(a[4],f[1]);a[5]=Math.max(a[5],f[2])};c.fromExtent=function(a,f=D()){f[0]=a.xmin;f[1]=a.ymin;f[2]=a.zmin;f[3]=a.xmax;f[4]=a.ymax;f[5]=a.zmax;return f};c.fromMinMax=function(a,f,v=D()){v[0]=a[0];v[1]=a[1];v[2]=a[2];v[3]=f[0];v[4]=f[1];v[5]=f[2];return v};c.fromRect=function(a,f){a[0]=f[0];a[1]=f[1];a[2]=Number.NEGATIVE_INFINITY;a[3]=f[2];a[4]=f[3];a[5]=Number.POSITIVE_INFINITY;return a};c.fromValues=O;c.getMax=
function(a,f){f[0]=a[3];f[1]=a[4];f[2]=a[5];return f};c.getMin=function(a,f){f[0]=a[0];f[1]=a[1];f[2]=a[2];return f};c.height=K;c.intersects=m;c.intersectsClippingArea=function(a,f){return E.isNone(f)?!0:m(a,f)};c.is=G;c.isPoint=function(a){return 0===F(a)&&0===P(a)&&0===K(a)};c.maximumDimension=function(a){return Math.max(F(a),K(a),P(a))};c.offset=function(a,f,v,t,d=a){d[0]=a[0]+f;d[1]=a[1]+v;d[2]=a[2]+t;d[3]=a[3]+f;d[4]=a[4]+v;d[5]=a[5]+t;return d};c.scale=function(a,f,v=a){const t=a[0]+F(a)/2,
d=a[1]+P(a)/2,r=a[2]+K(a)/2;v[0]=t+(a[0]-t)*f;v[1]=d+(a[1]-d)*f;v[2]=r+(a[2]-r)*f;v[3]=t+(a[3]-t)*f;v[4]=d+(a[4]-d)*f;v[5]=r+(a[5]-r)*f;return v};c.set=q;c.setMax=function(a,f,v=a){v[3]=f[0];v[4]=f[1];v[5]=f[2];v!==a&&(v[0]=a[0],v[1]=a[1],v[2]=a[2]);return a};c.setMin=function(a,f,v=a){v[0]=f[0];v[1]=f[1];v[2]=f[2];v!==a&&(v[3]=a[3],v[4]=a[4],v[5]=a[5]);return v};c.size=function(a,f=[0,0,0]){f[0]=F(a);f[1]=P(a);f[2]=K(a);return f};c.toExtent=function(a,f){return isFinite(a[2])||isFinite(a[5])?new B({xmin:a[0],
xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:f}):new B({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:f})};c.toRect=function(a,f){f||(f=C.create());f[0]=a[0];f[1]=a[1];f[2]=a[3];f[3]=a[4];return f};c.width=F;c.wrap=function(a,f,v,t,d,r){return O(a,f,v,t,d,r,w)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../../core/maybe","../Extent"],function(c,E,B,
C,D){function O(g=N){return[g[0],g[1],g[2],g[3]]}function F(g,w){g!==w&&(g[0]=w[0],g[1]=w[1],g[2]=w[2],g[3]=w[3]);return g}function P(g){return C.isNone(g)||g[0]>=g[2]?0:g[2]-g[0]}function K(g){return g[1]>=g[3]?0:g[3]-g[1]}function m(g,w,a){return w>=g[0]&&a>=g[1]&&w<=g[2]&&a<=g[3]}function q(g){return null!=g&&4===g.length}const G=[Infinity,Infinity,-Infinity,-Infinity],N=[0,0,0,0];c.NEGATIVE_INFINITY=G;c.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];c.UNIT=[0,0,1,1];c.ZERO=N;c.allFinite=
function(g){for(let w=0;4>w;w++)if(!isFinite(g[w]))return!1;return!0};c.area=function(g){return P(g)*K(g)};c.center=function(g,w=[0,0]){w[0]=(g[0]+g[2])/2;w[1]=(g[1]+g[3])/2;return w};c.clone=function(g){return[g[0],g[1],g[2],g[3]]};c.contains=function(g,w){return w[0]>=g[0]&&w[2]<=g[2]&&w[1]>=g[1]&&w[3]<=g[3]};c.containsPoint=function(g,w){return m(g,w[0],w[1])};c.containsPointObject=function(g,w){return m(g,w.x,w.y)};c.containsPointWithMargin=function(g,w,a){return w[0]>=g[0]-a&&w[1]>=g[1]-a&&w[0]<=
g[2]+a&&w[1]<=g[3]+a};c.containsXY=m;c.copy=F;c.create=O;c.distance=function(g,w){const a=(g[1]+g[3])/2,f=Math.max(Math.abs(w[0]-(g[0]+g[2])/2)-P(g)/2,0);g=Math.max(Math.abs(w[1]-a)-K(g)/2,0);return Math.sqrt(f*f+g*g)};c.empty=function(g){return g?F(g,G):O(G)};c.equals=function(g,w){return q(g)&&q(w)?g[0]===w[0]&&g[1]===w[1]&&g[2]===w[2]&&g[3]===w[3]:g===w};c.expand=function(g,w,a){if(C.isNone(w))F(a,g);else if("length"in w)if(q(w))a[0]=Math.min(g[0],w[0]),a[1]=Math.min(g[1],w[1]),a[2]=Math.max(g[2],
w[2]),a[3]=Math.max(g[3],w[3]);else{if(2===w.length||3===w.length)a[0]=Math.min(g[0],w[0]),a[1]=Math.min(g[1],w[1]),a[2]=Math.max(g[2],w[0]),a[3]=Math.max(g[3],w[1])}else switch(w.type){case "extent":a[0]=Math.min(g[0],w.xmin);a[1]=Math.min(g[1],w.ymin);a[2]=Math.max(g[2],w.xmax);a[3]=Math.max(g[3],w.ymax);break;case "point":a[0]=Math.min(g[0],w.x),a[1]=Math.min(g[1],w.y),a[2]=Math.max(g[2],w.x),a[3]=Math.max(g[3],w.y)}};c.expandPointInPlace=function(g,w){w[0]<g[0]&&(g[0]=w[0]);w[0]>g[2]&&(g[2]=w[0]);
w[1]<g[1]&&(g[1]=w[1]);w[1]>g[3]&&(g[3]=w[1])};c.expandWithNestedArray=function(g,w,a=g){const f=w.length;let v=g[0],t=g[1],d=g[2];g=g[3];for(let r=0;r<f;r++){const J=w[r];v=Math.min(v,J[0]);t=Math.min(t,J[1]);d=Math.max(d,J[0]);g=Math.max(g,J[1])}a[0]=v;a[1]=t;a[2]=d;a[3]=g;return a};c.fromExtent=function(g,w=O()){w[0]=g.xmin;w[1]=g.ymin;w[2]=g.xmax;w[3]=g.ymax;return w};c.fromValues=function(g,w,a,f,v=O()){v[0]=g;v[1]=w;v[2]=a;v[3]=f;return v};c.height=K;c.intersection=function(g,w,a){if(C.isNone(w))return F(a,
g);const f=w[0],v=w[1],t=w[2];w=w[3];a[0]=B.clamp(g[0],f,t);a[1]=B.clamp(g[1],v,w);a[2]=B.clamp(g[2],f,t);a[3]=B.clamp(g[3],v,w);return a};c.intersects=function(g,w){return Math.max(w[0],g[0])<=Math.min(w[2],g[2])&&Math.max(w[1],g[1])<=Math.min(w[3],g[3])};c.is=q;c.isPoint=function(g){return(0===P(g)||!isFinite(g[0]))&&(0===K(g)||!isFinite(g[1]))};c.offset=function(g,w,a,f=g){f[0]=g[0]+w;f[1]=g[1]+a;f[2]=g[2]+w;f[3]=g[3]+a;return f};c.pad=function(g,w,a=g){a[0]=g[0]-w;a[1]=g[1]-w;a[2]=g[2]+w;a[3]=
g[3]+w;return a};c.setMax=function(g,w,a=g){a[2]=w[0];a[3]=w[1];a!==g&&(a[0]=g[0],a[1]=g[1]);return g};c.setMin=function(g,w,a=g){a[0]=w[0];a[1]=w[1];a!==g&&(a[2]=g[2],a[3]=g[3]);return a};c.size=function(g,w){w[0]=g[2]-g[0];w[1]=g[3]-g[1]};c.toExtent=function(g,w){return new D({xmin:g[0],ymin:g[1],xmax:g[2],ymax:g[3],spatialReference:w})};c.width=P;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/support/quantizationUtils":function(){define(["exports","../../core/maybe","./jsonUtils"],
function(c,E,B){function C({scale:h,translate:p},x){return Math.round((x-p[0])/h[0])}function D({scale:h,translate:p},x){return Math.round((p[1]-x)/h[1])}function O(h,p,x){const M=[];let u,Q,T,W;for(let aa=0;aa<x.length;aa++){const fa=x[aa];if(0<aa){if(T=C(h,fa[0]),W=D(h,fa[1]),T!==u||W!==Q)M.push(p(fa,T-u,W-Q)),u=T,Q=W}else u=C(h,fa[0]),Q=D(h,fa[1]),M.push(p(fa,u,Q))}return 0<M.length?M:null}function F(h,p,x,M){return O(h,x?M?z:n:M?n:X,p)}function P(h,p,x,M){const u=[];x=x?M?z:n:M?n:X;for(M=0;M<
p.length;M++){const Q=O(h,x,p[M]);Q&&3<=Q.length&&u.push(Q)}return u.length?u:null}function K(h,p,x,M){const u=[];x=x?M?z:n:M?n:X;for(M=0;M<p.length;M++){const Q=O(h,x,p[M]);Q&&2<=Q.length&&u.push(Q)}return u.length?u:null}function m({scale:h,translate:p},x){return x*h[0]+p[0]}function q({scale:h,translate:p},x){return p[1]-x*h[1]}function G(h,p,x){const M=Array(x.length);if(!x.length)return M;const [u,Q]=h.scale;let T=m(h,x[0][0]);h=q(h,x[0][1]);M[0]=p(x[0],T,h);for(let W=1;W<x.length;W++){const aa=
x[W];T+=aa[0]*u;h-=aa[1]*Q;M[W]=p(aa,T,h)}return M}function N(h,p,x){const M=Array(x.length);for(let u=0;u<x.length;u++)M[u]=G(h,p,x[u]);return M}function g(h,p,x,M){return G(h,x?M?z:n:M?n:X,p)}function w(h,p,x,M){return N(h,x?M?z:n:M?n:X,p)}function a(h,p,x,M){return N(h,x?M?z:n:M?n:X,p)}function f(h,p,x){let [M,u]=x[0],Q=Math.min(M,p[0]),T=Math.min(u,p[1]),W=Math.max(M,p[2]);p=Math.max(u,p[3]);for(let aa=1;aa<x.length;aa++){const [fa,ia]=x[aa];M+=fa;u+=ia;0>fa&&(Q=Math.min(Q,M));0<fa&&(W=Math.max(W,
M));0>ia?T=Math.min(T,u):0<ia&&(p=Math.max(p,u))}h[0]=Q;h[1]=T;h[2]=W;h[3]=p;return h}function v(h,p){if(!p.length)return null;h[0]=h[1]=Number.POSITIVE_INFINITY;h[2]=h[3]=Number.NEGATIVE_INFINITY;for(let x=0;x<p.length;x++)f(h,h,p[x]);return h}function t(h,p,x,M,u){p.xmin=C(h,x.xmin);p.ymin=D(h,x.ymin);p.xmax=C(h,x.xmax);p.ymax=D(h,x.ymax);p!==x&&(M&&(p.zmin=x.zmin,p.zmax=x.zmax),u&&(p.mmin=x.mmin,p.mmax=x.mmax));return p}function d(h,p,x,M,u){p.points=F(h,x.points,M,u);return p}function r(h,p,x,
M,u){p.x=C(h,x.x);p.y=D(h,x.y);p!==x&&(M&&(p.z=x.z),u&&(p.m=x.m));return p}function J(h,p,x,M,u){h=P(h,x.rings,M,u);if(!h)return null;p.rings=h;return p}function V(h,p,x,M,u){h=K(h,x.paths,M,u);if(!h)return null;p.paths=h;return p}const X=(h,p,x)=>[p,x],n=(h,p,x)=>[p,x,h[2]],z=(h,p,x)=>[p,x,h[2],h[3]];c.equals=function(h,p){if(h===p||null==h&&null==p)return!0;if(null==h||null==p)return!1;let x,M,u,Q;h&&"upperLeft"===h.originPosition?(x=h.translate[0],M=h.translate[1],h=h.scale[0]):(x=h.extent.xmin,
M=h.extent.ymax,h=h.tolerance);p&&"upperLeft"===p.originPosition?(u=p.translate[0],Q=p.translate[1],p=p.scale[0]):(u=p.extent.xmin,Q=p.extent.ymax,p=p.tolerance);return x===u&&M===Q&&h===p};c.getQuantizedBoundsCoordsArray=f;c.getQuantizedBoundsCoordsArrayArray=v;c.getQuantizedBoundsPaths=function(h){return v([0,0,0,0],h)};c.getQuantizedBoundsPoints=function(h){const p=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return f(p,p,h)};c.getQuantizedBoundsRings=
function(h){return v([0,0,0,0],h)};c.quantizeBounds=function(h,p,x){p[0]=C(h,x[0]);p[3]=D(h,x[1]);p[2]=C(h,x[2]);p[1]=D(h,x[3]);return p};c.quantizeExtent=t;c.quantizeGeometry=function(h,p){return h&&p?B.isPoint(p)?r(h,{},p,!1,!1):B.isPolyline(p)?V(h,{},p,!1,!1):B.isPolygon(p)?J(h,{},p,!1,!1):B.isMultipoint(p)?d(h,{},p,!1,!1):B.isExtent(p)?t(h,{},p,!1,!1):null:null};c.quantizeMultipoint=d;c.quantizePaths=K;c.quantizePoint=r;c.quantizePoints=F;c.quantizePolygon=J;c.quantizePolyline=V;c.quantizeRings=
P;c.quantizeX=C;c.quantizeY=D;c.toQuantizationTransform=function(h){return h?{originPosition:"upper-left"===h.originPosition?"upperLeft":"lower-left"===h.originPosition?"lowerLeft":h.originPosition,scale:h.tolerance?[h.tolerance,h.tolerance]:[1,1],translate:h.extent?[h.extent.xmin,h.extent.ymax]:[0,0]}:null};c.unquantizeBounds=function(h,p,x){return x?(p[0]=m(h,x[0]),p[1]=q(h,x[3]),p[2]=m(h,x[2]),p[3]=q(h,x[1]),p):[m(h,p[0]),q(h,p[3]),m(h,p[2]),q(h,p[1])]};c.unquantizeCoordsArray=G;c.unquantizeCoordsArrayArray=
N;c.unquantizeExtent=function(h,p,x,M,u){p.xmin=m(h,x.xmin);p.ymin=q(h,x.ymin);p.xmax=m(h,x.xmax);p.ymax=q(h,x.ymax);p!==x&&(M&&(p.zmin=x.zmin,p.zmax=x.zmax),u&&(p.mmin=x.mmin,p.mmax=x.mmax));return p};c.unquantizeMultipoint=function(h,p,x,M,u){E.isSome(x)&&(p.points=g(h,x.points,M,u));return p};c.unquantizePaths=w;c.unquantizePoint=function(h,p,x,M,u){if(E.isNone(x))return p;p.x=m(h,x.x);p.y=q(h,x.y);p!==x&&(M&&(p.z=x.z),u&&(p.m=x.m));return p};c.unquantizePoints=g;c.unquantizePolygon=function(h,
p,x,M,u){E.isSome(x)&&(p.rings=a(h,x.rings,M,u));return p};c.unquantizePolyline=function(h,p,x,M,u){E.isSome(x)&&(p.paths=w(h,x.paths,M,u));return p};c.unquantizeRings=a;c.unquantizeX=m;c.unquantizeY=q;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(c,E,B,C,D,O,F,P,K,m,q,G,N){var g;const w=new B.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});B=g=function(a){function f(t){t=a.call(this,t)||this;
t.alias=null;t.defaultValue=void 0;t.description=null;t.domain=null;t.editable=!0;t.length=-1;t.name=null;t.nullable=!0;t.type=null;t.valueType=null;return t}c._inheritsLoose(f,a);var v=f.prototype;v.readDescription=function(t,{description:d}){let r;try{r=JSON.parse(d)}catch(J){}return r?r.value:null};v.readValueType=function(t,{description:d}){let r;try{r=JSON.parse(d)}catch(J){}return r?w.fromJSON(r.fieldValueType):null};v.clone=function(){return new g({alias:this.alias,defaultValue:this.defaultValue,
description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};return f}(C.JSONSupport);E.__decorate([D.property({type:String,json:{write:!0}})],B.prototype,"alias",void 0);E.__decorate([D.property({type:[String,Number],json:{write:{allowNull:!0}}})],B.prototype,"defaultValue",void 0);E.__decorate([D.property()],B.prototype,"description",void 0);E.__decorate([m.reader("description")],
B.prototype,"readDescription",null);E.__decorate([D.property({types:G.types,json:{read:{reader:G.fromJSON},write:!0}})],B.prototype,"domain",void 0);E.__decorate([D.property({type:Boolean,json:{write:!0}})],B.prototype,"editable",void 0);E.__decorate([D.property({type:F.Integer,json:{write:!0}})],B.prototype,"length",void 0);E.__decorate([D.property({type:String,json:{write:!0}})],B.prototype,"name",void 0);E.__decorate([D.property({type:Boolean,json:{write:!0}})],B.prototype,"nullable",void 0);E.__decorate([K.enumeration(N.kebabDict)],
B.prototype,"type",void 0);E.__decorate([D.property()],B.prototype,"valueType",void 0);E.__decorate([m.reader("valueType",["description"])],B.prototype,"readValueType",null);return B=g=E.__decorate([q.subclass("esri.layers.support.Field")],B)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(c,E,B){c.enumeration=function(C,D={}){var O;C=C instanceof E.JSONMap?C:new E.JSONMap(C,D);C={type:(null!=(O=null==D?void 0:D.ignoreUnknown)?
O:1)?C.apiValues:String,readOnly:null==D?void 0:D.readOnly,json:{type:C.jsonValues,read:null!=D&&D.readOnly?!1:{reader:C.read},write:{writer:C.write}}};void 0!==(null==D?void 0:D.default)&&(C.json.default=D.default);void 0!==(null==D?void 0:D.name)&&(C.json.name=D.name);return B.property(C)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(c,E,
B,C,D,O){E={key:"type",base:C,typeMap:{range:O,"coded-value":B,inherited:D}};c.CodedValueDomain=B;c.DomainBase=C;c.InheritedDomain=D;c.RangeDomain=O;c.fromJSON=function(F){if(!F||!F.type)return null;switch(F.type){case "range":return O.fromJSON(F);case "codedValue":return B.fromJSON(F);case "inherited":return D.fromJSON(F)}return null};c.types=E;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(c,E,B,C,D,O,F,P,K,m,q){var G;D=G=function(N){function g(a){a=N.call(this,a)||this;a.codedValues=null;a.type="coded-value";return a}c._inheritsLoose(g,N);var w=g.prototype;w.getName=function(a){let f=null;if(this.codedValues){const v=String(a);this.codedValues.some(t=>{String(t.code)===v&&(f=t.name);return!!f})}return f};w.clone=function(){return new G({codedValues:B.clone(this.codedValues),name:this.name})};return g}(q);E.__decorate([C.property({type:[m["default"]],json:{write:!0}})],D.prototype,
"codedValues",void 0);E.__decorate([P.enumeration({codedValue:"coded-value"})],D.prototype,"type",void 0);return D=G=E.__decorate([K.subclass("esri.layers.support.CodedValueDomain")],D)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/subclass".split(" "),
function(c,E,B,C,D,O,F,P,K){var m;c.CodedValue=m=function(q){function G(N){N=q.call(this,N)||this;N.name=null;N.code=null;return N}E._inheritsLoose(G,q);G.prototype.clone=function(){return new m({name:this.name,code:this.code})};return G}(C.JSONSupport);B.__decorate([D.property({type:String,json:{write:!0}})],c.CodedValue.prototype,"name",void 0);B.__decorate([D.property({type:[String,Number],json:{write:!0}})],c.CodedValue.prototype,"code",void 0);c.CodedValue=m=B.__decorate([K.subclass("esri.layers.support.CodedValue")],
c.CodedValue);c["default"]=c.CodedValue;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(c,E,B,C,D,O,F,P,K,m){B=
new B.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});C=function(q){function G(N){N=q.call(this,N)||this;N.name=null;N.type=null;return N}c._inheritsLoose(G,q);return G}(C.JSONSupport);E.__decorate([D.property({type:String,json:{write:!0}})],C.prototype,"name",void 0);E.__decorate([K.enumeration(B)],C.prototype,"type",void 0);return C=E.__decorate([m.subclass("esri.layers.support.Domain")],C)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(c,E,B,C,D,O,F,P,K){var m;B=m=function(q){function G(N){N=q.call(this,N)||this;N.type="inherited";return N}c._inheritsLoose(G,q);G.prototype.clone=function(){return new m};return G}(K);E.__decorate([F.enumeration({inherited:"inherited"})],B.prototype,"type",void 0);return B=m=E.__decorate([P.subclass("esri.layers.support.InheritedDomain")],B)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(c,E,B,C,D,O,F,P,K){var m;C=m=function(q){function G(N){N=q.call(this,N)||this;N.maxValue=null;N.minValue=null;N.type="range";return N}c._inheritsLoose(G,q);G.prototype.clone=function(){return new m({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return G}(K);E.__decorate([B.property({type:Number,json:{type:[Number],read:{source:"range",reader(q,G){return G.range&&G.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",
writer(q,G,N){G[N]=[this.minValue||0,q]}}}})],C.prototype,"maxValue",void 0);E.__decorate([B.property({type:Number,json:{type:[Number],read:{source:"range",reader(q,G){return G.range&&G.range[0]}},write:{target:"range",writer(q,G,N){G[N]=[q,this.maxValue||0]}}}})],C.prototype,"minValue",void 0);E.__decorate([F.enumeration({range:"range"})],C.prototype,"type",void 0);return C=m=E.__decorate([P.subclass("esri.layers.support.RangeDomain")],C)})},"esri/layers/support/fieldType":function(){define(["exports",
"../../core/jsonMap"],function(c,E){E=new E.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});c.kebabDict=E;Object.defineProperty(c,"__esModule",
{value:!0})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["exports","../../core/has","../../core/maybe"],function(c,E,B){function C(m,q){if(m===q)return!0;if(null==m||null==q||m.length!==q.length)return!1;for(let G=0;G<m.length;G++){const N=m[G],g=q[G];if(N.length!==g.length)return!1;for(let w=0;w<N.length;w++)if(N[w]!==g[w])return!1}return!0}function D(m,q){if(m===q)return!0;if(null==m||null==q||m.length!==q.length)return!1;for(let G=0;G<m.length;G++)if(!C(m[G],q[G]))return!1;
return!0}function O(m,q){return F(m.spatialReference,q.spatialReference)?m.x===q.x&&m.y===q.y&&m.z===q.z&&m.m===q.m:!1}function F(m,q){return m===q||m&&q&&m.equals(q)}function P(m,q){if(m===q)return!0;if(B.isNone(m)||B.isNone(q)||m.type!==q.type)return!1;switch(m.type){case "point":return O(m,q);case "extent":return m=m.hasZ!==q.hasZ||m.hasM!==q.hasM?!1:F(m.spatialReference,q.spatialReference)?m.xmin===q.xmin&&m.ymin===q.ymin&&m.zmin===q.zmin&&m.xmax===q.xmax&&m.ymax===q.ymax&&m.zmax===q.zmax:!1,
m;case "polyline":return m=m.hasZ!==q.hasZ||m.hasM!==q.hasM?!1:F(m.spatialReference,q.spatialReference)?D(m.paths,q.paths):!1,m;case "polygon":return m=m.hasZ!==q.hasZ||m.hasM!==q.hasM?!1:F(m.spatialReference,q.spatialReference)?D(m.rings,q.rings):!1,m;case "multipoint":return m=m.hasZ!==q.hasZ||m.hasM!==q.hasM?!1:F(m.spatialReference,q.spatialReference)?C(m.points,q.points):!1,m;case "mesh":return!1}}function K(m,q){if(m===q)return!0;if(!m||!q)return!1;const G=Object.keys(m),N=Object.keys(q);if(G.length!==
N.length)return!1;for(const g of G)if(m[g]!==q[g])return!1;return!0}c.equals=function(m,q){return m===q?!0:null!=m&&null!=q&&m.objectId===q.objectId&&P(m.geometry,q.geometry)&&K(m.attributes,q.attributes)?!0:!1};c.pointEquals=O;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(c,E,B,C,D,O,F,P){function K(b,e){return b?e?4:3:e?3:2}function m(b,e,l,k){if(b){if(l)return e&&k?sa:ma;if(e&&k)return va}else if(e&&k)return ma;return ta}function q({scale:b,translate:e},l){return Math.round((l-e[0])/b[0])}function G({scale:b,translate:e},l){return Math.round((e[1]-l)/b[1])}function N({scale:b,translate:e},l){return l*b[0]+e[0]}function g({scale:b,translate:e},l){return e[1]-l*b[1]}function w(b){b=b.coords;return{x:b[0],y:b[1]}}function a(b,e){b.coords[0]=e.x;b.coords[1]=
e.y;return b}function f(b){b=b.coords;return{x:b[0],y:b[1],z:b[2]}}function v(b,e){b.coords[0]=e.x;b.coords[1]=e.y;b.coords[2]=e.z;return b}function t(b){b=b.coords;return{x:b[0],y:b[1],m:b[2]}}function d(b,e){b.coords[0]=e.x;b.coords[1]=e.y;b.coords[2]=e.m;return b}function r(b){b=b.coords;return{x:b[0],y:b[1],z:b[2],m:b[3]}}function J(b,e){b.coords[0]=e.x;b.coords[1]=e.y;b.coords[2]=e.z;b.coords[3]=e.m;return b}function V(b,e){return b&&e?J:b?v:e?d:a}function X(b,e,l,k,A){l=V(l,k);for(const y of e){const {geometry:I,
attributes:H}=y;let L;I&&(L=l(new P,I));b.push(new O["default"](L,H,null,H[A]))}return b}function n(b,e,l,k){for(const A of e){const {geometry:y,attributes:I}=A;let H;y&&(H=z(y,l,k));b.push({attributes:I,geometry:H})}return b}function z(b,e,l){if(C.isNone(b))return null;const k=K(e,l),A=[];for(let y=0;y<b.coords.length;y+=k){const I=[];for(let H=0;H<k;H++)I.push(b.coords[y+H]);A.push(I)}return e?l?{points:A,hasZ:e,hasM:l}:{points:A,hasZ:e}:l?{points:A,hasM:l}:{points:A}}function h(b,e,l,k,A){l=K(l,
k);for(const y of e){e=y.geometry;k=y.attributes;let I;e&&(I=p(new P,e,l));b.push(new O["default"](I,k,null,k[A]))}return b}function p(b,e,l=K(e.hasZ,e.hasM)){b.lengths[0]=e.points.length;const k=b.coords;let A=0;for(const y of e.points)for(e=0;e<l;e++)k[A++]=y[e];return b}function x(b,e,l){if(!b)return null;const k=K(e,l),{coords:A,lengths:y}=b;b=[];let I=0;for(const H of y){const L=[];for(let R=0;R<H;R++){const S=[];for(let U=0;U<k;U++)S.push(A[I++]);L.push(S)}b.push(L)}return e?l?{paths:b,hasZ:e,
hasM:l}:{paths:b,hasZ:e}:l?{paths:b,hasM:l}:{paths:b}}function M(b,e,l,k,A){l=K(l,k);for(const y of e){e=y.geometry;k=y.attributes;let I;e&&(I=u(new P,e,l));b.push(new O["default"](I,k,null,k[A]))}return b}function u(b,e,l=K(e.hasZ,e.hasM)){const {lengths:k,coords:A}=b;let y=0;for(const I of e.paths){for(const H of I)for(e=0;e<l;e++)A[y++]=H[e];k.push(I.length)}return b}function Q(b,e,l){if(!b)return null;const k=K(e,l),{coords:A,lengths:y}=b;b=[];let I=0;for(const H of y){const L=[];for(let R=0;R<
H;R++){const S=[];for(let U=0;U<k;U++)S.push(A[I++]);L.push(S)}b.push(L)}return e?l?{rings:b,hasZ:e,hasM:l}:{rings:b,hasZ:e}:l?{rings:b,hasM:l}:{rings:b}}function T(b,e,l,k,A){for(const y of e){e=y.geometry;const I=y.centroid,H=y.attributes;let L;e&&(L=W(new P,e,l,k));C.isSome(I)?b.push(new O["default"](L,H,a(new P,I),H[A])):b.push(new O["default"](L,H,null,H[A]))}return b}function W(b,e,l=e.hasZ,k=e.hasM){aa(b,e.rings,l,k);return b}function aa(b,e,l,k){l=K(l,k);const {lengths:A,coords:y}=b;k=0;A.length=
y.length=0;for(const I of e){for(const H of I)for(e=0;e<l;e++)y[k++]=H[e];A.push(I.length)}return b}function fa(b,e,l,k,A,y){b.length=0;if(!l){for(const I of e)b.push(new O["default"](null,I.attributes,null,I.attributes[y]));return b}switch(l){case "esriGeometryPoint":return X(b,e,k,A,y);case "esriGeometryMultipoint":return h(b,e,k,A,y);case "esriGeometryPolyline":return M(b,e,k,A,y);case "esriGeometryPolygon":return T(b,e,k,A,y);default:ja.error("convertToFeatureSet:unknown-geometry",new E(`Unable to parse unknown geometry type '${l}'`)),
b.length=0}return b}function ia(b,e,l,k){b=b&&("coords"in b?b:b.geometry);if(C.isNone(b))return null;switch(e){case "esriGeometryPoint":return e=w,l&&k?e=r:l?e=f:k&&(e=t),e(b);case "esriGeometryMultipoint":return z(b,l,k);case "esriGeometryPolyline":return x(b,l,k);case "esriGeometryPolygon":return Q(b,l,k);default:ja.error("convertToGeometry:unknown-geometry",new E(`Unable to parse unknown geometry type '${e}'`))}}function na(b,e,l,k,A){b.length=0;if(C.isNone(l)){for(const H of e)b.push({attributes:H.attributes});
return b}switch(l){case "esriGeometryPoint":var y=w;k&&A?y=r:k?y=f:A&&(y=t);for(var I of e){const {geometry:H,attributes:L}=I;k=C.isSome(H)?y(H):null;b.push({attributes:L,geometry:k})}break;case "esriGeometryMultipoint":return n(b,e,k,A);case "esriGeometryPolyline":for(const H of e){const {geometry:L,attributes:R}=H;let S;C.isSome(L)&&(S=x(L,k,A));b.push({attributes:R,geometry:S})}break;case "esriGeometryPolygon":for(y of e){const {geometry:H,attributes:L,centroid:R}=y;let S;C.isSome(H)&&(S=Q(H,k,
A));R?(I=w(R),b.push({attributes:L,centroid:I,geometry:S})):b.push({attributes:L,geometry:S})}break;default:ja.error("convertToFeatureSet:unknown-geometry",new E(`Unable to parse unknown geometry type '${l}'`))}return b}function oa(b,e,l,k,A,y,I=l,H=k){b.lengths.length&&(b.lengths.length=0);b.coords.length&&(b.coords.length=0);if(C.isNone(e)||!e.coords.length)return null;A=pa[A];const {coords:L,lengths:R}=e;e=K(l,k);const S=K(l&&I,k&&H);l=m(l,k,I,H);if(!R.length)return l(b.coords,L,0,0,q(y,L[0]),
G(y,L[1])),b.lengths.length&&(b.lengths.length=0),b.coords.length=e,b;let U,Z=0,Y,ba=0;for(const ea of R){if(ea<A)continue;let da=0;Y=ba;H=k=q(y,L[Z]);U=I=G(y,L[Z+1]);l(b.coords,L,Y,Z,H,U);da++;Z+=e;Y+=S;for(let ca=1;ca<ea;ca++,Z+=e)if(H=q(y,L[Z]),U=G(y,L[Z+1]),H!==k||U!==I)l(b.coords,L,Y,Z,H-k,U-I),Y+=S,da++,k=H,I=U;da>=A&&(b.lengths.push(da),ba=Y)}b.coords.length=ba;return b.coords.length?b:null}function qa(b,e,l,k,A,y,I){let H=k,L=0;for(let S=y+l;S<I;S+=l){{var R=e[S];const U=e[S+1],Z=e[I],Y=e[I+
1];let ba=e[y],ea=e[y+1],da=Z-ba,ca=Y-ea;if(0!==da||0!==ca){const ha=((R-ba)*da+(U-ea)*ca)/(da*da+ca*ca);1<ha?(ba=Z,ea=Y):0<ha&&(ba+=da*ha,ea+=ca*ha)}da=R-ba;ca=U-ea;R=da*da+ca*ca}R>H&&(L=S,H=R)}H>k&&(L-y>l&&qa(b,e,l,k,A,y,L),A(b,e,b.length,L,e[L],e[L+1]),I-L>l&&qa(b,e,l,k,A,L,I))}function ra(b,e,l,k,A){const {coords:y,lengths:I}=e,H=l?k?sa:ma:k?ma:ta;l=K(l,k);if(!y.length)return b!==e&&(b.lengths.length=0,b.coords.length=0),b;if(!I.length)return H(b.coords,y,0,0,N(A,y[0]),g(A,y[1])),b!==e&&(b.lengths.length=
0,b.coords.length=l),b;const [L,R]=A.scale;k=0;for(let S=0;S<I.length;S++){const U=I[S];b.lengths[S]=U;let Z=N(A,y[k]),Y=g(A,y[k+1]);H(b.coords,y,k,k,Z,Y);k+=l;for(let ba=1;ba<U;ba++,k+=l)Z+=y[k]*L,Y-=y[k+1]*R,H(b.coords,y,k,k,Z,Y)}b!==e&&(b.lengths.length=I.length,b.coords.length=y.length);return b}function ua(b,e,l,k){let A=0,y=b[k*e],I=b[k*(e+1)];for(let H=1;H<l;H++){const L=y+b[k*(e+H)],R=I+b[k*(e+H)+1],S=(L-y)*(R+I);y=L;I=R;A+=S}return.5*A}const ja=B.getLogger("esri.tasks.support.optimizedFeatureSet"),
pa={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},ta=(b,e,l,k,A,y)=>{b[l]=A;b[l+1]=y},ma=(b,e,l,k,A,y)=>{b[l]=A;b[l+1]=y;b[l+2]=e[k+2]},va=(b,e,l,k,A,y)=>{b[l]=A;b[l+1]=y;b[l+2]=e[k+3]},sa=(b,e,l,k,A,y)=>{b[l]=A;b[l+1]=y;b[l+2]=e[k+2];b[l+3]=e[k+3]},ka=[],la=[];c.convertFromFeature=function(b,e,l,k,A){ka[0]=b;[b]=fa(la,ka,e,l,k,A);ka.length=la.length=0;return b};c.convertFromFeatureSet=function(b,e){const l=new F,{hasM:k,hasZ:A,features:y,objectIdFieldName:I,
spatialReference:H,geometryType:L,exceededTransferLimit:R,transform:S,fields:U}=b;U&&(l.fields=U);l.geometryType=L;l.objectIdFieldName=I||e;l.spatialReference=H;if(!l.objectIdFieldName)return ja.error(new E("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),l;y&&fa(l.features,y,L,A,k,l.objectIdFieldName);R&&(l.exceededTransferLimit=R);k&&(l.hasM=k);A&&(l.hasZ=A);S&&(l.transform=S);return l};c.convertFromFeatures=fa;c.convertFromGeometry=function(b,e,l){if(C.isNone(b))return null;
const k=new P;"hasZ"in b&&null==e&&(e=b.hasZ);"hasM"in b&&null==l&&(l=b.hasM);if(D.isPoint(b))return V(null!=e?e:null!=b.z,null!=l?l:null!=b.m)(k,b);if(D.isPolygon(b))return W(k,b,e,l);if(D.isPolyline(b))return u(k,b,K(e,l));if(D.isMultipoint(b))return p(k,b,K(e,l));ja.error("convertFromGeometry:unknown-geometry",new E(`Unable to parse unknown geometry type '${b}'`))};c.convertFromGraphics=function(b,e,l,k,A,y){const I=b.length;switch(l){case "esriGeometryPoint":X(b,e,k,A,y);break;case "esriGeometryMultipoint":h(b,
e,k,A,y);break;case "esriGeometryPolyline":M(b,e,k,A,y);break;case "esriGeometryPolygon":T(b,e,k,A,y);break;default:ja.error("convertToFeatureSet:unknown-geometry",new E(`Unable to parse unknown geometry type '${l}'`))}for(k=0;k<e.length;k++)b[k+I].geometryType=l,b[k+I].insertAfter=e[k].insertAfter,b[k+I].groupId=e[k].groupId;return b};c.convertFromMultipoint=p;c.convertFromMultipointFeatures=h;c.convertFromNestedArray=aa;c.convertFromPoint=function(b,e,l=V(null!=e.z,null!=e.m)){return l(b,e)};c.convertFromPointFeatures=
X;c.convertFromPolygon=W;c.convertFromPolyline=u;c.convertFromPolylineFeatures=M;c.convertToFeature=function(b,e,l,k){la[0]=b;na(ka,la,e,l,k);b=ka[0];ka.length=la.length=0;return b};c.convertToFeatureSet=function(b){const {objectIdFieldName:e,spatialReference:l,transform:k,fields:A,hasM:y,hasZ:I,features:H,geometryType:L,exceededTransferLimit:R,uniqueIdField:S,queryGeometry:U,queryGeometryType:Z}=b;b=na([],H,L,I,y);const Y=ia(U,Z,!1,!1);b={features:b,fields:A,geometryType:L,objectIdFieldName:e,spatialReference:l,
uniqueIdField:S,queryGeometry:Y};k&&(b.transform=k);R&&(b.exceededTransferLimit=R);y&&(b.hasM=y);I&&(b.hasZ=I);return b};c.convertToFeatures=na;c.convertToGeometry=ia;c.convertToMultipoint=z;c.convertToMultipointFeatures=n;c.convertToPoint=function(b,e,l){return b?e?l?r(b):f(b):l?t(b):w(b):null};c.convertToPolygon=Q;c.convertToPolyline=x;c.deltaDecodeGeometry=function(b,e){if(C.isNone(b))return null;const l=b.clone(),k=b.coords;b=b.lengths;let A=0;for(let H=0;H<b.length;H++){const L=b[H];var y=k[e*
A],I=k[e*A+1];for(let R=1;R<L;R++)y+=k[e*(A+R)],I+=k[e*(A+R)+1],l.coords[e*(A+R)]=y,l.coords[e*(A+R)+1]=I;A+=L}return l};c.deltaEncodeGeometry=function(b,e){const l=b.clone(),k=b.coords;b=b.lengths;let A=0;for(let I=0;I<b.length;I++){const H=b[I];let L=k[e*A];var y=k[e*A+1];for(let R=1;R<H;R++){const S=k[e*(A+R)],U=k[e*(A+R)+1];y=U-y;l.coords[e*(A+R)]=S-L;l.coords[e*(A+R)+1]=y;L=S;y=U}A+=H}return l};c.generalizeOptimizedGeometry=function(b,e,l,k,A,y,I=l,H=k){b.lengths.length&&(b.lengths.length=0);
b.coords.length&&(b.coords.length=0);if(!e||!e.coords.length)return null;A=pa[A];const {coords:L,lengths:R}=e;e=K(l,k);const S=K(l&&I,k&&H);l=m(l,k,I,H);if(!R.length)return l(b.coords,L,0,0,L[0],L[1]),b.lengths.length&&(b.lengths.length=0),b.coords.length=e,b;k=0;y*=y;for(const U of R){if(U<A){k+=U*e;continue}I=b.coords.length/S;H=k;const Z=k+(U-1)*e;l(b.coords,L,b.coords.length,H,L[H],L[H+1]);qa(b.coords,L,e,y,l,H,Z);l(b.coords,L,b.coords.length,Z,L[Z],L[Z+1]);H=b.coords.length/S-I;H>=A?b.lengths.push(H):
b.coords.length=I*S;k+=U*e}return b.coords.length?b:null};c.getBoundsOptimizedGeometry=function(b,e,l,k){if(C.isNone(e)||!e.coords||!e.coords.length)return null;l=K(l,k);let A=k=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY,I=Number.NEGATIVE_INFINITY;if(e&&e.coords){e=e.coords;for(let H=0;H<e.length;H+=l){const L=e[H],R=e[H+1];k=Math.min(k,L);y=Math.max(y,L);A=Math.min(A,R);I=Math.max(I,R)}}b[0]=k;b[1]=A;b[2]=y;b[3]=I;return b};c.getQuantizedArea=function(b,e){const {coords:l,lengths:k}=b;let A=
b=0;for(let y=0;y<k.length;y++)A+=ua(l,b,k[y],e),b+=y;return Math.abs(A)};c.getQuantizedBoundsOptimizedGeometry=function(b,e,l,k){l=K(l,k);const {lengths:A,coords:y}=e;k=e=Number.POSITIVE_INFINITY;let I=Number.NEGATIVE_INFINITY,H=Number.NEGATIVE_INFINITY,L=0;for(const R of A){let S=y[L],U=y[L+1];e=Math.min(S,e);k=Math.min(U,k);I=Math.max(S,I);H=Math.max(U,H);L+=l;for(let Z=1;Z<R;Z++,L+=l){const Y=y[L],ba=y[L+1];S+=Y;U+=ba;0>Y&&(e=Math.min(e,S));0<Y&&(I=Math.max(I,S));0>ba?k=Math.min(k,U):0<ba&&(H=
Math.max(H,U))}}b[0]=e;b[1]=k;b[2]=I;b[3]=H;return b};c.getSignedQuantizedRingArea=ua;c.quantizeOptimizedFeatureSet=function(b,e){const {geometryType:l,features:k,hasM:A,hasZ:y}=e;if(!b)return e;for(let I=0;I<k.length;I++){const H=k[I],L=H.weakClone();L.geometry=new P;oa(L.geometry,H.geometry,A,y,l,b);H.centroid&&(L.centroid=new P,oa(L.centroid,H.centroid,A,y,"esriGeometryPoint",b));k[I]=L}e.transform=b;return e};c.quantizeOptimizedGeometry=oa;c.quantizeX=q;c.quantizeY=G;c.removeCollinearVectices=
function(b,e,l,k,A){if(!e||!e.coords||!e.coords.length)return null;l=pa[l];const {coords:y,lengths:I}=e;e=m(k,A,k,A);k=K(k,A);let H=A=0,L=0,R=0;for(const Z of I){H=R;e(b.coords,y,H,A,y[A],y[A+1]);A+=k;var S=y[A];let Y=y[A+1],ba=S,ea=Y;var U=Y/S;H+=k;e(b.coords,y,H,A,ba,ea);A+=k;for(let da=2;da<Z;da++){S=y[A];Y=y[A+1];const ca=Y/S,ha=U===ca||!isFinite(U)&&!isFinite(ca);U=ha&&isFinite(ca)?0<=U&&0<=ca||0>=U&&0>=ca:0<=ea&&0<=Y||0>=ea&&0>=Y;ha&&U?(ba+=S,ea+=Y):(ba=S,ea=Y,H+=k);e(b.coords,y,H,A,ba,ea);
A+=k;U=ca}H+=k;S=(H-R)/k;S>=l&&(b.lengths[L]=S,R=H,L++)}b.coords.length>R&&(b.coords.length=R);b.lengths.length>L&&(b.lengths.length=L);return b.coords.length&&b.lengths.length?b:null};c.removeZMValues=function(b,e,l,k,A,y){const I=K(l,k);l=m(l,k,A,y);k=e.coords;b.coords.length=0;b.lengths.length=0;b.lengths.push(...e.lengths);for(e=0;e<k.length;e+=I)l(b.coords,k,b.coords.length,e,k[e],k[e+1]);return b};c.unquantizeOptimizedFeatureSet=function(b){const {transform:e,features:l,hasM:k,hasZ:A}=b;if(!e)return b;
for(const y of l)C.isSome(y.geometry)&&ra(y.geometry,y.geometry,k,A,e),y.centroid&&ra(y.centroid,y.centroid,k,A,e);b.transform=null;return b};c.unquantizeOptimizedGeometry=ra;c.unquantizeX=N;c.unquantizeY=g;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/maybe"],function(c,E,B){let C=function(){function O(F=null,P={},K,m){this.geometry=F;this.attributes=P;this.centroid=K;this.objectId=
m;this.geohashY=this.geohashX=this.displayId=0}O.prototype.weakClone=function(){const F=new O(this.geometry,this.attributes,this.centroid,this.objectId);F.displayId=this.displayId;F.geohashX=this.geohashX;F.geohashY=this.geohashY;return F};return O}(),D=function(O){function F(){return O.apply(this,arguments)||this}E._inheritsLoose(F,O);return F}(C);c.OptimizedFeatureWithGeometry=D;c["default"]=C;c.hasGeometry=function(O){return!(B.isNone(O.geometry)||!O.geometry.coords||!O.geometry.coords.length)};
Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){return function(){function c(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}c.prototype.weakClone=function(){const E=
new c;E.objectIdFieldName=this.objectIdFieldName;E.globalIdFieldName=this.globalIdFieldName;E.geohashFieldName=this.geohashFieldName;E.geometryProperties=this.geometryProperties;E.geometryType=this.geometryType;E.spatialReference=this.spatialReference;E.hasZ=this.hasZ;E.hasM=this.hasM;E.features=this.features;E.fields=this.fields;E.transform=this.transform;E.exceededTransferLimit=this.exceededTransferLimit;E.uniqueIdField=this.uniqueIdField;E.queryGeometry=this.queryGeometry;E.queryGeometryType=this.queryGeometryType;
return E};return c}()})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(c){return function(){function E(C=[],D=[],O=!1){this.lengths=null!=C?C:[];this.coords=null!=D?D:[];this.hasIndeterminateRingOrder=O}var B=E.prototype;B.forEachVertex=function(C){let D=0;this.lengths.length||C(this.coords[0],this.coords[1]);for(let O=0;O<this.lengths.length;O++){const F=this.lengths[O];for(let P=0;P<F;P++)C(this.coords[2*(P+D)],this.coords[2*(P+D)+
1]);D+=F}};B.clone=function(C){return C?(C.set(this.coords),new E(this.lengths.slice(),C,this.hasIndeterminateRingOrder)):new E(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};c._createClass(E,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max(...this.lengths)}},{key:"size",get:function(){return this.lengths.reduce((C,D)=>C+D)}}]);return E}()})},"esri/rest/query/operations/zscale":function(){define(["exports","../../../core/maybe",
"../../../core/unitUtils","../../../geometry/support/spatialReferenceUtils"],function(c,E,B,C){function D(F,P,K){if(null==F.hasM||F.hasZ)for(const m of P)for(const q of m)2<q.length&&(q[2]*=K)}function O(F,P,K){if(F)for(const G of F){F=G.geometry;var m=P,q=K;if(!E.isNone(F)&&F.spatialReference&&!C.equals(F.spatialReference,m)&&(m=B.getMetersPerVerticalUnitForSR(F.spatialReference)/q,1!==m))if("x"in F)null!=F.z&&(F.z*=m);else if("rings"in F)D(F,F.rings,m);else if("paths"in F)D(F,F.paths,m);else if("points"in
F&&(null==F.hasM||F.hasZ))for(const N of F.points)2<N.length&&(N[2]*=m)}}c.getGeometryZScaler=function(F,P,K){if(E.isNone(P)||E.isNone(K)||K.vcsWkid||C.equals(P,K))return null;P=B.getMetersPerVerticalUnitForSR(P);K=B.getMetersPerVerticalUnitForSR(K);const m=P/K;if(1===m)return null;switch(F){case "point":case "esriGeometryPoint":return q=>{q&&null!=q.z&&(q.z*=m)};case "polyline":case "esriGeometryPolyline":return q=>{if(q)for(const G of q.paths)for(const N of G)2<N.length&&(N[2]*=m)};case "polygon":case "esriGeometryPolygon":return q=>
{if(q)for(const G of q.rings)for(const N of G)2<N.length&&(N[2]*=m)};case "multipoint":case "esriGeometryMultipoint":return q=>{if(q)for(const G of q.points)2<G.length&&(G[2]*=m)};default:return null}};c.unapplyEditsZUnitScaling=function(F,P,K){if((F||P)&&K){var m=B.getMetersPerVerticalUnitForSR(K);O(F,K,m);O(P,K,m)}};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ../geometry/projectionEllipsoid ../geometry/SpatialReference ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),
function(c,E,B,C,D,O,F,P){function K(u){if(u=p[u])return u;throw Error("unknown measure");}function m(u){return h[u].baseUnit}function q(u,Q=null){Q=Q||K(u);return h[Q].baseUnit===u}function G(u,Q,T){if(Q===T)return u;const W=K(Q);if(W!==K(T))throw Error("incompatible units");u=q(Q,W)?u:u*h[W].units[Q].inBaseUnits;return q(T,W)?u:u/h[W].units[T].inBaseUnits}function N(u,Q){return 3E3>G(u,Q,"meters")?"meters":"kilometers"}function g(u,Q){return 1E5>G(u,Q,"meters")?"meters":"kilometers"}function w(u,
Q){return 1E3>G(u,Q,"feet")?"feet":"miles"}function a(u,Q){return 1E5>G(u,Q,"feet")?"feet":"miles"}function f(u){return z.fromJSON(u.toLowerCase())||null}function v(u,Q=O.earth.metersPerDegree){return t(u,!0)||Q}function t(u,Q=!1){let T,W,aa=null;null!=u&&("object"===typeof u?(T=u.wkid,W=u.wkt):"number"===typeof u?T=u:"string"===typeof u&&(W=u));if(T){if(F.isWKIDFromMars(T))return O.mars.metersPerDegree;if(F.isWKIDFromMoon(T))return O.moon.metersPerDegree;aa=V.values[V[T]];!aa&&Q&&n.has(T)&&(aa=r)}else W&&
(-1!==W.search(/^PROJCS/i)?(u=J.exec(W))&&u[1]&&(aa=parseFloat(u[1].split(",")[1])):-1!==W.search(/^GEOCCS/i)&&(u=X.exec(W))&&u[1]&&(aa=parseFloat(u[1].split(",")[1])));return aa}function d(u){let Q,T,W=null;null!=u&&("object"===typeof u?(Q=u.wkid,T=u.wkt):"number"===typeof u?Q=u:"string"===typeof u&&(T=u));Q?W=V.units[V[Q]]:T&&-1!==T.search(/^PROJCS/i)&&(u=J.exec(T))&&u[1]&&(W=(u=/[\\"\\']{1}([^\\"\\']+)/.exec(u[1]))&&u[1]);return W?f(W):null}const r=O.earth.radius*Math.PI/200,J=/UNIT\[([^\]]+)\]\]$/i,
V=P,X=/UNIT\[([^\]]+)\]/i,n=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),z=B.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",
"50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});E={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};P={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*
.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(u=>u*u)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const h={length:{baseUnit:"meters",units:E},area:{baseUnit:"square-meters",units:P},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},
"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},p=function(){const u={};for(const Q in h)for(const T in h[Q].units)u[T]=
Q;return u}(),x={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},M={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",
esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"};E=B.strict()(x);P=B.strict()(M);B=B.strict()({...x,...M});c.areaUnitsJSONMap=E;c.baseUnitForMeasure=m;c.baseUnitForUnit=function(u){return m(K(u))};c.convertUnit=G;c.getDefaultUnitSystem=function(u){if(!u)return null;switch(d(u)){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};c.getMetersPerUnit=t;c.getMetersPerUnitForSR=v;c.getMetersPerVerticalUnitForSR=function(u){if(u&&"object"===typeof u&&!F.isEarth(u))return 1;u=v(u);return 1E5<u?1:u};c.getUnitString=d;c.getVerticalUnitStringForSR=function(u){const Q=v(u),T=u instanceof D?C.getReferenceEllipsoid(u).metersPerDegree:1E5;return Q>=T?"meters":d(u)};c.inchesPerMeter=39.37;c.isBaseUnit=q;c.isMeasurementSystem=function(u){return"imperial"===
u||"metric"===u};c.lengthToDegrees=function(u,Q,T){return G(u,Q,"meters")/(T*Math.PI/180)};c.lengthUnitsJSONMap=P;c.measureForUnit=K;c.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");c.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");c.preferredImperialAreaUnit=function(u,Q){return 1E6>G(u,Q,"square-feet")?"square-feet":
"square-miles"};c.preferredImperialLengthUnit=w;c.preferredImperialVerticalLengthUnit=a;c.preferredLengthUnit=function(u,Q,T){switch(T){case "metric":return N(u,Q);case "imperial":return w(u,Q);default:return T}};c.preferredMetricAreaUnit=function(u,Q){return 3E6>G(u,Q,"square-meters")?"square-meters":"square-kilometers"};c.preferredMetricLengthUnit=N;c.preferredMetricVerticalLengthUnit=g;c.preferredVerticalLengthUnit=function(u,Q,T){switch(T){case "metric":return g(u,Q);case "imperial":return a(u,
Q);default:return T}};c.unitFromRESTJSON=f;c.unitToRESTJSON=function(u){return z.toJSON(u)||null};c.unitsJSONMap=B;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/projectionEllipsoid":function(){define(["exports","./SpatialReference","./support/Ellipsoid","./support/spatialReferenceUtils"],function(c,E,B,C){function D(m){return new E({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${m.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}
const O=D(B.earth),F=D(B.mars),P=D(B.moon),K=new E({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${B.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});c.SphericalECEFSpatialReference=O;c.SphericalPCPFMars=
F;c.SphericalPCPFMoon=P;c.WGS84ECEFSpatialReference=K;c.createSphericalPCPF=D;c.getReferenceEllipsoid=function(m){return m&&(C.isMars(m)||m===F)?B.mars:m&&(C.isMoon(m)||m===P)?B.moon:B.earth};c.getReferenceEllipsoidFromWKID=function(m){return C.isWKIDFromMars(m)?B.mars:C.isWKIDFromMoon(m)?B.moon:B.earth};c.getSphericalPCPF=function(m){return m&&(C.isMars(m)||m===F)?F:m&&(C.isMoon(m)||m===P)?P:O};c.getSphericalPCPFForEllipsoid=function(m){return m&&m===B.mars?F:m&&m===B.moon?P:O};Object.defineProperty(c,
"__esModule",{value:!0})})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(c,E){c.parsePBFFeatureQuery=function(B,C){var D=E.parseFeatureQuery(B,C);B=D.queryResult.featureResult;C=D.queryResult.queryGeometry;D=D.queryResult.queryGeometryType;if(B&&B.features&&B.features.length&&B.objectIdFieldName){const O=B.objectIdFieldName;for(const F of B.features)F.attributes&&(F.objectId=F.attributes[O])}B&&(B.queryGeometry=C,B.queryGeometryType=
D);return B};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define("exports ../../../core/Error ../../../core/maybe ../../../core/pbf ../../../layers/graphics/OptimizedGeometry ./pbfOptimizedFeatureSet".split(" "),function(c,E,B,C,D,O){function F(n){return n>=J.length?null:J[n]}function P(n,z,h){for(h=z.createPointGeometry(h);n.next();)switch(n.tag()){case 3:{var p=n.getUInt32();p=n.pos()+p;let x=0;for(;n.pos()<p;)z.addCoordinatePoint(h,
n.getSInt64(),x++);break}default:n.skip()}return h}function K(n,z,h){const p=z.createGeometry(h);for(h=2+(h.hasZ?1:0)+(h.hasM?1:0);n.next();)switch(n.tag()){case 2:var x=n.getUInt32();x=n.pos()+x;for(var M=0;n.pos()<x;)z.addLength(p,n.getUInt32(),M++);break;case 3:x=n.getUInt32();x=n.pos()+x;M=0;for(z.allocateCoordinates(p);n.pos()<x;)z.addCoordinate(p,n.getSInt64(),M),M++,M===h&&(M=0);break;default:n.skip()}return p}function m(n){const z=new D;let h="esriGeometryPoint";for(;n.next();)switch(n.tag()){case 2:var p=
n.getUInt32();for(p=n.pos()+p;n.pos()<p;)z.lengths.push(n.getUInt32());break;case 3:p=n.getUInt32();for(p=n.pos()+p;n.pos()<p;)z.coords.push(n.getSInt64());break;case 1:h=O.OPTIMIZED_GEOMETRY_TYPES[n.getEnum()];break;default:n.skip()}return{queryGeometry:z,queryGeometryType:h}}function q(n){for(;n.next();)switch(n.tag()){case 1:return n.getString();case 2:return n.getFloat();case 3:return n.getDouble();case 4:return n.getSInt32();case 5:return n.getUInt32();case 6:return n.getInt64();case 7:return n.getUInt64();
case 8:return n.getSInt64();case 9:return n.getBool();default:return n.skip(),null}return null}function G(n){const z={type:F(0)};for(;n.next();)switch(n.tag()){case 1:z.name=n.getString();break;case 2:z.type=F(n.getEnum());break;case 3:z.alias=n.getString();break;case 4:var h=n.getEnum();h=h>=V.length?null:V[h];z.sqlType=h;break;case 5:n.skip();break;case 6:z.defaultValue=n.getString();break;default:n.skip()}return z}function N(n){const z={};for(;n.next();)switch(n.tag()){case 1:z.name=n.getString();
break;case 2:z.isSystemMaintained=n.getBool();break;default:n.skip()}return z}function g(n,z,h,p){const x=z.createFeature(h);let M=0;for(;n.next();)switch(n.tag()){case 1:{const u=p[M++].name;x.attributes[u]=n.processMessage(q);break}case 2:x.geometry=n.processMessageWithArgs(K,z,h);break;case 4:x.centroid=n.processMessageWithArgs(P,z,h);break;default:n.skip()}return x}function w(n){const z=[1,1,1,1];for(;n.next();)switch(n.tag()){case 1:z[0]=n.getDouble();break;case 2:z[1]=n.getDouble();break;case 4:z[2]=
n.getDouble();break;case 3:z[3]=n.getDouble();break;default:n.skip()}return z}function a(n){const z=[0,0,0,0];for(;n.next();)switch(n.tag()){case 1:z[0]=n.getDouble();break;case 2:z[1]=n.getDouble();break;case 4:z[2]=n.getDouble();break;case 3:z[3]=n.getDouble();break;default:n.skip()}return z}function f(n){const z={originPosition:0>=X.length?null:X[0]};for(;n.next();)switch(n.tag()){case 1:var h=n.getEnum();z.originPosition=h>=X.length?null:X[h];break;case 2:z.scale=n.processMessage(w);break;case 3:z.translate=
n.processMessage(a);break;default:n.skip()}return z}function v(n){const z={};for(;n.next();)switch(n.tag()){case 1:z.shapeAreaFieldName=n.getString();break;case 2:z.shapeLengthFieldName=n.getString();break;case 3:z.units=n.getString();break;default:n.skip()}return z}function t(n,z){for(z=z.createSpatialReference();n.next();)switch(n.tag()){case 1:z.wkid=n.getUInt32();break;case 5:z.wkt=n.getString();break;case 2:z.latestWkid=n.getUInt32();break;case 3:z.vcsWkid=n.getUInt32();break;case 4:z.latestVcsWkid=
n.getUInt32();break;default:n.skip()}return z}function d(n,z){const h=z.createFeatureResult();h.geometryType=0>=z.geometryTypes.length?null:z.geometryTypes[0];let p=!1;for(;n.next();)switch(n.tag()){case 1:h.objectIdFieldName=n.getString();break;case 3:h.globalIdFieldName=n.getString();break;case 4:h.geohashFieldName=n.getString();break;case 5:h.geometryProperties=n.processMessage(v);break;case 7:var x=n.getEnum();h.geometryType=x>=z.geometryTypes.length?null:z.geometryTypes[x];break;case 8:h.spatialReference=
n.processMessageWithArgs(t,z);break;case 10:h.hasZ=n.getBool();break;case 11:h.hasM=n.getBool();break;case 12:h.transform=n.processMessage(f);break;case 9:x=n.getBool();h.exceededTransferLimit=x;break;case 13:z.addField(h,n.processMessage(G));break;case 15:p||(z.prepareFeatures(h),p=!0);z.addFeature(h,n.processMessageWithArgs(g,z,h,h.fields));break;case 2:h.uniqueIdField=n.processMessage(N);break;default:n.skip()}z.finishFeatureResult(h);return h}function r(n,z){const h={};let p=null;for(;n.next();)switch(n.tag()){case 4:p=
n.processMessageWithArgs(m);break;case 1:h.featureResult=n.processMessageWithArgs(d,z);break;default:n.skip()}B.isSome(p)&&h.featureResult&&z.addQueryGeometry(h,p);return h}const J="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),V="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),
X=["upperLeft","lowerLeft"];c.parseFeatureQuery=function(n,z){try{const h=new C(new Uint8Array(n),new DataView(n));for(n={};h.next();)switch(h.tag()){case 2:n.queryResult=h.processMessageWithArgs(r,z);break;default:h.skip()}return n}catch(h){throw new E("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:h});}};c.parseFieldType=F;c.parseTransform=f;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(c,E,B,C,D,O){const F=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let P=function(){function K(q){this.options=q;this.geometryTypes=F;this._vertexDimension=this._coordinatePtr=0}var m=K.prototype;m.createFeatureResult=function(){return new D};m.prepareFeatures=function(q){this._vertexDimension=2;q.hasZ&&this._vertexDimension++;q.hasM&&this._vertexDimension++};m.finishFeatureResult=function(q){if(q&&q.features&&q.hasZ&&this.options.sourceSpatialReference&&
q.spatialReference&&!B.equals(q.spatialReference,this.options.sourceSpatialReference)&&!q.spatialReference.vcsWkid){var G=E.getMetersPerVerticalUnitForSR(this.options.sourceSpatialReference),N=E.getMetersPerVerticalUnitForSR(q.spatialReference);G/=N;if(1!==G)for(const g of q.features)if(C.hasGeometry(g))for(q=g.geometry.coords,N=2;N<q.length;N+=3)q[N]*=G}};m.addFeature=function(q,G){q.features.push(G)};m.createFeature=function(){return new C["default"]};m.createSpatialReference=function(){return{wkid:0}};
m.createGeometry=function(){return new O};m.addField=function(q,G){q.fields.push(G)};m.allocateCoordinates=function(q){q.coords.length=q.lengths.reduce((G,N)=>G+N,0)*this._vertexDimension;this._coordinatePtr=0};m.addCoordinate=function(q,G){q.coords[this._coordinatePtr++]=G};m.addCoordinatePoint=function(q,G){q.coords.push(G)};m.addLength=function(q,G){q.lengths.push(G)};m.addQueryGeometry=function(q,G){q.queryGeometry=G.queryGeometry;q.queryGeometryType=G.queryGeometryType};m.createPointGeometry=
function(){return new O};return K}();c.OPTIMIZED_GEOMETRY_TYPES=F;c.OptimizedFeatureSetParserContext=P;Object.defineProperty(c,"__esModule",{value:!0})})},"*noref":1}});
define(["../../../rest/query/operations/pbfDehydratedFeatureSet","../../../rest/query/operations/pbfQueryUtils"],function(c,E){let B=function(){function C(){}C.prototype._parseFeatureQuery=function(D){D=E.parsePBFFeatureQuery(D.buffer,new c.DehydratedFeatureSetParserContext(D.options));D={...D,spatialReference:D.spatialReference.toJSON(),fields:D.fields?D.fields.map(O=>O.toJSON()):void 0};return Promise.resolve(D)};return C}();return function(){return new B}});