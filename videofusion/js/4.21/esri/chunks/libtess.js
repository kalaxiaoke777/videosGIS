// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.21/esri/copyright.txt for details.
//>>built
define(["exports"],function(ka){var C={exports:{}};(function(T){(function(h){h=h();void 0!==h&&(T.exports=h)})(function(){return{load:function(h){function la(a){return b.locateFile?b.locateFile(a,n):n+a}function U(a,c,d){var e=c+d;for(d=c;a[d]&&!(d>=e);)++d;if(16<d-c&&a.subarray&&V)return V.decode(a.subarray(c,d));for(e="";c<d;){var f=a[c++];if(f&128){var g=a[c++]&63;if(192==(f&224))e+=String.fromCharCode((f&31)<<6|g);else{var k=a[c++]&63;f=224==(f&240)?(f&15)<<12|g<<6|k:(f&7)<<18|g<<12|k<<6|a[c++]&
63;65536>f?e+=String.fromCharCode(f):(f-=65536,e+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else e+=String.fromCharCode(f)}return e}function ma(a,c){0<a%c&&(a+=c-a%c);return a}function W(a){X=a;b.HEAP8=new Int8Array(a);b.HEAP16=new Int16Array(a);b.HEAP32=D=new Int32Array(a);b.HEAPU8=E=new Uint8Array(a);b.HEAPU16=new Uint16Array(a);b.HEAPU32=new Uint32Array(a);b.HEAPF32=new Float32Array(a);b.HEAPF64=new Float64Array(a)}function F(a){if(b.onAbort)b.onAbort(a);a+="";y(a);Y=!0;throw new WebAssembly.RuntimeError("abort("+
a+"). Build with -s ASSERTIONS\x3d1 for more info.");}function Z(a){try{if(a==l&&G)return new Uint8Array(G);if(N)return N(a);throw"both async and sync fetching of the wasm failed";}catch(c){F(c)}}function na(){if(!G&&(aa||H)){if("function"===typeof fetch&&!l.startsWith("file://"))return fetch(l,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+l+"'";return a.arrayBuffer()}).catch(function(){return Z(l)});if(O)return new Promise(function(a,c){O(l,function(d){a(new Uint8Array(d))},
c)})}return Promise.resolve().then(function(){return Z(l)})}function P(a){for(;0<a.length;){var c=a.shift();if("function"==typeof c)c(b);else{var d=c.func;"number"===typeof d?void 0===c.arg?p.get(d)():p.get(d)(c.arg):d(void 0===c.arg?null:c.arg)}}}function Q(a){function c(){if(!K&&(K=!0,b.calledRun=!0,!Y)){P(ba);if(b.onRuntimeInitialized)b.onRuntimeInitialized();if(b.postRun)for("function"==typeof b.postRun&&(b.postRun=[b.postRun]);b.postRun.length;)ca.unshift(b.postRun.shift());P(ca)}}if(!(0<r)){if(b.preRun)for("function"==
typeof b.preRun&&(b.preRun=[b.preRun]);b.preRun.length;)da.unshift(b.preRun.shift());P(da);0<r||(b.setStatus?(b.setStatus("Running..."),setTimeout(function(){setTimeout(function(){b.setStatus("")},1);c()},1)):c())}}h=h.locateFile;const z={};var b="undefined"!==typeof b?b:{};const ea=(()=>{let a;return{resolve:c=>a(c),promise:new Promise(c=>a=c)}})();b.locateFile=h;b.onRuntimeInitialized=()=>{ea.resolve(z)};z.Module=b;z.whenLoaded=()=>ea.promise;h={};for(var t in b)b.hasOwnProperty(t)&&(h[t]=b[t]);
var aa="object"===typeof window,H="function"===typeof importScripts,n="",A,B;if("object"===typeof process&&"object"===typeof process.versions&&"string"===typeof process.versions.node){n=H?require("path").dirname(n)+"/":__dirname+"/";var fa=function(a,c){A||(A=require("fs"));B||(B=require("path"));a=B.normalize(a);return A.readFileSync(a,c?null:"utf8")};var N=function(a){a=fa(a,!0);a.buffer||(a=new Uint8Array(a));a.buffer||F("Assertion failed: undefined");return a};var O=function(a,c,d){A||(A=require("fs"));
B||(B=require("path"));a=B.normalize(a);A.readFile(a,function(e,f){e?d(e):c(f.buffer)})};1<process.argv.length&&process.argv[1].replace(/\\/g,"/");process.argv.slice(2);T.exports=b;process.on("uncaughtException",function(a){throw a;});process.on("unhandledRejection",F);b.inspect=function(){return"[Emscripten Module object]"}}else if(aa||H)H?n=self.location.href:"undefined"!==typeof document&&document.currentScript&&(n=document.currentScript.src),n=0!==n.indexOf("blob:")?n.substr(0,n.lastIndexOf("/")+
1):"",fa=function(a){var c=new XMLHttpRequest;c.open("GET",a,!1);c.send(null);return c.responseText},H&&(N=function(a){var c=new XMLHttpRequest;c.open("GET",a,!1);c.responseType="arraybuffer";c.send(null);return new Uint8Array(c.response)}),O=function(a,c,d){var e=new XMLHttpRequest;e.open("GET",a,!0);e.responseType="arraybuffer";e.onload=function(){200==e.status||0==e.status&&e.response?c(e.response):d()};e.onerror=d;e.send(null)};var oa=b.print||console.log.bind(console),y=b.printErr||console.warn.bind(console);
for(t in h)h.hasOwnProperty(t)&&(b[t]=h[t]);h=null;var ha=0,G;b.wasmBinary&&(G=b.wasmBinary);b.noExitRuntime||!0;"object"!==typeof WebAssembly&&F("no native wasm support detected");var L,Y=!1,V="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0,X,E,D;b.INITIAL_MEMORY||16777216;var p,da=[],ba=[],ca=[],r=0,I=null;b.preloadedImages={};b.preloadedAudios={};var l="libtess.wasm";l.startsWith("data:application/octet-stream;base64,")||(l=la(l));var J={mappings:{},buffers:[null,[],[]],printChar:function(a,
c){var d=J.buffers[a];0===c||10===c?((1===a?oa:y)(U(d,0)),d.length=0):d.push(c)},varargs:void 0,get:function(){J.varargs+=4;return D[J.varargs-4>>2]},getStr:function(a){return a?U(E,a,void 0):""},get64:function(a,c){return a}},pa={h:function(){throw"longjmp";},l:function(a,c,d){E.copyWithin(a,c,c+d)},g:function(a){var c=E.length;a>>>=0;if(2147483648<a)return!1;for(var d=1;4>=d;d*=2){var e=c*(1+.2/d);e=Math.min(e,a+100663296);e=Math.min(2147483648,ma(Math.max(a,e),65536));a:{try{L.grow(e-X.byteLength+
65535>>>16);W(L.buffer);var f=1;break a}catch(g){}f=void 0}if(f)return!0}return!1},f:function(a,c,d,e){for(var f=0,g=0;g<d;g++){for(var k=D[c+8*g>>2],ia=D[c+(8*g+4)>>2],R=0;R<ia;R++)J.printChar(a,E[k+R]);f+=ia}D[e>>2]=f;return 0},b:function(){return ha},k:function(a){var c=u();try{return p.get(a)()}catch(d){v(c);if(d!==d+0&&"longjmp"!==d)throw d;w(1,0)}},d:function(a,c){var d=u();try{return p.get(a)(c)}catch(e){v(d);if(e!==e+0&&"longjmp"!==e)throw e;w(1,0)}},j:function(a,c,d){var e=u();try{return p.get(a)(c,
d)}catch(f){v(e);if(f!==f+0&&"longjmp"!==f)throw f;w(1,0)}},i:function(a,c,d,e){var f=u();try{return p.get(a)(c,d,e)}catch(g){v(f);if(g!==g+0&&"longjmp"!==g)throw g;w(1,0)}},e:function(a,c){var d=u();try{p.get(a)(c)}catch(e){v(d);if(e!==e+0&&"longjmp"!==e)throw e;w(1,0)}},c:function(a,c,d){var e=u();try{p.get(a)(c,d)}catch(f){v(e);if(f!==f+0&&"longjmp"!==f)throw f;w(1,0)}},a:function(a){ha=a}};(function(){function a(f,g){b.asm=f.exports;L=b.asm.m;W(L.buffer);p=b.asm.q;ba.unshift(b.asm.n);r--;b.monitorRunDependencies&&
b.monitorRunDependencies(r);0==r&&I&&(f=I,I=null,f())}function c(f){a(f.instance)}function d(f){return na().then(function(g){return WebAssembly.instantiate(g,e)}).then(f,function(g){y("failed to asynchronously prepare wasm: "+g);F(g)})}var e={a:pa};r++;b.monitorRunDependencies&&b.monitorRunDependencies(r);if(b.instantiateWasm)try{return b.instantiateWasm(e,a)}catch(f){return y("Module.instantiateWasm callback failed with error: "+f),!1}(function(){return G||"function"!==typeof WebAssembly.instantiateStreaming||
l.startsWith("data:application/octet-stream;base64,")||l.startsWith("file://")||"function"!==typeof fetch?d(c):fetch(l,{credentials:"same-origin"}).then(function(f){return WebAssembly.instantiateStreaming(f,e).then(c,function(g){y("wasm streaming compile failed: "+g);y("falling back to ArrayBuffer instantiation");return d(c)})})})();return{}})();b.___wasm_call_ctors=function(){return(b.___wasm_call_ctors=b.asm.n).apply(null,arguments)};b._malloc=function(){return(b._malloc=b.asm.o).apply(null,arguments)};
b._free=function(){return(b._free=b.asm.p).apply(null,arguments)};b._triangulate=function(){return(b._triangulate=b.asm.r).apply(null,arguments)};var u=b.stackSave=function(){return(u=b.stackSave=b.asm.s).apply(null,arguments)},v=b.stackRestore=function(){return(v=b.stackRestore=b.asm.t).apply(null,arguments)},w=b._setThrew=function(){return(w=b._setThrew=b.asm.u).apply(null,arguments)},K;I=function c(){K||Q();K||(I=c)};b.run=Q;if(b.preInit)for("function"==typeof b.preInit&&(b.preInit=[b.preInit]);0<
b.preInit.length;)b.preInit.pop()();Q();let S=null,q=null,x=null,M=null;const m=z.Module;let ja=0;z.triangulate=(c,d,e)=>{S||(S=m._triangulate);var f=m.HEAPF32;const g=m.HEAP32.BYTES_PER_ELEMENT;var k=f.BYTES_PER_ELEMENT;e>ja&&(ja=e,x&&(m._free(x),x=0),q&&(m._free(q),q=0));x||(x=m._malloc(e*k));M||(M=m._malloc(1E3*g));q||(q=m._malloc(e*k));f=m.HEAPF32;f.set(c,x/k);m.HEAP32.set(d,M/g);c=S(x,M,d.length,2,q);f=m.HEAPF32;f=f.slice(q/k,q/k+2*c);k={};k.buffer=f;k.vertexCount=c;return k};return z.whenLoaded()}}})})(C);
var qa=C.exports;C=Object.freeze(Object.assign(Object.create(null),C.exports,{default:qa}));ka.libtess=C});