"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[9884],{59884:(e,t,n)=>{n.r(t),n.d(t,{csvLatitudeFieldNames:()=>v,csvLongitudeFieldNames:()=>U,default:()=>B}),n(74569);var r=n(82058),i=n(60991),s=n(76506),a=n(56240),o=n(32101),l=n(72334),u=n(77314),c=n(60947),f=n(35132),d=n(85674),p=n(56761),m=n(24251),h=n(50815),g=n(4571),y=n(1709);n(91306),n(92143),n(31450),n(71552),n(40642),n(21801),n(34250),n(86656),n(22723),n(17533),n(81172),n(73796),n(74673),n(21972),n(23639),n(91055),n(27794),n(6906),n(50406),n(97714),n(2906),n(91597),n(86787),n(89623),n(84069),n(44567),n(98380),n(92896),n(22781),n(57251),n(32422),n(88762),n(3482),n(82426),n(29794),n(53785),n(95587),n(65775),n(12381),n(73173),n(92482),n(92624),n(76996),n(53326),n(40267),n(88994),n(98576),n(44722),n(71331),n(91700),n(95533),n(94751),n(30831),n(72274),n(5777),n(89219),n(71435),n(81731),n(14249),n(60217),n(7176),n(14172),n(6941);const b=/^\s*"([\S\s]*)"\s*$/,F=/""/g,M=[","," ",";","|","\t"];function x(e,t){const n={},r=e.length;for(let i=0;i<r;i++)n[e[i]]=t[i];return n}function*S(e,t,n){let r=0;for(;r<=e.length;){const i=e.indexOf(t,r),s=e.substring(r,i>-1?i:void 0);r+=s.length+t.length,n&&!s.trim()||(yield s)}}function _(e){const t=e.includes("\r\n")?"\r\n":"\n";return S(e,t,!0)}function I(e,t){return S(e,t,!1)}function*N(e,t,n){let r="",i="",s=0,a=[];e:for(;;){const{value:o,done:l}=e.next();if(l)return;const u=I(o,n);t:for(;;){const{value:e,done:t}=u.next();if(t)break t;if(r+=i+e,i="",s+=T(e),s%2==0){if(s>0){const e=b.exec(r);if(!e){a=[],r="",s=0;continue e}a.push(e[1].replace(F,'"'))}else a.push(r);r="",s=0}else i=n}0===s?(yield x(t,a),a=[]):i="\n"}}function T(e){let t=0,n=0;for(n=e.indexOf('"',n);n>=0;)t++,n=e.indexOf('"',n+1);return t}const w=(0,g.a)("esriGeometryPoint"),E=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong"],v=["lat","latitude","latitude83","latdecdeg","lat_dd","y","ycenter","point-y"],U=["lon","lng","long","longitude","longitude83","longdecdeg","long_dd","x","xcenter","point-x"],O=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,q=["csv"],D=[0,0];class A{constructor(e,t){this.x=e,this.y=t}}const R=function(){const e=(0,a._)(),t=new RegExp("^"+e.regexp+"$"),n=new RegExp("["+e.group+"\\s\\xa0]","g"),r=e.factor;return function(i){const s=t.exec(i);if(e.factor=r,!s)return NaN;let a=s[1];if(!s[1]){if(!s[2])return NaN;a=s[2],e.factor*=-1}return a=a.replace(n,"").replace(e.decimal,"."),+a*e.factor}}(),k="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;class B{constructor(){this._fieldsIndex=null,this._queryEngine=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=null,this._fieldsIndex=null}async load(e,t={}){const[n]=await Promise.all([this._fetch(e.url,t),this._checkProjection(t&&e.parsing&&e.parsing.spatialReference)]),r=this._parse(n,e);if(this._queryEngine=this._createQueryEngine(n,r),r.layerDefinition.extent=this._queryEngine.fullExtent,r.layerDefinition.timeInfo){const{start:e,end:t}=this._queryEngine.timeExtent;r.layerDefinition.timeInfo.timeExtent=[e,t]}return r}async applyEdits(){throw new i.Z("csv-source:editing-not-supported","applyEdits() is not supported on CSVLayer")}queryFeatures(e={},t={}){return this._queryEngine.executeQuery(e,t.signal)}queryFeatureCount(e={},t={}){return this._queryEngine.executeQueryForCount(e,t.signal)}queryObjectIds(e={},t={}){return this._queryEngine.executeQueryForIds(e,t.signal)}queryExtent(e={},t={}){return this._queryEngine.executeQueryForExtent(e,t.signal)}querySnapping(e,t={}){return this._queryEngine.executeQueryForSnapping(e,t.signal)}async _fetch(e,t){if(!e)throw new i.Z("csv-source:invalid-source","url not defined");const n=(0,o.mN)(e);return(await(0,r.default)(n.path,{query:n.query,responseType:"text",signal:t.signal})).data}_parse(e,t){const n=t.parsing||{},r={columnDelimiter:n.columnDelimiter,layerDefinition:null,locationInfo:{latitudeFieldName:n.latitudeField,longitudeFieldName:n.longitudeField}},s=_(e);let{value:a}=s.next();if(!a)throw new i.Z("csv","CSV is empty",{csv:e});if(a=a.trim(),!n.columnDelimiter){const e=function(e){const t=e.trim();let n=0,r="";for(const e of M){const i=t.split(e).length;i>n&&(n=i,r=e)}return""===r?null:r}(a);if(!e)throw new i.Z("csv-source:invalid-delimiter","Unable to detect the delimiter from CSV");r.columnDelimiter=e}const l=a.split(r.columnDelimiter),u=r.layerDefinition={name:(0,o.vt)(t.url,q)||"csv",drawingInfo:w,geometryType:"esriGeometryPoint",objectIdField:null,fields:[],timeInfo:n.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:n.spatialReference||{wkid:102100}}};if(!n.latitudeField||!n.longitudeField){const e=this._inferLocationInfo(l);if(!n.longitudeField&&!e.longitudeFieldName||!n.latitudeField&&!e.latitudeFieldName)throw new i.Z("csv","Unable to identify latitudeField and/or longitudeField from CSV");r.locationInfo={longitudeFieldName:n.longitudeField||e.longitudeFieldName,latitudeFieldName:n.latitudeField||e.latitudeFieldName}}const c=this._inferFields(s,r.columnDelimiter,l,r.locationInfo);if(n.fields&&n.fields.length){const e=new Map;for(const t of n.fields)e.set(t.name.toLowerCase(),t);for(const t of c){const n=e.get(t.name.toLowerCase());if(n){const e=t.name;Object.assign(t,n),t.name=e}}}if(u.fields=c,!u.fields.some((e=>"esriFieldTypeOID"===e.type&&(u.objectIdField=e.name,!0)))){const e={name:"__OBJECTID",alias:"__OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1};u.objectIdField=e.name,u.fields.unshift(e)}if(this._fieldsIndex=new y.Z(u.fields),u.timeInfo){const e=u.timeInfo;if(e.startTimeField){const t=this._fieldsIndex.get(e.startTimeField);t?(e.startTimeField=t.name,t.type="esriFieldTypeDate"):e.startTimeField=null}if(e.endTimeField){const t=this._fieldsIndex.get(e.endTimeField);t?(e.endTimeField=t.name,t.type="esriFieldTypeDate"):e.endTimeField=null}if(e.trackIdField){const t=this._fieldsIndex.get(e.trackIdField);e.trackIdField=t?t.name:null}e.startTimeField||e.endTimeField||(u.timeInfo=null)}return r}_inferLocationInfo(e){let t=null,n=null;const r=t=>e.find((e=>e.toLowerCase()===t));return U.some((e=>(t=r(e),!!t))),v.some((e=>(n=r(e),!!n))),{longitudeFieldName:t,latitudeFieldName:n}}_inferFields(e,t,n,r){const i=[],s=N(e,n,t),a=[];e:for(;a.length<10;){const{value:e,done:t}=s.next();if(t)break e;a.push(e)}for(const e of n)if(e===r.longitudeFieldName||e===r.latitudeFieldName)i.push({name:e,type:"esriFieldTypeDouble",alias:e});else{const t=a.map((t=>t[e])),n=this._inferFieldType(t),r={name:e,type:null,alias:e};switch(n){case"integer":r.type="esriFieldTypeInteger";break;case"double":r.type="esriFieldTypeDouble";break;case"date":r.type="esriFieldTypeDate",r.length=36;break;default:r.type="esriFieldTypeString",r.length=255}i.push(r)}return i}_inferFieldType(e){if(!e.length)return"string";const t=/[^+-.,0-9]/;return e.map((e=>{let n=!1;if(""!==e){if(t.test(e))n=!0;else{let t=R(e);if(!isNaN(t))return/[.,]/.test(e)||!k(t)||t>214783647||t<-214783648?"double":"integer";if(-1===e.indexOf("E"))n=!0;else{if(t=Number(e),!isNaN(t))return"double";if(-1===e.indexOf(","))n=!0;else{if(e=e.replace(",","."),t=Number(e),!isNaN(t))return"double";n=!0}}}if(n){if(!/^[-]?\d*[.,]?\d*$/.test(e)){const t=new Date(e);return this._isValidDate(t,e)?"date":"string"}return"string"}return"string"}})).reduce(((e,t)=>void 0===e||e===t?t:"string"===e||"string"===t?"string":"double"===e||"double"===t?"double":void 0))}_isValidDate(e,t){if(!e||"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))return!1;let n=!0;if((0,s.h)("chrome")&&/\d+\W*$/.test(t)){const e=t.match(/[a-zA-Z]{2,}/);if(e){let t=!1,r=0;for(;!t&&r<=e.length;)t=!O.test(e[r]),r++;n=!t}}return n}_createQueryEngine(e,t){const{latitudeFieldName:n,longitudeFieldName:r}=t.locationInfo,{objectIdField:i,fields:s,extent:a,timeInfo:o}=t.layerDefinition;let m=[];const g=[],y=new Set,b=new Set,F=[];for(const{name:e,type:t}of s)"esriFieldTypeDate"===t?y.add(e):E.indexOf(t)>-1&&b.add(e),e!==i&&F.push(e);let M=0;const x=_(e);x.next();const S=N(x,F,t.columnDelimiter);e:for(;;){const{value:e,done:t}=S.next();if(t)break e;const s=this._parseCoordinateValue(e[n]),a=this._parseCoordinateValue(e[r]);if(null!=a&&null!=s&&!isNaN(s)&&!isNaN(a)){e[n]=s,e[r]=a;for(const t in e)if(t!==n&&t!==r)if(y.has(t)){const n=new Date(e[t]);e[t]=this._isValidDate(n,e[t])?n.getTime():null}else if(b.has(t)){const n=R(e[t]);isNaN(n)?e[t]=null:e[t]=n}e[i]=M,M++,m.push(new A(a,s)),g.push(e)}}if(!(0,c.e)({wkid:4326},a.spatialReference))if((0,c.i)(a.spatialReference))for(const e of m)[e.x,e.y]=(0,f.hG)(e.x,e.y,D);else m=(0,l.oj)(u.j,m,c.Z.WGS84,a.spatialReference,null);const I=new p.F({geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1}),T=new h.Q({fields:t.layerDefinition.fields,geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1,timeInfo:o,objectIdField:i,spatialReference:a.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:I}),w=[];for(let e=0;e<m.length;e++){const{x:t,y:n}=m[e],r=g[e];r[i]=e+1,w.push(new d.a(new d.O([],[t,n]),r,null,r[i]))}return I.addMany(w),T}_parseCoordinateValue(e){if(null==e||""===e)return null;let t=R(e);return(isNaN(t)||Math.abs(t)>181)&&(t=parseFloat(e)),t}async _checkProjection(e){try{await(0,m.c)(c.W,e)}catch{throw new i.Z("csv-layer","Projection not supported")}}}},92482:(e,t,n)=>{n.d(t,{N:()=>d,c:()=>s,d:()=>f,g:()=>c,j:()=>a,n:()=>o,t:()=>l,x:()=>u});var r=n(76506),i=(n(82426),n(21801));function s(e=p){return[e[0],e[1],e[2],e[3]]}function a(e,t,n,r,i=s()){return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function o(e,t=s()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function l(e,t){return new i.Z({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function u(e){return t=e,((0,r.b)(t)||t[0]>=t[2]?0:t[2]-t[0])*function(e){return e[1]>=e[3]?0:e[3]-e[1]}(e);var t}function c(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function f(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}const d=[1/0,1/0,-1/0,-1/0],p=[0,0,0,0]},60217:(e,t,n)=>{n.d(t,{A:()=>c,a:()=>l,b:()=>o,c:()=>u,l:()=>a}),n(74569);var r=n(76506),i=n(60947);let s;function a(){return s||(s=(async()=>{const e=await n.e(1886).then(n.bind(n,1886)).then((function(e){return e.ar}));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),s}const o=(e,t,n)=>c.create(e,t,n,null,["$feature"]),l=(e,t,n)=>c.create(e,t,n,null,["$feature","$view"]),u=(e,t,n,r)=>c.create(e,t,n,r,["$feature","$view"]);class c{constructor(e,t,n,r,i,s,a,o){this.script=e,this.evaluate=i;const l=Array.isArray(a)?a:a.fields;this.fields=l,this._syntaxTree=r,this._arcade=t,this._arcadeDictionary=n,this._arcadeFeature=s,this._spatialReference=o,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(e,t,n,s,o,l){const{arcade:u,Feature:f,Dictionary:d}=await a(),p=i.Z.fromJSON(t),m=u.parseScript(e,l),h=o.reduce(((e,t)=>({...e,[t]:null})),{});let g=null;(0,r.i)(s)&&(g=new d(s),g.immutable=!0,h.$config=null);const y=u.scriptUsesGeometryEngine(m)&&u.enableGeometrySupport(),b=u.scriptUsesFeatureSet(m)&&u.enableFeatureSetSupport(),F=u.scriptIsAsync(m)&&u.enableAsyncSupport(),M={vars:h,spatialReference:p,useAsync:!!F},x=new d;x.immutable=!1,x.setField("scale",0);const S=u.compileScript(m,M);return await Promise.all([y,b,F]),new c(e,u,d,m,(e=>("$view"in e&&e.$view&&(x.setField("scale",e.$view.scale),e.$view=x),g&&(e.$config=g),S({vars:e,spatialReference:p}))),new f,n,p)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}repurposeAdapter(e){return this._arcadeFeature.repurposeFromAdapter(e,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(e){return this._arcade.referencesMember(this._syntaxTree,e)}referencesFunction(e){return this._arcade.referencesFunction(this._syntaxTree,e)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}},4571:(e,t,n)=>{n.d(t,{a:()=>a,b:()=>l,c:()=>u,d:()=>o});var r=n(76506),i=n(89219),s=n(6941);function a(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?s.d:"esriGeometryPolyline"===e?s.a:s.b}}}function o(e,t){if((0,r.h)("csp-restrictions"))return()=>({[t]:null,...e});try{let n=`this.${t} = null;`;for(const t in e)n+=`this${t.indexOf(".")?`["${t}"]`:`.${t}`} = ${JSON.stringify(e[t])};`;const r=new Function(n);return()=>new r}catch(n){return()=>({[t]:null,...e})}}function l(e={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,r.d9)(e)}}]}function u(e,t){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:i.q,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},29794:(e,t,n)=>{n.d(t,{E:()=>r,R:()=>i});const r=1e-6,i=Math.random;Math.PI,Math.PI},6941:(e,t,n)=>{n.d(t,{a:()=>s,b:()=>a,c:()=>o,d:()=>i,e:()=>l,f:()=>u,g:()=>c});const r=[252,146,31,255],i={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},s={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},a={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},o={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},l={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},u={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},c={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},3482:(e,t,n)=>{n.d(t,{b:()=>m,g:()=>c,o:()=>d});var r,i,s,a=n(76506);let o;const l=null!=(r=null==(i=a.g.esriConfig)?void 0:i.locale)?r:null==(s=a.g.dojoConfig)?void 0:s.locale;function u(){var e,t;return null!=(e=null!=l?l:null==(t=a.g.navigator)?void 0:t.language)?e:"en"}function c(){return void 0===o&&(o=u()),o}const f=[];function d(e){return f.push(e),{remove(){f.splice(f.indexOf(e),1)}}}const p=[];function m(e){return p.push(e),{remove(){f.splice(p.indexOf(e),1)}}}null==a.g.addEventListener||a.g.addEventListener("languagechange",(function(){const e=null!=undefined?undefined:u();o!==e&&(o=e,[...p].forEach((t=>{t.call(null,e)})),[...f].forEach((t=>{t.call(null,e)})))}))},82426:(e,t,n)=>{n.d(t,{A:()=>O,B:()=>P,C:()=>x,D:()=>ge,E:()=>E,F:()=>q,G:()=>Q,J:()=>V,K:()=>se,L:()=>me,M:()=>le,N:()=>ie,O:()=>c,U:()=>ue,W:()=>o,Z:()=>u,a:()=>I,a9:()=>y,ac:()=>oe,b:()=>i,c:()=>ae,d:()=>_,e:()=>p,f:()=>b,g:()=>m,h:()=>N,i:()=>de,j:()=>a,k:()=>d,l:()=>f,m:()=>ce,n:()=>S,o:()=>pe,p:()=>M,r:()=>fe,s:()=>h,t:()=>T,u:()=>s,w:()=>F,x:()=>w,z:()=>l});var r=n(29794);function i(){return[0,0,0]}function s(e){return[e[0],e[1],e[2]]}function a(e,t,n){return[e,t,n]}function o(e){const t=[0,0,0],n=Math.min(3,e.length);for(let r=0;r<n;++r)t[r]=e[r];return t}function l(e,t){return new Float64Array(e,t,3)}const u=[0,0,0],c=a(1,1,1);function f(e){const t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function d(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function p(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function m(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function h(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function g(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function y(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function b(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function F(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)}function M(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function x(e){const t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function S(e,t){const n=t[0],r=t[1],i=t[2];let s=n*n+r*r+i*i;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}function _(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function I(e,t,n){const r=t[0],i=t[1],s=t[2],a=n[0],o=n[1],l=n[2];return e[0]=i*l-s*o,e[1]=s*a-r*l,e[2]=r*o-i*a,e}function N(e,t,n,r){const i=t[0],s=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=s+r*(n[1]-s),e[2]=a+r*(n[2]-a),e}function T(e,t,n){const r=t[0],i=t[1],s=t[2];return e[0]=n[0]*r+n[4]*i+n[8]*s+n[12],e[1]=n[1]*r+n[5]*i+n[9]*s+n[13],e[2]=n[2]*r+n[6]*i+n[10]*s+n[14],e}function w(e,t,n){const r=t[0],i=t[1],s=t[2];return e[0]=r*n[0]+i*n[3]+s*n[6],e[1]=r*n[1]+i*n[4]+s*n[7],e[2]=r*n[2]+i*n[5]+s*n[8],e}function E(e,t,n){const r=n[0],i=n[1],s=n[2],a=n[3],o=t[0],l=t[1],u=t[2];let c=i*u-s*l,f=s*o-r*u,d=r*l-i*o,p=i*d-s*f,m=s*c-r*d,h=r*f-i*c;const g=2*a;return c*=g,f*=g,d*=g,p*=2,m*=2,h*=2,e[0]=o+c+p,e[1]=l+f+m,e[2]=u+d+h,e}const v=[0,0,0],U=[0,0,0];function O(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function q(e,t,n){const r=n[0]-t[0],i=n[1]-t[1],s=n[2]-t[2];let a=r*r+i*i+s*s;return a>0?(a=1/Math.sqrt(a),e[0]=r*a,e[1]=i*a,e[2]=s*a,e):(e[0]=0,e[1]=0,e[2]=0,e)}const D=h,A=g,R=y,k=F,B=M,G=f,L=x;function P(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function V(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function C(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function $(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function j(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function z(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+s*s)}function Z(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return n*n+r*r+i*i+s*s}function Y(e){const t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)}function H(e){const t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function Q(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}Object.freeze({__proto__:null,length:f,copy:d,set:p,add:m,subtract:h,multiply:g,divide:y,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},scale:b,scaleAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e},distance:F,squaredDistance:M,squaredLength:x,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},normalize:S,dot:_,cross:I,lerp:N,hermite:function(e,t,n,r,i,s){const a=s*s,o=a*(2*s-3)+1,l=a*(s-2)+s,u=a*(s-1),c=a*(3-2*s);return e[0]=t[0]*o+n[0]*l+r[0]*u+i[0]*c,e[1]=t[1]*o+n[1]*l+r[1]*u+i[1]*c,e[2]=t[2]*o+n[2]*l+r[2]*u+i[2]*c,e},bezier:function(e,t,n,r,i,s){const a=1-s,o=a*a,l=s*s,u=o*a,c=3*s*o,f=3*l*a,d=l*s;return e[0]=t[0]*u+n[0]*c+r[0]*f+i[0]*d,e[1]=t[1]*u+n[1]*c+r[1]*f+i[1]*d,e[2]=t[2]*u+n[2]*c+r[2]*f+i[2]*d,e},random:function(e,t){t=t||1;const n=2*(0,r.R)()*Math.PI,i=2*(0,r.R)()-1,s=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*s,e[1]=Math.sin(n)*s,e[2]=i*t,e},transformMat4:T,transformMat3:w,transformQuat:E,rotateX:function(e,t,n,r){const i=[],s=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],s[0]=i[0],s[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),s[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e},rotateY:function(e,t,n,r){const i=[],s=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],s[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),s[1]=i[1],s[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e},rotateZ:function(e,t,n,r){const i=[],s=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],s[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),s[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),s[2]=i[2],e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e},angle:function(e,t){d(v,e),d(U,t),S(v,v),S(U,U);const n=_(v,U);return n>1?0:n<-1?Math.PI:Math.acos(n)},str:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},exactEquals:O,equals:function(e,t){const n=e[0],i=e[1],s=e[2],a=t[0],o=t[1],l=t[2];return Math.abs(n-a)<=r.E*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-o)<=r.E*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(s-l)<=r.E*Math.max(1,Math.abs(s),Math.abs(l))},direction:q,sub:D,mul:A,div:R,dist:k,sqrDist:B,len:G,sqrLen:L});const X=C,J=$,W=j,K=z,ee=Z,te=Y,ne=H;Object.freeze({__proto__:null,copy:P,set:V,add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},subtract:C,multiply:$,divide:j,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},scaleAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},distance:z,squaredDistance:Z,length:Y,squaredLength:H,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},normalize:function(e,t){const n=t[0],r=t[1],i=t[2],s=t[3];let a=n*n+r*r+i*i+s*s;return a>0&&(a=1/Math.sqrt(a),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=s*a),e},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},lerp:function(e,t,n,r){const i=t[0],s=t[1],a=t[2],o=t[3];return e[0]=i+r*(n[0]-i),e[1]=s+r*(n[1]-s),e[2]=a+r*(n[2]-a),e[3]=o+r*(n[3]-o),e},random:function(e,t){let n,i,s,a,o,l;t=t||1;do{n=2*(0,r.R)()-1,i=2*(0,r.R)()-1,o=n*n+i*i}while(o>=1);do{s=2*(0,r.R)()-1,a=2*(0,r.R)()-1,l=s*s+a*a}while(l>=1);const u=Math.sqrt((1-o)/l);return e[0]=t*n,e[1]=t*i,e[2]=t*s*u,e[3]=t*a*u,e},transformMat4:function(e,t,n){const r=t[0],i=t[1],s=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*s+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*s+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*s+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*s+n[15]*a,e},transformQuat:function(e,t,n){const r=t[0],i=t[1],s=t[2],a=n[0],o=n[1],l=n[2],u=n[3],c=u*r+o*s-l*i,f=u*i+l*r-a*s,d=u*s+a*i-o*r,p=-a*r-o*i-l*s;return e[0]=c*u+p*-a+f*-l-d*-o,e[1]=f*u+p*-o+d*-a-c*-l,e[2]=d*u+p*-l+c*-o-f*-a,e[3]=t[3],e},str:function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},exactEquals:Q,equals:function(e,t){const n=e[0],i=e[1],s=e[2],a=e[3],o=t[0],l=t[1],u=t[2],c=t[3];return Math.abs(n-o)<=r.E*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-l)<=r.E*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-u)<=r.E*Math.max(1,Math.abs(s),Math.abs(u))&&Math.abs(a-c)<=r.E*Math.max(1,Math.abs(a),Math.abs(c))},sub:X,mul:J,div:W,dist:K,sqrDist:ee,len:te,sqrLen:ne});const re=new Float32Array(1),ie=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)};function se(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function ae(e,t,n){return Math.min(Math.max(e,t),n)}function oe(e){return 0==(e&e-1)}Number.isNaN,Math.sign;const le=Math.log2||function(e){return Math.log(e)/Math.LN2};function ue(e,t,n){return e+(t-e)*n}function ce(e){return e*Math.PI/180}function fe(e){return 180*e/Math.PI}function de(e){return Math.acos(ae(e,-1,1))}function pe(e){return Math.asin(ae(e,-1,1))}function me(e){return he(Math.max(-ye,Math.min(e,ye)))}function he(e){return re[0]=e,re[0]}function ge(e,t){const n=f(e);return p(t,n,pe(e[2]/n),Math.atan2(e[1]/n,e[0]/n)),t}const ye=he(34028234663852886e22)},56240:(e,t,n)=>{n.d(t,{_:()=>u,f:()=>o,p:()=>c});var r=n(40642),i=n(3482);const s={ar:[".",","],bs:[",","."],ca:[",","."],cs:[","," "],da:[",","."],de:[",","."],"de-ch":[".","’"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[","," "],fi:[","," "],fr:[","," "],"fr-ch":[","," "],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[","," "],id:[",","."],it:[",","."],"it-ch":[".","’"],ja:[".",","],ko:[".",","],lt:[","," "],lv:[","," "],mk:[",","."],nb:[","," "],nl:[",","."],pl:[","," "],pt:[",","."],"pt-pt":[","," "],ro:[",","."],ru:[","," "],sk:[","," "],sl:[",","."],sr:[",","."],sv:[","," "],th:[".",","],tr:[",","."],uk:[","," "],vi:[",","."],zh:[".",","]};function a(e){e||(e=(0,i.g)());let t=e in s;if(!t){const n=e.split("-");n.length>1&&n[0]in s&&(e=n[0],t=!0),t||(e="en")}const[n,r,a="#,##0.###"]=s[e];return{decimal:n,group:r,pattern:a}}function o(e,t){const n=a((t={...t}).locale);t.customs=n;const r=t.pattern||n.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,n){const r=(n=n||{}).customs.group,i=n.customs.decimal,s=t.split(";"),a=s[0];if(-1!==(t=s[e<0?1:0]||"-"+a).indexOf("%"))e*=100;else if(-1!==t.indexOf("‰"))e*=1e3;else{if(-1!==t.indexOf("¤"))throw new Error("currency notation not supported");if(-1!==t.indexOf("E"))throw new Error("exponential notation not supported")}const o=l,u=a.match(o);if(!u)throw new Error("unable to find a number expression in pattern: "+t);return!1===n.fractional&&(n.places=0),t.replace(o,function(e,t,n){!0===(n=n||{}).places&&(n.places=0),n.places===1/0&&(n.places=6);const r=t.split("."),i="string"==typeof n.places&&n.places.indexOf(",");let s=n.places;i?s=n.places.substring(i+1):s>=0||(s=(r[1]||[]).length),n.round<0||(e=Number(e.toFixed(Number(s))));const a=String(Math.abs(e)).split("."),o=a[1]||"";if(r[1]||n.places){i&&(n.places=n.places.substring(0,i));const e=void 0!==n.places?n.places:r[1]&&r[1].lastIndexOf("0")+1;e>o.length&&(a[1]=o.padEnd(Number(e),"0")),s<o.length&&(a[1]=o.substr(0,Number(s)))}else a[1]&&a.pop();const l=r[0].replace(",","");let u=l.indexOf("0");-1!==u&&(u=l.length-u,u>a[0].length&&(a[0]=a[0].padStart(u,"0")),-1===l.indexOf("#")&&(a[0]=a[0].substr(a[0].length-u)));let c,f,d=r[0].lastIndexOf(",");if(-1!==d){c=r[0].length-d-1;const e=r[0].substr(0,d);d=e.lastIndexOf(","),-1!==d&&(f=e.length-d-1)}const p=[];for(let e=a[0];e;){const t=e.length-c;p.push(t>0?e.substr(t):e),e=t>0?e.slice(0,t):"",f&&(c=f,f=void 0)}return a[0]=p.reverse().join(n.group||","),a.join(n.decimal||".")}(e,u[0],{decimal:i,group:r,places:n.places,round:n.round}))}(e,r,t)}const l=/[#0,]*[#0](?:\.0*#*)?/;function u(e){const t=a((e=e||{}).locale),n=e.pattern||t.pattern,i=t.group,s=t.decimal;let o=1;if(-1!==n.indexOf("%"))o/=100;else if(-1!==n.indexOf("‰"))o/=1e3;else if(-1!==n.indexOf("¤"))throw new Error("currency notation not supported");const u=n.split(";");1===u.length&&u.push("-"+u[0]);const c=d(u,(function(t){return(t="(?:"+(0,r.e)(t,".")+")").replace(l,(function(t){const n={signed:!1,separator:e.strict?i:[i,""],fractional:e.fractional,decimal:s,exponent:!1},r=t.split(".");let a=e.places;1===r.length&&1!==o&&(r[1]="###"),1===r.length||0===a?n.fractional=!1:(void 0===a&&(a=e.pattern?r[1].lastIndexOf("0")+1:1/0),a&&null==e.fractional&&(n.fractional=!0),!e.places&&a<r[1].length&&(a+=","+r[1].length),n.places=a);const l=r[0].split(",");return l.length>1&&(n.groupSize=l.pop().length,l.length>1&&(n.groupSize2=l.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);const t=f(e),n=d(e.fractional,(function(t){let n="";return t&&0!==e.places&&(n="\\"+e.decimal,e.places===1/0?n="(?:"+n+"\\d+)?":n+="\\d{"+e.places+"}"),n}),!0),r=d(e.exponent,(function(t){return t?"([eE]"+f({signed:e.eSigned})+")":""}));let i=t+n;return n&&(i="(?:(?:"+i+")|(?:"+n+"))"),i+r}(n)+")"}))}),!0);return{regexp:c.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:i,decimal:s,factor:o}}function c(e,t){const n=u(t),r=new RegExp("^"+n.regexp+"$").exec(e);if(!r)return NaN;let i=r[1];if(!r[1]){if(!r[2])return NaN;i=r[2],n.factor*=-1}return i=i.replace(new RegExp("["+n.group+"\\s\\xa0]","g"),"").replace(n.decimal,"."),Number(i)*n.factor}function f(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",d(e.signed,(function(e){return e?"[-+]":""}),!0)+d(e.separator,(function(t){if(!t)return"(?:\\d+)";" "===(t=(0,r.e)(t))?t="\\s":" "===t&&(t="\\s\\xa0");const n=e.groupSize,i=e.groupSize2;if(i){const e="(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*["+t+"]\\d{"+n+"})";return n-i>0?"(?:"+e+"|(?:0|[1-9]\\d{0,"+(n-1)+"}))":e}return"(?:0|[1-9]\\d{0,"+(n-1)+"}(?:["+t+"]\\d{"+n+"})*)"}),!0)}const d=function(e,t,n){if(!(e instanceof Array))return t(e);const r=[];for(let n=0;n<e.length;n++)r.push(t(e[n]));return p(r.join("|"),n)},p=function(e,t){return"("+(t?"?:":"")+e+")"}},95587:(e,t,n)=>{n.d(t,{S:()=>a,W:()=>u,a:()=>o,b:()=>l,c:()=>f,d:()=>c,e:()=>p,g:()=>d});var r=n(60947),i=n(89623);function s(e){return new r.Z({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const a=s(i.e),o=s(i.m),l=s(i.a),u=new r.Z({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${i.e.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function c(e){return e&&e===i.m?o:e&&e===i.a?l:a}function f(e){return e&&((0,r.f)(e)||e===o)?o:e&&((0,r.h)(e)||e===l)?l:a}function d(e){return e&&((0,r.f)(e)||e===o)?i.m:e&&((0,r.h)(e)||e===l)?i.a:i.e}function p(e){return(0,r.c)(e)?i.m:(0,r.d)(e)?i.a:i.e}},53785:(e,t,n)=>{n.d(t,{a:()=>N,b:()=>T,c:()=>M,d:()=>_,e:()=>U,f:()=>O,g:()=>I,i:()=>o,l:()=>x,u:()=>S,z:()=>w}),n(76506);var r=n(57251),i=n(95587),s=n(60947),a=n(89623);const o=39.37,l=a.e.radius*Math.PI/200,u=/UNIT\[([^\]]+)\]\]$/i,c=s.o,f=/UNIT\[([^\]]+)\]/i,d=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),p=(0,r.s)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),m=e=>e*e,h=e=>e*e*e,g={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:m(.001)},"square-centimeters":{inBaseUnits:m(.01)},"square-decimeters":{inBaseUnits:m(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:m(1e3)},"square-inches":{inBaseUnits:m(.0254)},"square-feet":{inBaseUnits:m(.3048)},"square-yards":{inBaseUnits:m(.9144)},"square-miles":{inBaseUnits:m(1609.344)},"square-us-feet":{inBaseUnits:m(1200/3937)},acres:{inBaseUnits:.0015625*m(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*h(.001)},"cubic-centimeters":{inBaseUnits:1e3*h(.01)},"cubic-decimeters":{inBaseUnits:1e3*h(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*h(1e3)},"cubic-inches":{inBaseUnits:1e3*h(.0254)},"cubic-feet":{inBaseUnits:1e3*h(.3048)},"cubic-yards":{inBaseUnits:1e3*h(.9144)},"cubic-miles":{inBaseUnits:1e3*h(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},y=function(){const e={};for(const t in g)for(const n in g[t].units)e[n]=t;return e}();function b(e){const t=y[e];if(t)return t;throw new Error("unknown measure")}function F(e,t=null){return t=t||b(e),g[t].baseUnit===e}function M(e,t,n){if(t===n)return e;const r=b(t);if(r!==b(n))throw new Error("incompatible units");const i=F(t,r)?e:function(e,t,n){return e*g[n].units[t].inBaseUnits}(e,t,r);return F(n,r)?i:function(e,t,n){return e/g[n].units[t].inBaseUnits}(i,n,r)}function x(e,t,n){return M(e,t,"meters")/(n*Math.PI/180)}function S(e){return p.fromJSON(e.toLowerCase())||null}function _(e){if(e&&"object"==typeof e&&!(0,s.b)(e))return 1;const t=N(e);return t>1e5?1:t}function I(e){return N(e)>=(e instanceof s.Z?(0,i.g)(e).metersPerDegree:1e5)?"meters":w(e)}function N(e,t=a.e.metersPerDegree){return T(e,!0)||t}function T(e,t=!1){let n,r,i=null;if(null!=e&&("object"==typeof e?(n=e.wkid,r=e.wkt):"number"==typeof e?n=e:"string"==typeof e&&(r=e)),n){if((0,s.c)(n))return a.m.metersPerDegree;if((0,s.d)(n))return a.a.metersPerDegree;i=c.values[c[n]],!i&&t&&d.has(n)&&(i=l)}else if(r)if(-1!==r.search(/^PROJCS/i)){const e=u.exec(r);e&&e[1]&&(i=parseFloat(e[1].split(",")[1]))}else if(-1!==r.search(/^GEOCCS/i)){const e=f.exec(r);e&&e[1]&&(i=parseFloat(e[1].split(",")[1]))}return i}function w(e){let t,n,r=null;if(null!=e&&("object"==typeof e?(t=e.wkid,n=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(n=e)),t)r=c.units[c[t]];else if(n&&-1!==n.search(/^PROJCS/i)){let e=u.exec(n);e&&e[1]&&(e=/[\\"\\']{1}([^\\"\\']+)/.exec(e[1]),r=e&&e[1])}return r?S(r):null}const E={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},v={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},U=(0,r.s)()(E),O=(0,r.s)()(v);(0,r.s)()({...E,...v})},14249:(e,t,n)=>{n.d(t,{io:()=>g,AB:()=>h,gd:()=>m,Q0:()=>p,YN:()=>u,UF:()=>f,O5:()=>y,os:()=>F,H7:()=>v,qN:()=>U,Pz:()=>D,Qc:()=>A,vP:()=>P}),n(60991),n(76506);var r,i,s=n(71552),a=n(60217);n(92143),n(31450),n(40642),n(81172),n(74569),n(91306),n(21801),n(34250),n(86656),n(22723),n(17533),n(73796),n(74673),n(21972),n(23639),n(91055),n(27794),n(6906),n(50406),n(97714),n(60947),n(2906),n(91597),n(86787),n(35132),n(89623),n(84069),n(44567),n(98380),n(92896),n(22781),n(57251),n(32422),(i=r||(r={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",i.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";const o=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],l=["field","normalizationField"];function u(e,t){if(null!=e&&null!=t)for(const n of Array.isArray(e)?e:[e])if(c(o,n,t),"visualVariables"in n&&n.visualVariables)for(const e of n.visualVariables)c(l,e,t)}function c(e,t,n){if(e)for(const r of e){const e=(0,s.g)(r,t),i=e&&"function"!=typeof e&&n.get(e);i&&(0,s.s)(r,i.name,t)}}function f(e,t){if(null!=e&&null!=t&&t.fields.length)if("startField"in e){const n=t.get(e.startField),r=t.get(e.endField);e.startField=n&&n.name||null,e.endField=r&&r.name||null}else{const n=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=n&&n.name||null,e.endTimeField=r&&r.name||null}}const d=new Set;function p(e,t){return e&&t?(d.clear(),m(d,e,t),Array.from(d).sort()):[]}function m(e,t,n){var r;if(n)if(null!=t&&null!=(r=t.fields)&&r.length)if(n.includes("*"))for(const{name:n}of t.fields)e.add(n);else for(const r of n)h(e,t,r);else{if(n.includes("*"))return e.clear(),void e.add("*");for(const t of n)e.add(t)}}function h(e,t,n){if("string"==typeof n)if(t){const r=t.get(n);r&&e.add(r.name)}else e.add(n)}async function g(e,t,n){var r;if(!n)return;const{arcadeUtils:i}=await(0,a.l)(),s=i.extractFieldNames(n,null==t||null==(r=t.fields)?void 0:r.map((e=>e.name)));for(const n of s)h(e,t,n)}function y({displayField:e,fields:t}){return e||(t&&t.length?b(t,"name-or-title")||b(t,"unique-identifier")||b(t,"type-or-category")||function(e){for(const t of e){if(!t||!t.name)continue;const e=t.name.toLowerCase();if(e.indexOf("name")>-1||e.indexOf("title")>-1)return t.name}return null}(t):null)}function b(e,t){for(const n of e)if(n&&n.valueType&&n.valueType===t)return n.name;return null}function F(e){const t=e.defaultValue;return void 0!==t&&w(e,t)?t:e.nullable?null:void 0}function M(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function x(e){return null===e||M(e)}const S="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function _(e){return null===e||S(e)}function I(e){return null!=e&&"string"==typeof e}function N(e){return null===e||I(e)}function T(){return!0}function w(e,t){let n;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":n=e.nullable?_:S;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=e.nullable?x:M;break;case"string":case"esriFieldTypeString":n=e.nullable?N:I;break;default:n=T}return 1===arguments.length?n:n(t)}const E=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function v(e){return null!=e&&E.has(e.type)}function U(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}var O,q;function D(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function A(e,t){return e.nullable&&null===t?null:v(e)&&!function(e,t){const n="string"==typeof e?R(e):e;return!!n&&(n.isInteger?S(t)&&t>=n.min&&t<=n.max:t>=n.min&&t<=n.max)}(e.type,Number(t))?O.OUT_OF_RANGE:w(e,t)?e.domain?function(e,t){switch(e.type){case"range":{const n="range"in e?e.range[0]:e.minValue,i="range"in e?e.range[1]:e.maxValue;if(+t<n||+t>i)return r.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((e=>null==e||e.code!==t)))return r.INVALID_CODED_VALUE}return null}(e.domain,t):null:q.INVALID_TYPE}function R(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return k;case"esriFieldTypeInteger":case"integer":return B;case"esriFieldTypeSingle":case"single":return G;case"esriFieldTypeDouble":case"double":return L}}!function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"}(O||(O={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(q||(q={}));const k={min:-32768,max:32767,isInteger:!0},B={min:-2147483648,max:2147483647,isInteger:!0},G={min:-34e37,max:12e37,isInteger:!1},L={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function P(e,t,n){switch(e){case r.INVALID_CODED_VALUE:return`Value ${n} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case r.VALUE_OUT_OF_RANGE:return`Value ${n} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case q.INVALID_TYPE:return`Value ${n} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case O.OUT_OF_RANGE:{const{min:e,max:r}=R(t.type);return`Value ${n} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${r}`}}}}}]);