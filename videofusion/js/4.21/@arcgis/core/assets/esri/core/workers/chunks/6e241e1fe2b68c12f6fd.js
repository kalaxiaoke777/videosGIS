"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[8936],{40167:(t,e,r)=>{r.d(e,{A:()=>U,B:()=>T,C:()=>q,D:()=>V,E:()=>k,F:()=>z,G:()=>D,H:()=>W,I:()=>j,J:()=>G,a:()=>d,b:()=>L,c:()=>g,d:()=>p,e:()=>h,f:()=>M,g:()=>y,h:()=>A,i:()=>m,j:()=>F,k:()=>O,l:()=>_,m:()=>S,n:()=>v,o:()=>N,p:()=>x,q:()=>Y,r:()=>w,s:()=>P,t:()=>E,u:()=>b,v:()=>l,w:()=>B,x:()=>R,y:()=>I,z:()=>C});var n=r(47880),s=r(82426);class i{constructor(t,e,r=0,n,s){this.TypedArrayConstructor=t,this.elementCount=9;const i=this.TypedArrayConstructor;void 0===n&&(n=9*i.BYTES_PER_ELEMENT);const f=0===e.byteLength?0:r;this.typedBuffer=null==s?new i(e,f):new i(e,f,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<9;t++)e[t]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<9;t++)this.typedBuffer[r++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){const n=this.typedBuffer,s=e.typedBuffer;let i=t*this.typedBufferStride,f=r*e.typedBufferStride;for(let t=0;t<9;++t)n[i++]=s[f++]}get buffer(){return this.typedBuffer.buffer}}i.ElementCount=9;class f{constructor(t,e,r=0,n,s){this.TypedArrayConstructor=t,this.elementCount=16;const i=this.TypedArrayConstructor;void 0===n&&(n=16*i.BYTES_PER_ELEMENT);const f=0===e.byteLength?0:r;this.typedBuffer=null==s?new i(e,f):new i(e,f,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<16;t++)e[t]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<16;t++)this.typedBuffer[r++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){const n=this.typedBuffer,s=e.typedBuffer;let i=t*this.typedBufferStride,f=r*e.typedBufferStride;for(let t=0;t<16;++t)n[i++]=s[f++]}get buffer(){return this.typedBuffer.buffer}}f.ElementCount=16;class u{constructor(t,e,r=0,n,s){this.TypedArrayConstructor=t,this.elementCount=1;const i=this.TypedArrayConstructor;void 0===n&&(n=i.BYTES_PER_ELEMENT);const f=0===e.byteLength?0:r;this.typedBuffer=null==s?new i(e,f):new i(e,f,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}get(t){return this.typedBuffer[t*this.typedBufferStride]}set(t,e){this.typedBuffer[t*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}}u.ElementCount=1;class o{constructor(t,e,r=0,n,s){this.TypedArrayConstructor=t,this.elementCount=2;const i=this.TypedArrayConstructor;void 0===n&&(n=2*i.BYTES_PER_ELEMENT);const f=0===e.byteLength?0:r;this.typedBuffer=null==s?new i(e,f):new i(e,f,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,n.s)(e,this.typedBuffer[t],this.typedBuffer[t+1])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t]=e[1]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t]=r}copyFrom(t,e,r){const n=this.typedBuffer,s=e.typedBuffer;let i=t*this.typedBufferStride,f=r*e.typedBufferStride;n[i++]=s[f++],n[i]=s[f]}get buffer(){return this.typedBuffer.buffer}}o.ElementCount=2;class c{constructor(t,e,r=0,n,s){this.TypedArrayConstructor=t,this.elementCount=3;const i=this.TypedArrayConstructor;void 0===n&&(n=3*i.BYTES_PER_ELEMENT);const f=0===e.byteLength?0:r;this.typedBuffer=null==s?new i(e,f):new i(e,f,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,s.e)(e,this.typedBuffer[t],this.typedBuffer[t+1],this.typedBuffer[t+2])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t]=e[2]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,n){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t]=n}copyFrom(t,e,r){const n=this.typedBuffer,s=e.typedBuffer;let i=t*this.typedBufferStride,f=r*e.typedBufferStride;n[i++]=s[f++],n[i++]=s[f++],n[i]=s[f]}get buffer(){return this.typedBuffer.buffer}}c.ElementCount=3;class a{constructor(t,e,r=0,n,s){this.TypedArrayConstructor=t,this.elementCount=4;const i=this.TypedArrayConstructor;void 0===n&&(n=4*i.BYTES_PER_ELEMENT);const f=0===e.byteLength?0:r;this.typedBuffer=null==s?new i(e,f):new i(e,f,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,s.J)(e,this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t++]=e[2],this.typedBuffer[t]=e[3]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,n,s){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t++]=n,this.typedBuffer[t]=s}copyFrom(t,e,r){const n=this.typedBuffer,s=e.typedBuffer;let i=t*this.typedBufferStride,f=r*e.typedBufferStride;n[i++]=s[f++],n[i++]=s[f++],n[i++]=s[f++],n[i]=s[f]}get buffer(){return this.typedBuffer.buffer}}a.ElementCount=4;class l extends u{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}static fromTypedArray(t,e){return new l(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}l.ElementType="f32";class h extends o{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(h,t,e)}static fromTypedArray(t,e){return new h(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}h.ElementType="f32";class d extends c{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(d,t,e)}static fromTypedArray(t,e){return new d(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}d.ElementType="f32";class y extends a{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(y,t,e)}static fromTypedArray(t,e){return new y(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}y.ElementType="f32";class p extends i{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(p,t,e)}static fromTypedArray(t,e){return new p(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}p.ElementType="f32";class m extends i{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(m,t,e)}static fromTypedArray(t,e){return new m(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}m.ElementType="f64";class b extends f{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(b,t,e)}static fromTypedArray(t,e){return new b(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}b.ElementType="f32";class g extends f{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(g,t,e)}static fromTypedArray(t,e){return new g(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}g.ElementType="f64";class B extends u{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(B,t,e)}static fromTypedArray(t,e){return new B(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}B.ElementType="f64";class E extends o{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(E,t,e)}static fromTypedArray(t,e){return new E(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}E.ElementType="f64";class T extends c{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(T,t,e)}static fromTypedArray(t,e){return new T(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}T.ElementType="f64";class M extends a{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(M,t,e)}static fromTypedArray(t,e){return new M(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}M.ElementType="f64";class A extends u{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(A,t,e)}static fromTypedArray(t,e){return new A(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}A.ElementType="u8";class w extends o{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(w,t,e)}static fromTypedArray(t,e){return new w(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}w.ElementType="u8";class S extends c{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(S,t,e)}static fromTypedArray(t,e){return new S(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}S.ElementType="u8";class L extends a{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(L,t,e)}static fromTypedArray(t,e){return new L(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}L.ElementType="u8";class O extends u{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(O,t,e)}static fromTypedArray(t,e){return new O(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}O.ElementType="u16";class x extends o{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(x,t,e)}static fromTypedArray(t,e){return new x(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}x.ElementType="u16";class v extends c{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(v,t,e)}static fromTypedArray(t,e){return new v(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}v.ElementType="u16";class _ extends a{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(_,t,e)}static fromTypedArray(t,e){return new _(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}_.ElementType="u16";class F extends u{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(F,t,e)}static fromTypedArray(t,e){return new F(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}F.ElementType="u32";class N extends o{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(N,t,e)}static fromTypedArray(t,e){return new N(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}N.ElementType="u32";class I extends c{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(I,t,e)}static fromTypedArray(t,e){return new I(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}I.ElementType="u32";class C extends a{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(C,t,e)}static fromTypedArray(t,e){return new C(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}C.ElementType="u32";class R extends u{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(R,t,e)}static fromTypedArray(t,e){return new R(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}R.ElementType="i8";class P extends o{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(P,t,e)}static fromTypedArray(t,e){return new P(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}P.ElementType="i8";class U extends c{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(U,t,e)}static fromTypedArray(t,e){return new U(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}U.ElementType="i8";class q extends a{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(q,t,e)}static fromTypedArray(t,e){return new q(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}q.ElementType="i8";class V extends u{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(V,t,e)}static fromTypedArray(t,e){return new V(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}V.ElementType="i16";class Y extends o{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(Y,t,e)}static fromTypedArray(t,e){return new Y(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}Y.ElementType="i16";class k extends c{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(k,t,e)}static fromTypedArray(t,e){return new k(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}k.ElementType="i16";class z extends a{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(z,t,e)}static fromTypedArray(t,e){return new z(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}z.ElementType="i16";class D extends u{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(D,t,e)}static fromTypedArray(t,e){return new D(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}D.ElementType="i32";class W extends o{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(W,t,e)}static fromTypedArray(t,e){return new W(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}W.ElementType="i32";class j extends c{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(j,t,e)}static fromTypedArray(t,e){return new j(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}j.ElementType="i32";class G extends a{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(G,t,e)}static fromTypedArray(t,e){return new G(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}G.ElementType="i32"},8936:(t,e,r)=>{r.r(e),r.d(e,{E:()=>b,R:()=>S,S:()=>L,V:()=>h,a:()=>l,b:()=>G,g:()=>d,u:()=>_,w:()=>D});var n=r(8358),s=r(40167),i=r(15215);function f(t,e=0){const r=t.stride;return t.fieldNames.filter((e=>{const r=t.fields.get(e).optional;return!(r&&r.glPadding)})).map((n=>{const s=t.fields.get(n),i=s.constructor.ElementCount,f=function(t){const e=u[t];if(e)return e;throw new Error("BufferType not supported in WebGL")}(s.constructor.ElementType),o=s.offset,c=!(!s.optional||!s.optional.glNormalized);return{name:n,stride:r,count:i,type:f,offset:o,normalized:c,divisor:e}}))}const u={u8:5121,u16:5123,u32:5125,i8:5120,i16:5122,i32:5124,f32:5126};var o=r(27794),c=r(82426),a=r(76506);const l=(0,i.n)().vec3f("position").u16("componentIndex").u16("u16padding"),h=(0,i.n)().vec2u8("sideness"),d=f(h),y=(0,i.n)().vec3f("position0").vec3f("position1").u16("componentIndex").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).u8("u8padding",{glPadding:!0}).u16("u16padding",{glPadding:!0}),p=y.clone().vec3f("normal"),m=y.clone().vec3f("normalA").vec3f("normalB"),b=new Map([["position0",0],["position1",1],["componentIndex",2],["variantOffset",3],["variantStroke",4],["variantExtension",5],["normal",6],["normalA",6],["normalB",7],["sideness",8]]);class g{updateSettings(t){this.settings=t,this.edgeHashFunction=t.reducedPrecision?A:M}write(t,e,r){const n=this.edgeHashFunction(r);x.seed=n;const s=x.getIntRange(0,255),i=x.getIntRange(0,this.settings.variants-1),f=x.getFloat(),u=255*(.5*function(t,e){const r=t<0?-1:1;return Math.abs(t)**1.2*r}(-(1-Math.min(f/.7,1))+Math.max(0,f-.7)/(1-.7))+.5);t.position0.setVec(e,r.position0),t.position1.setVec(e,r.position1),t.componentIndex.set(e,r.componentIndex),t.variantOffset.set(e,s),t.variantStroke.set(e,i),t.variantExtension.set(e,u)}trim(t,e){return t.slice(0,e)}}const B=new Float32Array(6),E=new Uint32Array(B.buffer),T=new Uint32Array(1);function M(t){const e=B;e[0]=t.position0[0],e[1]=t.position0[1],e[2]=t.position0[2],e[3]=t.position1[0],e[4]=t.position1[1],e[5]=t.position1[2],T[0]=5381;for(let t=0;t<E.length;t++)T[0]=31*T[0]+E[t];return T[0]}function A(t){const e=B;e[0]=w(t.position0[0]),e[1]=w(t.position0[1]),e[2]=w(t.position0[2]),e[3]=w(t.position1[0]),e[4]=w(t.position1[1]),e[5]=w(t.position1[2]),T[0]=5381;for(let t=0;t<E.length;t++)T[0]=31*T[0]+E[t];return T[0]}function w(t){return Math.round(1e4*t)/1e4}class S{constructor(){this.commonWriter=new g}updateSettings(t){this.commonWriter.updateSettings(t)}allocate(t){return p.createBuffer(t)}write(t,e,r){this.commonWriter.write(t,e,r),(0,c.g)(O,r.faceNormal0,r.faceNormal1),(0,c.n)(O,O),t.normal.setVec(e,O)}trim(t,e){return this.commonWriter.trim(t,e)}}S.Layout=p,S.glLayout=f(p,1);class L{constructor(){this.commonWriter=new g}updateSettings(t){this.commonWriter.updateSettings(t)}allocate(t){return m.createBuffer(t)}write(t,e,r){this.commonWriter.write(t,e,r),t.normalA.setVec(e,r.faceNormal0),t.normalB.setVec(e,r.faceNormal1)}trim(t,e){return this.commonWriter.trim(t,e)}}L.Layout=m,L.glLayout=f(m,1);const O=(0,c.b)(),x=new o.R;function v(t,e){return e.push(t.buffer),{buffer:t.buffer,layout:F(t.layout)}}function _(t){const e=function(t){const e=(0,i.n)();return e.stride=t.stride,e.fieldNames=t.fieldNames,t.fields.forEach((t=>e.fields.set(t[0],{...t[1],constructor:C(t[1].constructor)}))),e}(t.layout);return e.createView(t.buffer)}function F(t){const e=new Array;return t.fields.forEach(((t,r)=>{const n={...t,constructor:I(t.constructor)};e.push([r,n])})),{stride:t.stride,fields:e,fieldNames:t.fieldNames}}const N=[s.v,s.e,s.a,s.g,s.d,s.u,s.w,s.t,s.B,s.f,s.i,s.c,s.h,s.r,s.m,s.b,s.k,s.p,s.n,s.l,s.j,s.o,s.y,s.z,s.x,s.s,s.A,s.C,s.D,s.q,s.E,s.F,s.G,s.H,s.I,s.J];function I(t){return`${t.ElementType}_${t.ElementCount}`}function C(t){return R.get(t)}const R=new Map;function P(t,e,r){const n=e/3,s=new Uint32Array(r+1),i=new Uint32Array(r+1),f=(t,e)=>{t<e?s[t+1]++:i[e+1]++};for(let e=0;e<n;e++){const r=t[3*e],n=t[3*e+1],s=t[3*e+2];f(r,n),f(n,s),f(s,r)}let u=0,o=0;for(let t=0;t<r;t++){const e=s[t+1],r=i[t+1];s[t+1]=u,i[t+1]=o,u+=e,o+=r}const c=new Uint32Array(6*n),a=s[r],l=(t,e,r)=>{if(t<e){const n=s[t+1]++;c[2*n]=e,c[2*n+1]=r}else{const n=i[e+1]++;c[2*a+2*n]=t,c[2*a+2*n+1]=r}};for(let e=0;e<n;e++){const r=t[3*e],n=t[3*e+1],s=t[3*e+2];l(r,n,e),l(n,s,e),l(s,r,e)}const h=(t,e)=>{const r=2*t,n=e-t;for(let t=1;t<n;t++){const e=c[r+2*t],n=c[r+2*t+1];let s=t-1;for(;s>=0&&c[r+2*s]>e;s--)c[r+2*s+2]=c[r+2*s],c[r+2*s+3]=c[r+2*s+1];c[r+2*s+2]=e,c[r+2*s+3]=n}};for(let t=0;t<r;t++)h(s[t],s[t+1]),h(a+i[t],a+i[t+1]);const d=new Int32Array(3*n),y=(e,r)=>e===t[3*r]?0:e===t[3*r+1]?1:e===t[3*r+2]?2:-1,p=(t,e)=>{const r=y(t,e);d[3*e+r]=-1},m=(t,e,r,n)=>{const s=y(t,e);d[3*e+s]=n;const i=y(r,n);d[3*n+i]=e};for(let t=0;t<r;t++){let e=s[t];const r=s[t+1];let n=i[t];const f=i[t+1];for(;e<r&&n<f;){const r=c[2*e],s=c[2*a+2*n];r===s?(m(t,c[2*e+1],s,c[2*a+2*n+1]),e++,n++):r<s?(p(t,c[2*e+1]),e++):(p(s,c[2*a+2*n+1]),n++)}for(;e<r;)p(t,c[2*e+1]),e++;for(;n<f;)p(c[2*a+2*n],c[2*a+2*n+1]),n++}return d}function U(t,e){return t.cosAngle<e}function q(t,e){return t.cosAngle>e}function V(t,e){const r=(0,c.i)(t.cosAngle),n=Y.fwd,s=Y.ortho;return(0,c.F)(n,t.position1,t.position0),r*((0,c.d)((0,c.a)(s,t.faceNormal0,t.faceNormal1),n)>0?-1:1)>e}N.forEach((t=>R.set(I(t),t)));const Y={edge:{position0:(0,c.b)(),position1:(0,c.b)(),faceNormal0:(0,c.b)(),faceNormal1:(0,c.b)(),componentIndex:0,cosAngle:0},ortho:(0,c.b)(),fwd:(0,c.b)()},k={v0:(0,c.b)(),v1:(0,c.b)(),v2:(0,c.b)()},z={anglePlanar:4,angleSignificantEdge:35};function D(t){const e=function(t,e,r,s){if(e)return{faces:r,facesLength:s,neighbors:P(r,s,t.count),vertices:t};const i=(0,n.d)(t.buffer,t.stride/4,{originalIndices:r,originalIndicesLength:s}),f=P(i.indices,s,i.uniqueCount);return{faces:i.indices,facesLength:i.indices.length,neighbors:f,vertices:l.createView(i.buffer)}}(t.data,t.skipDeduplicate,t.indices,t.indicesLength);return W.updateSettings(t.writerSettings),j.updateSettings(t.writerSettings),function(t,e,r,n=z){const s=t.vertices.position,i=t.vertices.componentIndex,f=(0,c.m)(n.anglePlanar),u=(0,c.m)(n.angleSignificantEdge),l=Math.cos(u),h=Math.cos(f),d=Y.edge,y=d.position0,p=d.position1,m=d.faceNormal0,b=d.faceNormal1,g=function(t){const e=t.faces.length/3,r=t.vertices.position,n=t.faces,s=k.v0,i=k.v1,f=k.v2,u=new Float32Array(3*e);for(let t=0;t<e;t++){const e=n[3*t+0],o=n[3*t+1],a=n[3*t+2];r.getVec(e,s),r.getVec(o,i),r.getVec(a,f),(0,c.s)(i,i,s),(0,c.s)(f,f,s),(0,c.a)(s,i,f),(0,c.n)(s,s),u[3*t+0]=s[0],u[3*t+1]=s[1],u[3*t+2]=s[2]}return u}(t),B=function(t){const e=t.faces.length/3,r=t.faces,n=t.neighbors;let s=0;for(let t=0;t<e;t++){const e=n[3*t+0],i=n[3*t+1],f=n[3*t+2],u=r[3*t+0],o=r[3*t+1],c=r[3*t+2];s+=-1===e||u<o?1:0,s+=-1===i||o<c?1:0,s+=-1===f||c<u?1:0}const i=new Int32Array(4*s);let f=0;for(let t=0;t<e;t++){const e=n[3*t+0],s=n[3*t+1],u=n[3*t+2],o=r[3*t+0],c=r[3*t+1],a=r[3*t+2];(-1===e||o<c)&&(i[f++]=o,i[f++]=c,i[f++]=t,i[f++]=e),(-1===s||c<a)&&(i[f++]=c,i[f++]=a,i[f++]=t,i[f++]=s),(-1===u||a<o)&&(i[f++]=a,i[f++]=o,i[f++]=t,i[f++]=u)}return i}(t),E=B.length/4,T=e.allocate(E);let M=0;const A=E,w=r.allocate(A);let S=0,L=0,O=0;const x=(0,o.j)(0,E),v=new Float32Array(E);(0,a.C)(v,((t,e,r)=>{s.getVec(B[4*e+0],y),s.getVec(B[4*e+1],p),r[e]=(0,c.w)(y,p)})),x.sort(((t,e)=>v[e]-v[t]));const _=new Array,F=new Array;for(let t=0;t<E;t++){const n=x[t],u=v[n],o=B[4*n+0],a=B[4*n+1],E=B[4*n+2],A=B[4*n+3],N=-1===A;if(s.getVec(o,y),s.getVec(a,p),N)(0,c.e)(m,g[3*E+0],g[3*E+1],g[3*E+2]),(0,c.k)(b,m),d.componentIndex=i.get(o),d.cosAngle=(0,c.d)(m,b);else{if((0,c.e)(m,g[3*E+0],g[3*E+1],g[3*E+2]),(0,c.e)(b,g[3*A+0],g[3*A+1],g[3*A+2]),d.componentIndex=i.get(o),d.cosAngle=(0,c.d)(m,b),q(d,h))continue;d.cosAngle<-.9999&&(0,c.k)(b,m)}L+=u,O++,N||U(d,l)?(e.write(T,M++,d),_.push(u)):V(d,f)&&(r.write(w,S++,d),F.push(u))}const N=new Float32Array(_.reverse()),I=new Float32Array(F.reverse());return{regular:{instancesData:e.trim(T,M),lodInfo:{lengths:N}},silhouette:{instancesData:r.trim(w,S),lodInfo:{lengths:I}},averageEdgeLength:L/O}}(e,W,j)}const W=new S,j=new L;var G=Object.freeze({__proto__:null,wrappedWork:async function(t){const e=function(t){return{data:l.createView(t.dataBuffer),indices:"Uint32Array"===t.indicesType?new Uint32Array(t.indicesBuffer):"Uint16Array"===t.indicesType?new Uint16Array(t.indicesBuffer):void 0,indicesLength:t.indicesLength,writerSettings:t.writerSettings,skipDeduplicate:t.skipDeduplicate}}(t),r=D(e),n=[e.data.buffer],s=function(t,e){return e.push(t.regular.lodInfo.lengths.buffer),e.push(t.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:v(t.regular.instancesData,e),lodInfo:{lengths:t.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:v(t.silhouette.instancesData,e),lodInfo:{lengths:t.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:t.averageEdgeLength}}(r,n);return{result:s,transferList:n}},work:D})},15215:(t,e,r)=>{r.d(e,{n:()=>u});var n=r(40167),s=r(27726);class i{constructor(t,e){this.layout=t,this.buffer="number"==typeof e?new ArrayBuffer(e*t.stride):e;for(const e of t.fieldNames){const r=t.fields.get(e);this[e]=new r.constructor(this.buffer,r.offset,this.stride)}}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(t,e){const r=this[t];return r&&r.elementCount===e.ElementCount&&r.elementType===e.ElementType?r:null}slice(t,e){return new i(this.layout,this.buffer.slice(t*this.stride,e*this.stride))}copyFrom(t,e,r,n){const s=this.stride;if(s%4==0){const i=new Uint32Array(t.buffer,e*s,n*s/4);new Uint32Array(this.buffer,r*s,n*s/4).set(i)}else{const i=new Uint8Array(t.buffer,e*s,n*s);new Uint8Array(this.buffer,r*s,n*s).set(i)}}}class f{constructor(){this.stride=0,this.fields=new Map,this.fieldNames=[]}vec2f(t,e){return this.appendField(t,n.e,e),this}vec2f64(t,e){return this.appendField(t,n.t,e),this}vec3f(t,e){return this.appendField(t,n.a,e),this}vec3f64(t,e){return this.appendField(t,n.B,e),this}vec4f(t,e){return this.appendField(t,n.g,e),this}vec4f64(t,e){return this.appendField(t,n.f,e),this}mat3f(t,e){return this.appendField(t,n.d,e),this}mat3f64(t,e){return this.appendField(t,n.i,e),this}mat4f(t,e){return this.appendField(t,n.u,e),this}mat4f64(t,e){return this.appendField(t,n.c,e),this}vec4u8(t,e){return this.appendField(t,n.b,e),this}f32(t,e){return this.appendField(t,n.v,e),this}f64(t,e){return this.appendField(t,n.w,e),this}u8(t,e){return this.appendField(t,n.h,e),this}u16(t,e){return this.appendField(t,n.k,e),this}i8(t,e){return this.appendField(t,n.x,e),this}vec2i8(t,e){return this.appendField(t,n.s,e),this}vec2i16(t,e){return this.appendField(t,n.q,e),this}vec2u8(t,e){return this.appendField(t,n.r,e),this}vec4u16(t,e){return this.appendField(t,n.l,e),this}u32(t,e){return this.appendField(t,n.j,e),this}appendField(t,e,r){const n=e.ElementCount*(0,s.e)(e.ElementType),i=this.stride;this.fields.set(t,{size:n,constructor:e,offset:i,optional:r}),this.stride+=n,this.fieldNames.push(t)}alignTo(t){return this.stride=Math.floor((this.stride+t-1)/t)*t,this}hasField(t){return this.fieldNames.indexOf(t)>=0}createBuffer(t){return new i(this,t)}createView(t){return new i(this,t)}clone(){const t=new f;return t.stride=this.stride,t.fields=new Map,this.fields.forEach(((e,r)=>t.fields.set(r,e))),t.fieldNames=this.fieldNames.slice(),t.BufferType=this.BufferType,t}}function u(){return new f}},27794:(t,e,r)=>{r.d(e,{P:()=>c,R:()=>s,a:()=>y,b:()=>p,c:()=>u,e:()=>i,i:()=>l,j:()=>o,r:()=>h});var n=r(76506);class s{constructor(t=1){this._seed=t}set seed(t){this._seed=null==t?Math.random()*s._m:t}getInt(){return this._seed=(s._a*this._seed+s._c)%s._m,this._seed}getFloat(){return this.getInt()/(s._m-1)}getIntRange(t,e){return Math.round(this.getFloatRange(t,e))}getFloatRange(t,e){const r=e-t;return t+this.getInt()/s._m*r}}function i(t,e,r){if((0,n.b)(t)&&(0,n.b)(e))return!0;if((0,n.b)(t)||(0,n.b)(e)||t.length!==e.length)return!1;if(r){for(let n=0;n<t.length;n++)if(!r(t[n],e[n]))return!1}else for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}s._m=2147483647,s._a=48271,s._c=0;const f=!!Array.prototype.fill;function u(t,e){if(f)return new Array(t).fill(e);const r=new Array(t);for(let n=0;n<t;n++)r[n]=e;return r}function o(t,e){void 0===e&&(e=t,t=0);const r=new Array(e-t);for(let n=t;n<e;n++)r[n-t]=n;return r}class c{constructor(){this.last=0}}const a=new c;function l(t,e,r,n){n=n||a;const s=Math.max(0,n.last-10);for(let i=s;i<r;++i)if(t[i]===e)return n.last=i,i;const i=Math.min(s,r);for(let r=0;r<i;++r)if(t[r]===e)return n.last=r,r;return-1}function h(t,e,r,n){const s=null==r?t.length:r,i=l(t,e,s,n);if(-1!==i)return t[i]=t[s-1],null==r&&t.pop(),e}const d=new Set;function y(t,e,r=t.length,n=e.length,s,i){if(0===n||0===r)return r;d.clear();for(let t=0;t<n;++t)d.add(e[t]);s=s||a;const f=Math.max(0,s.last-10);for(let e=f;e<r;++e)if(d.has(t[e])&&(i&&i.push(t[e]),d.delete(t[e]),t[e]=t[r-1],--r,--e,0===d.size||0===r))return d.clear(),r;for(let e=0;e<f;++e)if(d.has(t[e])&&(i&&i.push(t[e]),d.delete(t[e]),t[e]=t[r-1],--r,--e,0===d.size||0===r))return d.clear(),r;return d.clear(),r}function p(t,e){const r=t.indexOf(e);return-1!==r?(t.splice(r,1),e):null}new s},29794:(t,e,r)=>{r.d(e,{E:()=>n,R:()=>s});const n=1e-6,s=Math.random;Math.PI,Math.PI},8358:(t,e,r)=>{r.d(e,{d:()=>s});var n=r(82426);function s(t,e,r){var s;const c=t.byteLength/(4*e),a=new Uint32Array(t,0,c*e);let l=new Uint32Array(c);const h=null!=(s=null==r?void 0:r.minReduction)?s:0,d=(null==r?void 0:r.originalIndices)||null,y=d?d.length:0,p=(null==r?void 0:r.componentOffsets)||null;let m=0;if(p)for(let t=0;t<p.length-1;t++){const e=p[t+1]-p[t];e>m&&(m=e)}else m=c;const b=Math.floor(1.1*m)+1;(null==o||o.length<2*b)&&(o=new Uint32Array((0,n.K)(2*b)));for(let t=0;t<2*b;t++)o[t]=0;let g=0;const B=!!p&&!!d,E=B?y:c,T=B?new Uint32Array(y):null,M=1.96;let A=0!==h?Math.ceil(4*M*M/(h*h)*h*(1-h)):E,w=1,S=p?p[1]:E;for(let t=0;t<E;t++){if(t===A){const e=1-g/t;if(e+M*Math.sqrt(e*(1-e)/t)<h)return null;A*=2}if(t===S){for(let t=0;t<2*b;t++)o[t]=0;if(d)for(let t=p[w-1];t<p[w];t++)T[t]=l[d[t]];S=p[++w]}const r=B?d[t]:t,n=r*e,s=u(a,n,e);let f=s%b,c=g;for(;0!==o[2*f+1];){if(o[2*f]===s){const t=o[2*f+1]-1;if(i(a,n,t*e,e)){c=l[t];break}}f++,f>=b&&(f-=b)}c===g&&(o[2*f]=s,o[2*f+1]=r+1,g++),l[r]=c}if(0!==h&&1-g/c<h)return null;if(B){for(let t=p[w-1];t<T.length;t++)T[t]=l[d[t]];l=T}const L=new Uint32Array(e*g);g=0;for(let t=0;t<E;t++)l[t]===g&&(f(a,(B?d[t]:t)*e,L,g*e,e),g++);if(d&&!B){const t=new Uint32Array(y);for(let e=0;e<t.length;e++)t[e]=l[d[e]];l=t}return{buffer:L.buffer,indices:l,uniqueCount:g}}function i(t,e,r,n){for(let s=0;s<n;s++)if(t[e+s]!==t[r+s])return!1;return!0}function f(t,e,r,n,s){for(let i=0;i<s;i++)r[n+i]=t[e+i]}function u(t,e,r){let n=0;for(let s=0;s<r;s++)n=t[e+s]+n|0,n=n+(n<<11)+(n>>>2)|0;return n>>>0}let o=null},82426:(t,e,r)=>{r.d(e,{A:()=>F,B:()=>Y,C:()=>T,D:()=>mt,E:()=>x,F:()=>N,G:()=>K,J:()=>k,K:()=>it,L:()=>yt,M:()=>ot,N:()=>st,O:()=>a,U:()=>ct,W:()=>u,Z:()=>c,a:()=>w,a9:()=>b,ac:()=>ut,b:()=>s,c:()=>ft,d:()=>A,e:()=>d,f:()=>g,g:()=>y,h:()=>S,i:()=>ht,j:()=>f,k:()=>h,l:()=>l,m:()=>at,n:()=>M,o:()=>dt,p:()=>E,r:()=>lt,s:()=>p,t:()=>L,u:()=>i,w:()=>B,x:()=>O,z:()=>o});var n=r(29794);function s(){return[0,0,0]}function i(t){return[t[0],t[1],t[2]]}function f(t,e,r){return[t,e,r]}function u(t){const e=[0,0,0],r=Math.min(3,t.length);for(let n=0;n<r;++n)e[n]=t[n];return e}function o(t,e){return new Float64Array(t,e,3)}const c=[0,0,0],a=f(1,1,1);function l(t){const e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function d(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function y(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function p(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function m(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function b(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function g(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function B(t,e){const r=e[0]-t[0],n=e[1]-t[1],s=e[2]-t[2];return Math.sqrt(r*r+n*n+s*s)}function E(t,e){const r=e[0]-t[0],n=e[1]-t[1],s=e[2]-t[2];return r*r+n*n+s*s}function T(t){const e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function M(t,e){const r=e[0],n=e[1],s=e[2];let i=r*r+n*n+s*s;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}function A(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function w(t,e,r){const n=e[0],s=e[1],i=e[2],f=r[0],u=r[1],o=r[2];return t[0]=s*o-i*u,t[1]=i*f-n*o,t[2]=n*u-s*f,t}function S(t,e,r,n){const s=e[0],i=e[1],f=e[2];return t[0]=s+n*(r[0]-s),t[1]=i+n*(r[1]-i),t[2]=f+n*(r[2]-f),t}function L(t,e,r){const n=e[0],s=e[1],i=e[2];return t[0]=r[0]*n+r[4]*s+r[8]*i+r[12],t[1]=r[1]*n+r[5]*s+r[9]*i+r[13],t[2]=r[2]*n+r[6]*s+r[10]*i+r[14],t}function O(t,e,r){const n=e[0],s=e[1],i=e[2];return t[0]=n*r[0]+s*r[3]+i*r[6],t[1]=n*r[1]+s*r[4]+i*r[7],t[2]=n*r[2]+s*r[5]+i*r[8],t}function x(t,e,r){const n=r[0],s=r[1],i=r[2],f=r[3],u=e[0],o=e[1],c=e[2];let a=s*c-i*o,l=i*u-n*c,h=n*o-s*u,d=s*h-i*l,y=i*a-n*h,p=n*l-s*a;const m=2*f;return a*=m,l*=m,h*=m,d*=2,y*=2,p*=2,t[0]=u+a+d,t[1]=o+l+y,t[2]=c+h+p,t}const v=[0,0,0],_=[0,0,0];function F(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function N(t,e,r){const n=r[0]-e[0],s=r[1]-e[1],i=r[2]-e[2];let f=n*n+s*s+i*i;return f>0?(f=1/Math.sqrt(f),t[0]=n*f,t[1]=s*f,t[2]=i*f,t):(t[0]=0,t[1]=0,t[2]=0,t)}const I=p,C=m,R=b,P=B,U=E,q=l,V=T;function Y(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function k(t,e,r,n,s){return t[0]=e,t[1]=r,t[2]=n,t[3]=s,t}function z(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function D(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function W(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function j(t,e){const r=e[0]-t[0],n=e[1]-t[1],s=e[2]-t[2],i=e[3]-t[3];return Math.sqrt(r*r+n*n+s*s+i*i)}function G(t,e){const r=e[0]-t[0],n=e[1]-t[1],s=e[2]-t[2],i=e[3]-t[3];return r*r+n*n+s*s+i*i}function H(t){const e=t[0],r=t[1],n=t[2],s=t[3];return Math.sqrt(e*e+r*r+n*n+s*s)}function J(t){const e=t[0],r=t[1],n=t[2],s=t[3];return e*e+r*r+n*n+s*s}function K(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}Object.freeze({__proto__:null,length:l,copy:h,set:d,add:y,subtract:p,multiply:m,divide:b,ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},min:function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},max:function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},scale:g,scaleAndAdd:function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t},distance:B,squaredDistance:E,squaredLength:T,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},normalize:M,dot:A,cross:w,lerp:S,hermite:function(t,e,r,n,s,i){const f=i*i,u=f*(2*i-3)+1,o=f*(i-2)+i,c=f*(i-1),a=f*(3-2*i);return t[0]=e[0]*u+r[0]*o+n[0]*c+s[0]*a,t[1]=e[1]*u+r[1]*o+n[1]*c+s[1]*a,t[2]=e[2]*u+r[2]*o+n[2]*c+s[2]*a,t},bezier:function(t,e,r,n,s,i){const f=1-i,u=f*f,o=i*i,c=u*f,a=3*i*u,l=3*o*f,h=o*i;return t[0]=e[0]*c+r[0]*a+n[0]*l+s[0]*h,t[1]=e[1]*c+r[1]*a+n[1]*l+s[1]*h,t[2]=e[2]*c+r[2]*a+n[2]*l+s[2]*h,t},random:function(t,e){e=e||1;const r=2*(0,n.R)()*Math.PI,s=2*(0,n.R)()-1,i=Math.sqrt(1-s*s)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=s*e,t},transformMat4:L,transformMat3:O,transformQuat:x,rotateX:function(t,e,r,n){const s=[],i=[];return s[0]=e[0]-r[0],s[1]=e[1]-r[1],s[2]=e[2]-r[2],i[0]=s[0],i[1]=s[1]*Math.cos(n)-s[2]*Math.sin(n),i[2]=s[1]*Math.sin(n)+s[2]*Math.cos(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},rotateY:function(t,e,r,n){const s=[],i=[];return s[0]=e[0]-r[0],s[1]=e[1]-r[1],s[2]=e[2]-r[2],i[0]=s[2]*Math.sin(n)+s[0]*Math.cos(n),i[1]=s[1],i[2]=s[2]*Math.cos(n)-s[0]*Math.sin(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},rotateZ:function(t,e,r,n){const s=[],i=[];return s[0]=e[0]-r[0],s[1]=e[1]-r[1],s[2]=e[2]-r[2],i[0]=s[0]*Math.cos(n)-s[1]*Math.sin(n),i[1]=s[0]*Math.sin(n)+s[1]*Math.cos(n),i[2]=s[2],t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},angle:function(t,e){h(v,t),h(_,e),M(v,v),M(_,_);const r=A(v,_);return r>1?0:r<-1?Math.PI:Math.acos(r)},str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},exactEquals:F,equals:function(t,e){const r=t[0],s=t[1],i=t[2],f=e[0],u=e[1],o=e[2];return Math.abs(r-f)<=n.E*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(s-u)<=n.E*Math.max(1,Math.abs(s),Math.abs(u))&&Math.abs(i-o)<=n.E*Math.max(1,Math.abs(i),Math.abs(o))},direction:N,sub:I,mul:C,div:R,dist:P,sqrDist:U,len:q,sqrLen:V});const Q=z,Z=D,$=W,X=j,tt=G,et=H,rt=J;Object.freeze({__proto__:null,copy:Y,set:k,add:function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},subtract:z,multiply:D,divide:W,ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},min:function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t},max:function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},scale:function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},scaleAndAdd:function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},distance:j,squaredDistance:G,length:H,squaredLength:J,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},normalize:function(t,e){const r=e[0],n=e[1],s=e[2],i=e[3];let f=r*r+n*n+s*s+i*i;return f>0&&(f=1/Math.sqrt(f),t[0]=r*f,t[1]=n*f,t[2]=s*f,t[3]=i*f),t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},lerp:function(t,e,r,n){const s=e[0],i=e[1],f=e[2],u=e[3];return t[0]=s+n*(r[0]-s),t[1]=i+n*(r[1]-i),t[2]=f+n*(r[2]-f),t[3]=u+n*(r[3]-u),t},random:function(t,e){let r,s,i,f,u,o;e=e||1;do{r=2*(0,n.R)()-1,s=2*(0,n.R)()-1,u=r*r+s*s}while(u>=1);do{i=2*(0,n.R)()-1,f=2*(0,n.R)()-1,o=i*i+f*f}while(o>=1);const c=Math.sqrt((1-u)/o);return t[0]=e*r,t[1]=e*s,t[2]=e*i*c,t[3]=e*f*c,t},transformMat4:function(t,e,r){const n=e[0],s=e[1],i=e[2],f=e[3];return t[0]=r[0]*n+r[4]*s+r[8]*i+r[12]*f,t[1]=r[1]*n+r[5]*s+r[9]*i+r[13]*f,t[2]=r[2]*n+r[6]*s+r[10]*i+r[14]*f,t[3]=r[3]*n+r[7]*s+r[11]*i+r[15]*f,t},transformQuat:function(t,e,r){const n=e[0],s=e[1],i=e[2],f=r[0],u=r[1],o=r[2],c=r[3],a=c*n+u*i-o*s,l=c*s+o*n-f*i,h=c*i+f*s-u*n,d=-f*n-u*s-o*i;return t[0]=a*c+d*-f+l*-o-h*-u,t[1]=l*c+d*-u+h*-f-a*-o,t[2]=h*c+d*-o+a*-u-l*-f,t[3]=e[3],t},str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},exactEquals:K,equals:function(t,e){const r=t[0],s=t[1],i=t[2],f=t[3],u=e[0],o=e[1],c=e[2],a=e[3];return Math.abs(r-u)<=n.E*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(s-o)<=n.E*Math.max(1,Math.abs(s),Math.abs(o))&&Math.abs(i-c)<=n.E*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(f-a)<=n.E*Math.max(1,Math.abs(f),Math.abs(a))},sub:Q,mul:Z,div:$,dist:X,sqrDist:tt,len:et,sqrLen:rt});const nt=new Float32Array(1),st=Number.isFinite||function(t){return"number"==typeof t&&window.isFinite(t)};function it(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function ft(t,e,r){return Math.min(Math.max(t,e),r)}function ut(t){return 0==(t&t-1)}Number.isNaN,Math.sign;const ot=Math.log2||function(t){return Math.log(t)/Math.LN2};function ct(t,e,r){return t+(e-t)*r}function at(t){return t*Math.PI/180}function lt(t){return 180*t/Math.PI}function ht(t){return Math.acos(ft(t,-1,1))}function dt(t){return Math.asin(ft(t,-1,1))}function yt(t){return pt(Math.max(-bt,Math.min(t,bt)))}function pt(t){return nt[0]=t,nt[0]}function mt(t,e){const r=l(t);return d(e,r,dt(t[2]/r),Math.atan2(t[1]/r,t[0]/r)),e}const bt=pt(34028234663852886e22)},27726:(t,e,r)=>{function n(t){switch(t){case"u8":return 1;case"u16":return 2;case"u32":return 4;case"i8":return 1;case"i16":return 2;case"i32":case"f32":return 4;case"f64":return 8;default:return}}function s(t){switch(t){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0;default:return}}function i(t){switch(t){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1;default:return}}function f(t){switch(t){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3402823e32;case"f64":return 179769e303;default:return}}r.d(e,{a:()=>s,e:()=>n,i:()=>i,m:()=>f}),r(76506)},47880:(t,e,r)=>{function n(t,e,r){return t[0]=e,t[1]=r,t}function s(t,e){const r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}function i(t,e,r){const n=e[0],s=e[1];return t[0]=r[0]*n+r[2]*s+r[4],t[1]=r[1]*n+r[3]*s+r[5],t}r.d(e,{d:()=>s,s:()=>n,t:()=>i})}}]);