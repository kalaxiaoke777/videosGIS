"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[2432],{62432:(t,e,n)=>{n.r(e),n.d(e,{loadGLTFMesh:()=>v});var o=n(48027),r=n(82058),s=n(18119),i=n(76506),a=n(26923),c=n(45087),l=n(82426),u=n(68681),f=n(81773),p=n(71337),m=n(68225),d=n(40167),g=n(72836),x=n(90779),b=n(84017),h=n(14049);async function v(t,e,n){const a=new x.D(null!=(M=n)&&M.resolveFile?{busy:!1,request:async(t,e,n)=>{const o=M.resolveFile(t),s="image"===e?"image":"binary"===e?"array-buffer":"json";return(await(0,r.default)(o,{responseType:s,signal:(0,i.i)(n)?n.signal:null})).data}}:null),c=(await(0,x.l)(a,e,n,!0)).model,g=c.lods.shift(),h=new Map,v=new Map;var M;c.textures.forEach(((t,e)=>{return h.set(e,new m.Z({data:(n=t).data,wrap:B(n.parameters.wrap)}));var n})),c.materials.forEach(((t,e)=>v.set(e,function(t,e){const n=new o.Z((s=t.color,a=t.opacity,(0,u.f)(T(s[0]),T(s[1]),T(s[2]),a))),r=t.emissiveFactor?new o.Z(function(t){return(0,l.j)(T(t[0]),T(t[1]),T(t[2]))}(t.emissiveFactor)):null;var s,a;return new p.Z({color:n,colorTexture:(0,i.u)((0,i.f)(t.textureColor,(t=>e.get(t)))),normalTexture:(0,i.u)((0,i.f)(t.textureNormal,(t=>e.get(t)))),emissiveColor:r,emissiveTexture:(0,i.u)((0,i.f)(t.textureEmissive,(t=>e.get(t)))),occlusionTexture:(0,i.u)((0,i.f)(t.textureOcclusion,(t=>e.get(t)))),alphaMode:A(t.alphaMode),alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,metallic:t.metallicFactor,roughness:t.roughnessFactor,metallicRoughnessTexture:(0,i.u)((0,i.f)(t.textureMetallicRoughness,(t=>e.get(t))))})}(t,h))));const $=function(t){let e=0;const n={color:!1,tangent:!1,normal:!1,texCoord0:!1},o=new Map,r=new Map,i=[];for(const a of t.parts){const{attributes:{position:t,normal:c,color:l,tangent:u,texCoord0:f}}=a,p=`\n      ${w(t,o)}/\n      ${w(c,o)}/\n      ${w(l,o)}/\n      ${w(u,o)}/\n      ${w(f,o)}/\n      ${y(a.transform)}\n    `;let m=!1;const d=(0,s.g)(r,p,(()=>(m=!0,{start:e,length:t.count})));m&&(e+=t.count),c&&(n.normal=!0),l&&(n.color=!0),u&&(n.tangent=!0),f&&(n.texCoord0=!0),i.push({gltf:a,writeVertices:m,region:d})}return{vertexAttributes:{position:(0,x.c)(d.B,e),normal:n.normal?(0,x.c)(d.a,e):null,tangent:n.tangent?(0,x.c)(d.g,e):null,color:n.color?(0,x.c)(d.b,e):null,texCoord0:n.texCoord0?(0,x.c)(d.e,e):null},parts:i,components:[]}}(g);for(const t of $.parts)C($,t,v);const{position:F,normal:R,tangent:S,color:k,texCoord0:E}=$.vertexAttributes,Z={position:F.typedBuffer,normal:(0,i.i)(R)?R.typedBuffer:null,tangent:(0,i.i)(S)?S.typedBuffer:null,uv:(0,i.i)(E)?E.typedBuffer:null,color:(0,i.i)(k)?k.typedBuffer:null},I=(0,b.a)(Z,t,n);return{transform:I.transform,components:$.components,spatialReference:t.spatialReference,vertexAttributes:new f.M({position:I.vertexAttributes.position,normal:I.vertexAttributes.normal,tangent:I.vertexAttributes.tangent,color:Z.color,uv:Z.uv})}}function w(t,e){if((0,i.b)(t))return"-";const n=t.typedBuffer;return`${(0,s.g)(e,n.buffer,(()=>e.size))}/${n.byteOffset}/${n.byteLength}`}function y(t){return(0,i.i)(t)?t.toString():"-"}function C(t,e,n){e.writeVertices&&function(t,e){const{position:n,normal:o,tangent:r,color:s,texCoord0:l}=t.vertexAttributes,u=e.region.start,{attributes:f,transform:p}=e.gltf,m=f.position.count;if((0,g.t)(n.slice(u,m),f.position,p),(0,i.i)(f.normal)&&(0,i.i)(o)){const t=(0,a.a)((0,c.c)(),p);(0,g.a)(o.slice(u,m),f.normal,t)}else(0,i.i)(o)&&(0,g.f)(o,0,0,1,{dstIndex:u,count:m});if((0,i.i)(f.tangent)&&(0,i.i)(r)){const t=(0,a.a)((0,c.c)(),p);(0,x.t)(r.slice(u,m),f.tangent,t)}else(0,i.i)(r)&&(0,x.f)(r,0,0,1,1,{dstIndex:u,count:m});if((0,i.i)(f.texCoord0)&&(0,i.i)(l)?(0,x.n)(l.slice(u,m),f.texCoord0):(0,i.i)(l)&&(0,x.g)(l,0,0,{dstIndex:u,count:m}),(0,i.i)(f.color)&&(0,i.i)(s)){const t=f.color,e=s.slice(u,m);if(4===t.elementCount)t instanceof d.g?(0,x.s)(e,t,255):t instanceof d.b?(0,x.a)(e,t):t instanceof d.l&&(0,x.h)(e,t,8);else{(0,x.f)(e,255,255,255,255);const n=d.m.fromTypedArray(e.typedBuffer,e.typedBufferStride);t instanceof d.a?(0,g.s)(n,t,255):t instanceof d.m?(0,g.c)(n,t):t instanceof d.n&&(0,g.b)(n,t,8)}}else(0,i.i)(s)&&(0,x.f)(s.slice(u,m),255,255,255,255)}(t,e);const o=e.gltf,r=function(t,e){switch(e){case 4:return(0,x.e)(t,h.d);case 5:return(0,x.d)(t);case 6:return(0,x.b)(t)}}(o.indices||o.attributes.position.count,o.primitiveType),s=e.region.start;if(s)for(let t=0;t<r.length;t++)r[t]+=s;t.components.push(new f.Z({faces:r,material:n.get(o.material),trustSourceNormals:!0}))}function A(t){switch(t){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function B(t){return{horizontal:M(t.s),vertical:M(t.t)}}function M(t){switch(t){case 33071:return"clamp";case 33648:return"mirror";case 10497:return"repeat"}}function T(t){return t**(1/x.C)*255}n(54174),n(91306),n(92143),n(31450),n(71552),n(40642),n(29794),n(88762),n(32101),n(60991),n(81172),n(50406),n(74673),n(21972),n(23639),n(34250),n(86656),n(22723),n(91055),n(17533),n(27794),n(6906),n(86787),n(44265),n(97714),n(2906),n(38742),n(47029),n(27726),n(41864),n(48190),n(10738),n(65775),n(35861),n(53785),n(57251),n(95587),n(60947),n(89623),n(72334),n(21801),n(73796),n(91597),n(35132),n(84069),n(12381),n(73173),n(44567),n(98380),n(92896),n(92482),n(92624),n(34987),n(84661),n(50766),n(2484),n(94446)}}]);