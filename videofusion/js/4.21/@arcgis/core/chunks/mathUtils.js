/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.21/esri/copyright.txt for details.
*/
import{E as t,R as n}from"./common.js";function a(){return[0,0,0]}function r(t){return[t[0],t[1],t[2]]}function u(t,n,a){return[t,n,a]}function s(t){const n=[0,0,0],a=Math.min(3,t.length);for(let r=0;r<a;++r)n[r]=t[r];return n}function o(t,n){return new Float64Array(t,n,3)}function e(){return u(0,0,1)}const c=[0,0,0],i=u(1,1,1);function f(t){const n=t[0],a=t[1],r=t[2];return Math.sqrt(n*n+a*a+r*r)}function h(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function M(t,n,a,r){return t[0]=n,t[1]=a,t[2]=r,t}function l(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t}function m(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t}function d(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t[2]=n[2]*a[2],t}function b(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t[2]=n[2]/a[2],t}function x(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t[2]=Math.min(n[2],a[2]),t}function q(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t[2]=Math.max(n[2],a[2]),t}function g(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t}function p(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t}function v(t,n){const a=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2];return Math.sqrt(a*a+r*r+u*u)}function _(t,n){const a=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2];return a*a+r*r+u*u}function y(t){const n=t[0],a=t[1],r=t[2];return n*n+a*a+r*r}function w(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function A(t,n){const a=n[0],r=n[1],u=n[2];let s=a*a+r*r+u*u;return s>0&&(s=1/Math.sqrt(s),t[0]=n[0]*s,t[1]=n[1]*s,t[2]=n[2]*s),t}function L(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function z(t,n,a){const r=n[0],u=n[1],s=n[2],o=a[0],e=a[1],c=a[2];return t[0]=u*c-s*e,t[1]=s*o-r*c,t[2]=r*e-u*o,t}function N(t,n,a,r){const u=n[0],s=n[1],o=n[2];return t[0]=u+r*(a[0]-u),t[1]=s+r*(a[1]-s),t[2]=o+r*(a[2]-o),t}function D(t,n,a){const r=n[0],u=n[1],s=n[2];return t[0]=a[0]*r+a[4]*u+a[8]*s+a[12],t[1]=a[1]*r+a[5]*u+a[9]*s+a[13],t[2]=a[2]*r+a[6]*u+a[10]*s+a[14],t}function E(t,n,a){const r=n[0],u=n[1],s=n[2];return t[0]=r*a[0]+u*a[3]+s*a[6],t[1]=r*a[1]+u*a[4]+s*a[7],t[2]=r*a[2]+u*a[5]+s*a[8],t}function F(t,n,a){const r=a[0],u=a[1],s=a[2],o=a[3],e=n[0],c=n[1],i=n[2];let f=u*i-s*c,h=s*e-r*i,M=r*c-u*e,l=u*M-s*h,m=s*f-r*M,d=r*h-u*f;const b=2*o;return f*=b,h*=b,M*=b,l*=2,m*=2,d*=2,t[0]=e+f+l,t[1]=c+h+m,t[2]=i+M+d,t}function I(t,n,a,r){const u=[],s=[];return u[0]=n[0]-a[0],u[1]=n[1]-a[1],u[2]=n[2]-a[2],s[0]=u[0]*Math.cos(r)-u[1]*Math.sin(r),s[1]=u[0]*Math.sin(r)+u[1]*Math.cos(r),s[2]=u[2],t[0]=s[0]+a[0],t[1]=s[1]+a[1],t[2]=s[2]+a[2],t}const P=[0,0,0],j=[0,0,0];function O(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function Q(n,a){const r=n[0],u=n[1],s=n[2],o=a[0],e=a[1],c=a[2];return Math.abs(r-o)<=t*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(u-e)<=t*Math.max(1,Math.abs(u),Math.abs(e))&&Math.abs(s-c)<=t*Math.max(1,Math.abs(s),Math.abs(c))}function G(t,n,a){const r=a[0]-n[0],u=a[1]-n[1],s=a[2]-n[2];let o=r*r+u*u+s*s;return o>0?(o=1/Math.sqrt(o),t[0]=r*o,t[1]=u*o,t[2]=s*o,t):(t[0]=0,t[1]=0,t[2]=0,t)}const R=m,X=d,Y=b,Z=v,k=_,B=f,C=y;var H=Object.freeze({__proto__:null,length:f,copy:h,set:M,add:l,subtract:m,multiply:d,divide:b,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},min:x,max:q,round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},scale:g,scaleAndAdd:p,distance:v,squaredDistance:_,squaredLength:y,negate:w,inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},normalize:A,dot:L,cross:z,lerp:N,hermite:function(t,n,a,r,u,s){const o=s*s,e=o*(2*s-3)+1,c=o*(s-2)+s,i=o*(s-1),f=o*(3-2*s);return t[0]=n[0]*e+a[0]*c+r[0]*i+u[0]*f,t[1]=n[1]*e+a[1]*c+r[1]*i+u[1]*f,t[2]=n[2]*e+a[2]*c+r[2]*i+u[2]*f,t},bezier:function(t,n,a,r,u,s){const o=1-s,e=o*o,c=s*s,i=e*o,f=3*s*e,h=3*c*o,M=c*s;return t[0]=n[0]*i+a[0]*f+r[0]*h+u[0]*M,t[1]=n[1]*i+a[1]*f+r[1]*h+u[1]*M,t[2]=n[2]*i+a[2]*f+r[2]*h+u[2]*M,t},random:function(t,a){a=a||1;const r=2*n()*Math.PI,u=2*n()-1,s=Math.sqrt(1-u*u)*a;return t[0]=Math.cos(r)*s,t[1]=Math.sin(r)*s,t[2]=u*a,t},transformMat4:D,transformMat3:E,transformQuat:F,rotateX:function(t,n,a,r){const u=[],s=[];return u[0]=n[0]-a[0],u[1]=n[1]-a[1],u[2]=n[2]-a[2],s[0]=u[0],s[1]=u[1]*Math.cos(r)-u[2]*Math.sin(r),s[2]=u[1]*Math.sin(r)+u[2]*Math.cos(r),t[0]=s[0]+a[0],t[1]=s[1]+a[1],t[2]=s[2]+a[2],t},rotateY:function(t,n,a,r){const u=[],s=[];return u[0]=n[0]-a[0],u[1]=n[1]-a[1],u[2]=n[2]-a[2],s[0]=u[2]*Math.sin(r)+u[0]*Math.cos(r),s[1]=u[1],s[2]=u[2]*Math.cos(r)-u[0]*Math.sin(r),t[0]=s[0]+a[0],t[1]=s[1]+a[1],t[2]=s[2]+a[2],t},rotateZ:I,angle:function(t,n){h(P,t),h(j,n),A(P,P),A(j,j);const a=L(P,j);return a>1?0:a<-1?Math.PI:Math.acos(a)},str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},exactEquals:O,equals:Q,direction:G,sub:R,mul:X,div:Y,dist:Z,sqrDist:k,len:B,sqrLen:C});function J(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function K(t,n,a,r,u){return t[0]=n,t[1]=a,t[2]=r,t[3]=u,t}function S(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t}function T(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t}function U(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t[2]=n[2]*a[2],t[3]=n[3]*a[3],t}function V(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t[2]=n[2]/a[2],t[3]=n[3]/a[3],t}function W(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t}function $(t,n){const a=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2],s=n[3]-t[3];return Math.sqrt(a*a+r*r+u*u+s*s)}function tt(t,n){const a=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2],s=n[3]-t[3];return a*a+r*r+u*u+s*s}function nt(t){const n=t[0],a=t[1],r=t[2],u=t[3];return Math.sqrt(n*n+a*a+r*r+u*u)}function at(t){const n=t[0],a=t[1],r=t[2],u=t[3];return n*n+a*a+r*r+u*u}function rt(t,n){const a=n[0],r=n[1],u=n[2],s=n[3];let o=a*a+r*r+u*u+s*s;return o>0&&(o=1/Math.sqrt(o),t[0]=a*o,t[1]=r*o,t[2]=u*o,t[3]=s*o),t}function ut(t,n,a,r){const u=n[0],s=n[1],o=n[2],e=n[3];return t[0]=u+r*(a[0]-u),t[1]=s+r*(a[1]-s),t[2]=o+r*(a[2]-o),t[3]=e+r*(a[3]-e),t}function st(t,n,a){const r=n[0],u=n[1],s=n[2],o=n[3];return t[0]=a[0]*r+a[4]*u+a[8]*s+a[12]*o,t[1]=a[1]*r+a[5]*u+a[9]*s+a[13]*o,t[2]=a[2]*r+a[6]*u+a[10]*s+a[14]*o,t[3]=a[3]*r+a[7]*u+a[11]*s+a[15]*o,t}function ot(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}const et=T,ct=U,it=V,ft=$,ht=tt,Mt=nt,lt=at;var mt=Object.freeze({__proto__:null,copy:J,set:K,add:S,subtract:T,multiply:U,divide:V,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t},floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t},min:function(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t[2]=Math.min(n[2],a[2]),t[3]=Math.min(n[3],a[3]),t},max:function(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t[2]=Math.max(n[2],a[2]),t[3]=Math.max(n[3],a[3]),t},round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t},scale:W,scaleAndAdd:function(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t[3]=n[3]+a[3]*r,t},distance:$,squaredDistance:tt,length:nt,squaredLength:at,negate:function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t},normalize:rt,dot:function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},lerp:ut,random:function(t,a){let r,u,s,o,e,c;a=a||1;do{r=2*n()-1,u=2*n()-1,e=r*r+u*u}while(e>=1);do{s=2*n()-1,o=2*n()-1,c=s*s+o*o}while(c>=1);const i=Math.sqrt((1-e)/c);return t[0]=a*r,t[1]=a*u,t[2]=a*s*i,t[3]=a*o*i,t},transformMat4:st,transformQuat:function(t,n,a){const r=n[0],u=n[1],s=n[2],o=a[0],e=a[1],c=a[2],i=a[3],f=i*r+e*s-c*u,h=i*u+c*r-o*s,M=i*s+o*u-e*r,l=-o*r-e*u-c*s;return t[0]=f*i+l*-o+h*-c-M*-e,t[1]=h*i+l*-e+M*-o-f*-c,t[2]=M*i+l*-c+f*-e-h*-o,t[3]=n[3],t},str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},exactEquals:ot,equals:function(n,a){const r=n[0],u=n[1],s=n[2],o=n[3],e=a[0],c=a[1],i=a[2],f=a[3];return Math.abs(r-e)<=t*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(u-c)<=t*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(s-i)<=t*Math.max(1,Math.abs(s),Math.abs(i))&&Math.abs(o-f)<=t*Math.max(1,Math.abs(o),Math.abs(f))},sub:et,mul:ct,div:it,dist:ft,sqrDist:ht,len:Mt,sqrLen:lt});const dt=new Float32Array(1),bt=Number.isFinite||function(t){return"number"==typeof t&&window.isFinite(t)},xt=Number.isNaN||function(t){return t!=t};function qt(t){--t;for(let n=1;n<32;n<<=1)t|=t>>n;return t+1}function gt(t,n,a){return Math.min(Math.max(t,n),a)}function pt(t,n){return 0===n?0:Math.round(t/n)*n}function vt(t){return 0==(t&t-1)}function _t(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function yt(t){return 10**Math.ceil(Math.LOG10E*Math.log(t))}const wt=Math.sign||function(t){return+(t>0)-+(t<0)||+t},At=Math.log2||function(t){return Math.log(t)/Math.LN2};function Lt(t,n,a){return t+(n-t)*a}function zt(t){return t*Math.PI/180}function Nt(t){return 180*t/Math.PI}function Dt(t,n=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),n)}function Et(t){return Math.acos(gt(t,-1,1))}function Ft(t){return Math.asin(gt(t,-1,1))}function It(t,n,a=1e-6){if(xt(t)||xt(n))return!1;if(t===n)return!0;const r=Math.abs(t-n),u=Math.abs(t),s=Math.abs(n);if(0===t||0===n||u<1e-12&&s<1e-12){if(r>.01*a)return!1}else if(r/(u+s)>a)return!1;return!0}function Pt(t,n,a=1e-6){if(xt(t)||xt(n))return!1;return(t>n?t-n:n-t)<=a}function jt(t){return Ot(Math.max(-Xt,Math.min(t,Xt)))}function Ot(t){return dt[0]=t,dt[0]}function Qt(t,n,a){const r=gt((a-t)/(n-t),0,1);return r*r*(3-2*r)}function Gt(t,n){const a=f(t);return M(n,a,Ft(t[2]/a),Math.atan2(t[1]/a,t[0]/a)),n}function Rt(t,n,a){return K(t,n[0],n[1],n[2],n[3]*a)}const Xt=Ot(34028234663852886e22);export{R as $,O as A,J as B,y as C,Gt as D,F as E,G as F,ot as G,B as H,rt as I,K as J,qt as K,jt as L,At as M,bt as N,i as O,Pt as P,It as Q,Xt as R,wt as S,Q as T,Lt as U,W as V,s as W,k as X,S as Y,c as Z,e as _,z as a,x as a0,q as a1,H as a2,mt as a3,ut as a4,Qt as a5,d as a6,Dt as a7,p as a8,b as a9,C as aa,tt as ab,vt as ac,_t as ad,yt as ae,Rt as af,pt as ag,I as ah,a as b,gt as c,L as d,M as e,g as f,l as g,N as h,Et as i,u as j,h as k,f as l,zt as m,A as n,Ft as o,_ as p,w as q,Nt as r,m as s,D as t,r as u,Z as v,v as w,E as x,st as y,o as z};
