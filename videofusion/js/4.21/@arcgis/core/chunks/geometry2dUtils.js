/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.21/esri/copyright.txt for details.
*/
import{P as t}from"./mathUtils.js";import{a as s,q as n,d as r,g as a,f as e,j as o,u,c,l as f}from"./vec2.js";import{a as i,b as p}from"./vec2f64.js";function h(t,s){return t[0]*s[1]-t[1]*s[0]}function m(t,s,n){const a=(s[0]-t[0])*(n[1]-t[1])-(s[1]-t[1])*(n[0]-t[0]);return Math.abs(a)/r(s,n)}function d(t,n,r,c,f=r){return s(g,c,r),s(P,n,f),function(t,s,n){const r=o(n,s)/u(n);e(t,n,r)}(U,P,g),a(t,f,U)}function y(t,r,a,e){s(g,e,a),s(P,r,a);const f=o(g,P)/u(g);return f>0?n(t,a,g,f):c(t,a)}function b(t,r,a,e){s(g,r,a);const o=e/f(g);return n(t,a,g,o)}function j(s,n){return d(P,n,s.start,s.end),t(P[0],n[0])&&t(P[1],n[1])?[p(n)]:[]}function l(s,n,r){return b(P,r,s,n),t(P[0],r[0])&&t(P[1],r[1])?[p(r)]:[]}function M(t,r){const a=t.start,e=t.end,o=r.start,u=r.end,c=s(g,e,a),f=s(x,u,o),i=h(c,f);if(Math.abs(i)<=v)return[];const p=s(P,a,o),m=h(f,p)/i,d=h(c,p)/i;if(m>=0){if(d>=0||1===r.type)return[n(U,a,c,m)]}else if(1===t.type&&(d>=0||1===r.type))return[n(U,a,c,m)];return[]}function q(t,r,a){const e=[],c=s(g,t.end,t.start),f=s(x,t.start,r),i=u(c),p=2*o(c,f),h=p*p-4*i*(u(f)-a*a);if(0===h){const s=-p/(2*i);(1===t.type||s>=0)&&e.push(n(U,t.start,c,s))}else if(h>0){const s=Math.sqrt(h),r=(-p+s)/(2*i);(1===t.type||r>=0)&&e.push(n(U,t.start,c,r));const a=(-p-s)/(2*i);(1===t.type||a>=0)&&e.push(n(P,t.start,c,a))}return e}const v=1e-6,g=i(),x=i(),P=i(),U=i();export{y as a,j as b,q as c,d,b as e,l as f,M as i,m as p};
