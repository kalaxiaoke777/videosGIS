/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.21/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import{substitute as t}from"../intl.js";import n from"../core/Handles.js";import{f as i,j as o,i as r,b as s,d as u,r as a}from"../core/lang.js";import{c as l}from"../chunks/timeUtils.js";import{aliasOf as c}from"../core/accessorSupport/decorators/aliasOf.js";import"../chunks/ensureType.js";import"../chunks/Logger.js";import{property as d}from"../core/accessorSupport/decorators/property.js";import{subclass as m}from"../core/accessorSupport/decorators/subclass.js";import h,{a as f,e as p}from"../core/Accessor.js";import v from"./Slider.js";import g from"./Widget.js";import _ from"./ShadowCast/ShadowCastViewModel.js";import{g as k}from"../chunks/uuid.js";import{g as y,a as w}from"../chunks/locale.js";import{c as b}from"../chunks/widgetUtils.js";import{t as C}from"../chunks/jsxFactory.js";import j from"../Color.js";import{m as S}from"../chunks/handleUtils.js";import{P}from"../chunks/Popover.js";import{m as M}from"../chunks/messageBundle.js";import{ag as z}from"../chunks/mathUtils.js";import{f as T,a as x}from"../chunks/number.js";import{g as O,f as V}from"../chunks/timeWidgetUtils.js";import E from"./support/DatePicker.js";import{H as D}from"../chunks/Heading.js";import"../chunks/object.js";import"../chunks/string.js";import"../core/Error.js";import"../chunks/Message.js";import"../config.js";import"../core/promiseUtils.js";import"../request.js";import"../kernel.js";import"../core/urlUtils.js";import"../chunks/assets.js";import"../chunks/jsonMap.js";import"../core/Collection.js";import"../chunks/ArrayPool.js";import"../chunks/Evented.js";import"../core/scheduling.js";import"../chunks/arrayUtils.js";import"../chunks/metadata.js";import"../chunks/deprecate.js";import"../core/accessorSupport/decorators/cast.js";import"../chunks/ResizeObserver.js";import"../chunks/_commonjsHelpers.js";import"./Slider/SliderViewModel.js";import"../chunks/domUtils.js";import"../chunks/Promise.js";import"../core/watchUtils.js";import"../chunks/projector.js";import"../chunks/jsxWidgetSupport.js";import"../chunks/screenUtils.js";import"../chunks/earthUtils.js";import"../geometry/Point.js";import"../chunks/reader.js";import"../chunks/writer.js";import"../geometry/Geometry.js";import"../chunks/JSONSupport.js";import"../geometry/SpatialReference.js";import"../geometry/support/webMercatorUtils.js";import"../chunks/Ellipsoid.js";import"../chunks/projectionEllipsoid.js";import"../chunks/sunUtils.js";import"../chunks/mat4.js";import"../chunks/common.js";import"../chunks/mat4f64.js";import"../chunks/collectionUtils.js";import"../chunks/throttle.js";import"../chunks/traversalUtils.js";import"../chunks/colorUtils.js";import"../chunks/moment.js";import"./support/DatePickerViewModel.js";import"../chunks/MomentElementViewModel.js";import"../chunks/accessibleHandler.js";const I="esri-shadow-cast",$={base:I,esriWidget:"esri-widget--panel esri-widget",esriWidgetDisabled:"esri-widget--disabled",widgetIcon:"esri-icon-measure-building-height-shadow",timeRange:`${I}__time-range`,timeRangePrimaryTick:`${I}__time-range__primary-tick`,timeRangePrimaryTickLabel:`${I}__time-range__primary-tick-label`,timeRangeSecondaryTick:`${I}__time-range__secondary-tick`,timeRangeAMPMLabel:`${I}__time-range__ampm`,timeRangeIndicator:`${I}__time-range__indicator`,datePickerContainer:`${I}__date-picker-container`,visualization:`${I}__visualization`,visualizationSelect:`${I}__visualization__select`,visualizationConfigHidden:`${I}__visualization__config--hidden`},L=`${I}__tz-picker`,R={base:L,select:`${L}__select`,selectFocused:`${L}__select--focused`,hiddenSelect:`${L}__hidden-select`},F=`${I}__label`,A=`${I}__threshold-config`,U={base:A,valueLabel:`${A}__value-label`},W=`${I}__duration-config`,H={base:W,radioGroup:`${W}__radio-group`},N={base:`${I}__discrete-config`},B=`${I}__tooltip`,q={base:B,content:`${B}__content`};let G=class extends h{constructor(){super(...arguments),this.timeRangeSlider=!0,this.timezone=!0,this.datePicker=!0,this.visualizationOptions=!0,this.colorPicker=!0,this.tooltip=!0}};e([d()],G.prototype,"timeRangeSlider",void 0),e([d()],G.prototype,"timezone",void 0),e([d()],G.prototype,"datePicker",void 0),e([d()],G.prototype,"visualizationOptions",void 0),e([d()],G.prototype,"colorPicker",void 0),e([d()],G.prototype,"tooltip",void 0),G=e([m("esri.widgets.ShadowCast.ShadowCastVisibleElements")],G);var K,J=G,Z={exports:{}};K=Z,function(){var e={y:function(e){return 1===e?"χρόνος":"χρόνια"},mo:function(e){return 1===e?"μήνας":"μήνες"},w:function(e){return 1===e?"εβδομάδα":"εβδομάδες"},d:function(e){return 1===e?"μέρα":"μέρες"},h:function(e){return 1===e?"ώρα":"ώρες"},m:function(e){return 1===e?"λεπτό":"λεπτά"},s:function(e){return 1===e?"δευτερόλεπτο":"δευτερόλεπτα"},ms:function(e){return 1===e?"χιλιοστό του δευτερολέπτου":"χιλιοστά του δευτερολέπτου"},decimal:","},t=["۰","١","٢","٣","٤","٥","٦","٧","٨","٩"],n={af:{y:"jaar",mo:function(e){return"maand"+(1===e?"":"e")},w:function(e){return 1===e?"week":"weke"},d:function(e){return 1===e?"dag":"dae"},h:function(e){return 1===e?"uur":"ure"},m:function(e){return 1===e?"minuut":"minute"},s:function(e){return"sekonde"+(1===e?"":"s")},ms:function(e){return"millisekonde"+(1===e?"":"s")},decimal:","},ar:{y:function(e){return["سنة","سنتان","سنوات"][u(e)]},mo:function(e){return["شهر","شهران","أشهر"][u(e)]},w:function(e){return["أسبوع","أسبوعين","أسابيع"][u(e)]},d:function(e){return["يوم","يومين","أيام"][u(e)]},h:function(e){return["ساعة","ساعتين","ساعات"][u(e)]},m:function(e){return["دقيقة","دقيقتان","دقائق"][u(e)]},s:function(e){return["ثانية","ثانيتان","ثواني"][u(e)]},ms:function(e){return["جزء من الثانية","جزآن من الثانية","أجزاء من الثانية"][u(e)]},decimal:",",delimiter:" و ",_formatCount:function(e,n){for(var i=s(t,{".":n}),o=e.toString().split(""),r=0;r<o.length;r++){var u=o[r];f(i,u)&&(o[r]=i[u])}return o.join("")}},bg:{y:function(e){return["години","година","години"][l(e)]},mo:function(e){return["месеца","месец","месеца"][l(e)]},w:function(e){return["седмици","седмица","седмици"][l(e)]},d:function(e){return["дни","ден","дни"][l(e)]},h:function(e){return["часа","час","часа"][l(e)]},m:function(e){return["минути","минута","минути"][l(e)]},s:function(e){return["секунди","секунда","секунди"][l(e)]},ms:function(e){return["милисекунди","милисекунда","милисекунди"][l(e)]},decimal:","},bn:{y:"বছর",mo:"মাস",w:"সপ্তাহ",d:"দিন",h:"ঘন্টা",m:"মিনিট",s:"সেকেন্ড",ms:"মিলিসেকেন্ড"},ca:{y:function(e){return"any"+(1===e?"":"s")},mo:function(e){return"mes"+(1===e?"":"os")},w:function(e){return"setman"+(1===e?"a":"es")},d:function(e){return"di"+(1===e?"a":"es")},h:function(e){return"hor"+(1===e?"a":"es")},m:function(e){return"minut"+(1===e?"":"s")},s:function(e){return"segon"+(1===e?"":"s")},ms:function(e){return"milisegon"+(1===e?"":"s")},decimal:","},cs:{y:function(e){return["rok","roku","roky","let"][c(e)]},mo:function(e){return["měsíc","měsíce","měsíce","měsíců"][c(e)]},w:function(e){return["týden","týdne","týdny","týdnů"][c(e)]},d:function(e){return["den","dne","dny","dní"][c(e)]},h:function(e){return["hodina","hodiny","hodiny","hodin"][c(e)]},m:function(e){return["minuta","minuty","minuty","minut"][c(e)]},s:function(e){return["sekunda","sekundy","sekundy","sekund"][c(e)]},ms:function(e){return["milisekunda","milisekundy","milisekundy","milisekund"][c(e)]},decimal:","},cy:{y:"flwyddyn",mo:"mis",w:"wythnos",d:"diwrnod",h:"awr",m:"munud",s:"eiliad",ms:"milieiliad"},da:{y:"år",mo:function(e){return"måned"+(1===e?"":"er")},w:function(e){return"uge"+(1===e?"":"r")},d:function(e){return"dag"+(1===e?"":"e")},h:function(e){return"time"+(1===e?"":"r")},m:function(e){return"minut"+(1===e?"":"ter")},s:function(e){return"sekund"+(1===e?"":"er")},ms:function(e){return"millisekund"+(1===e?"":"er")},decimal:","},de:{y:function(e){return"Jahr"+(1===e?"":"e")},mo:function(e){return"Monat"+(1===e?"":"e")},w:function(e){return"Woche"+(1===e?"":"n")},d:function(e){return"Tag"+(1===e?"":"e")},h:function(e){return"Stunde"+(1===e?"":"n")},m:function(e){return"Minute"+(1===e?"":"n")},s:function(e){return"Sekunde"+(1===e?"":"n")},ms:function(e){return"Millisekunde"+(1===e?"":"n")},decimal:","},el:e,en:{y:function(e){return"year"+(1===e?"":"s")},mo:function(e){return"month"+(1===e?"":"s")},w:function(e){return"week"+(1===e?"":"s")},d:function(e){return"day"+(1===e?"":"s")},h:function(e){return"hour"+(1===e?"":"s")},m:function(e){return"minute"+(1===e?"":"s")},s:function(e){return"second"+(1===e?"":"s")},ms:function(e){return"millisecond"+(1===e?"":"s")},decimal:"."},eo:{y:function(e){return"jaro"+(1===e?"":"j")},mo:function(e){return"monato"+(1===e?"":"j")},w:function(e){return"semajno"+(1===e?"":"j")},d:function(e){return"tago"+(1===e?"":"j")},h:function(e){return"horo"+(1===e?"":"j")},m:function(e){return"minuto"+(1===e?"":"j")},s:function(e){return"sekundo"+(1===e?"":"j")},ms:function(e){return"milisekundo"+(1===e?"":"j")},decimal:","},es:{y:function(e){return"año"+(1===e?"":"s")},mo:function(e){return"mes"+(1===e?"":"es")},w:function(e){return"semana"+(1===e?"":"s")},d:function(e){return"día"+(1===e?"":"s")},h:function(e){return"hora"+(1===e?"":"s")},m:function(e){return"minuto"+(1===e?"":"s")},s:function(e){return"segundo"+(1===e?"":"s")},ms:function(e){return"milisegundo"+(1===e?"":"s")},decimal:","},et:{y:function(e){return"aasta"+(1===e?"":"t")},mo:function(e){return"kuu"+(1===e?"":"d")},w:function(e){return"nädal"+(1===e?"":"at")},d:function(e){return"päev"+(1===e?"":"a")},h:function(e){return"tund"+(1===e?"":"i")},m:function(e){return"minut"+(1===e?"":"it")},s:function(e){return"sekund"+(1===e?"":"it")},ms:function(e){return"millisekund"+(1===e?"":"it")},decimal:","},eu:{y:"urte",mo:"hilabete",w:"aste",d:"egun",h:"ordu",m:"minutu",s:"segundo",ms:"milisegundo",decimal:","},fa:{y:"سال",mo:"ماه",w:"هفته",d:"روز",h:"ساعت",m:"دقیقه",s:"ثانیه",ms:"میلی ثانیه",decimal:"."},fi:{y:function(e){return 1===e?"vuosi":"vuotta"},mo:function(e){return 1===e?"kuukausi":"kuukautta"},w:function(e){return"viikko"+(1===e?"":"a")},d:function(e){return"päivä"+(1===e?"":"ä")},h:function(e){return"tunti"+(1===e?"":"a")},m:function(e){return"minuutti"+(1===e?"":"a")},s:function(e){return"sekunti"+(1===e?"":"a")},ms:function(e){return"millisekunti"+(1===e?"":"a")},decimal:","},fo:{y:"ár",mo:function(e){return 1===e?"mánaður":"mánaðir"},w:function(e){return 1===e?"vika":"vikur"},d:function(e){return 1===e?"dagur":"dagar"},h:function(e){return 1===e?"tími":"tímar"},m:function(e){return 1===e?"minuttur":"minuttir"},s:"sekund",ms:"millisekund",decimal:","},fr:{y:function(e){return"an"+(e>=2?"s":"")},mo:"mois",w:function(e){return"semaine"+(e>=2?"s":"")},d:function(e){return"jour"+(e>=2?"s":"")},h:function(e){return"heure"+(e>=2?"s":"")},m:function(e){return"minute"+(e>=2?"s":"")},s:function(e){return"seconde"+(e>=2?"s":"")},ms:function(e){return"milliseconde"+(e>=2?"s":"")},decimal:","},gr:e,he:{y:function(e){return 1===e?"שנה":"שנים"},mo:function(e){return 1===e?"חודש":"חודשים"},w:function(e){return 1===e?"שבוע":"שבועות"},d:function(e){return 1===e?"יום":"ימים"},h:function(e){return 1===e?"שעה":"שעות"},m:function(e){return 1===e?"דקה":"דקות"},s:function(e){return 1===e?"שניה":"שניות"},ms:function(e){return 1===e?"מילישנייה":"מילישניות"},decimal:"."},hr:{y:function(e){return e%10==2||e%10==3||e%10==4?"godine":"godina"},mo:function(e){return 1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci"},w:function(e){return e%10==1&&11!==e?"tjedan":"tjedna"},d:function(e){return 1===e?"dan":"dana"},h:function(e){return 1===e?"sat":2===e||3===e||4===e?"sata":"sati"},m:function(e){var t=e%10;return 2!==t&&3!==t&&4!==t||!(e<10||e>14)?"minuta":"minute"},s:function(e){var t=e%10;return 5===t||Math.floor(e)===e&&e>=10&&e<=19?"sekundi":1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi"},ms:function(e){return 1===e?"milisekunda":e%10==2||e%10==3||e%10==4?"milisekunde":"milisekundi"},decimal:","},hi:{y:"साल",mo:function(e){return 1===e?"महीना":"महीने"},w:function(e){return 1===e?"हफ़्ता":"हफ्ते"},d:"दिन",h:function(e){return 1===e?"घंटा":"घंटे"},m:"मिनट",s:"सेकंड",ms:"मिलीसेकंड",decimal:"."},hu:{y:"év",mo:"hónap",w:"hét",d:"nap",h:"óra",m:"perc",s:"másodperc",ms:"ezredmásodperc",decimal:","},id:{y:"tahun",mo:"bulan",w:"minggu",d:"hari",h:"jam",m:"menit",s:"detik",ms:"milidetik",decimal:"."},is:{y:"ár",mo:function(e){return"mánuð"+(1===e?"ur":"ir")},w:function(e){return"vik"+(1===e?"a":"ur")},d:function(e){return"dag"+(1===e?"ur":"ar")},h:function(e){return"klukkutím"+(1===e?"i":"ar")},m:function(e){return"mínút"+(1===e?"a":"ur")},s:function(e){return"sekúnd"+(1===e?"a":"ur")},ms:function(e){return"millisekúnd"+(1===e?"a":"ur")},decimal:"."},it:{y:function(e){return"ann"+(1===e?"o":"i")},mo:function(e){return"mes"+(1===e?"e":"i")},w:function(e){return"settiman"+(1===e?"a":"e")},d:function(e){return"giorn"+(1===e?"o":"i")},h:function(e){return"or"+(1===e?"a":"e")},m:function(e){return"minut"+(1===e?"o":"i")},s:function(e){return"second"+(1===e?"o":"i")},ms:function(e){return"millisecond"+(1===e?"o":"i")},decimal:","},ja:{y:"年",mo:"月",w:"週",d:"日",h:"時間",m:"分",s:"秒",ms:"ミリ秒",decimal:"."},km:{y:"ឆ្នាំ",mo:"ខែ",w:"សប្តាហ៍",d:"ថ្ងៃ",h:"ម៉ោង",m:"នាទី",s:"វិនាទី",ms:"មិល្លីវិនាទី"},kn:{y:function(e){return 1===e?"ವರ್ಷ":"ವರ್ಷಗಳು"},mo:function(e){return 1===e?"ತಿಂಗಳು":"ತಿಂಗಳುಗಳು"},w:function(e){return 1===e?"ವಾರ":"ವಾರಗಳು"},d:function(e){return 1===e?"ದಿನ":"ದಿನಗಳು"},h:function(e){return 1===e?"ಗಂಟೆ":"ಗಂಟೆಗಳು"},m:function(e){return 1===e?"ನಿಮಿಷ":"ನಿಮಿಷಗಳು"},s:function(e){return 1===e?"ಸೆಕೆಂಡ್":"ಸೆಕೆಂಡುಗಳು"},ms:function(e){return 1===e?"ಮಿಲಿಸೆಕೆಂಡ್":"ಮಿಲಿಸೆಕೆಂಡುಗಳು"}},ko:{y:"년",mo:"개월",w:"주일",d:"일",h:"시간",m:"분",s:"초",ms:"밀리 초",decimal:"."},ku:{y:"sal",mo:"meh",w:"hefte",d:"roj",h:"seet",m:"deqe",s:"saniye",ms:"mîlîçirk",decimal:","},lo:{y:"ປີ",mo:"ເດືອນ",w:"ອາທິດ",d:"ມື້",h:"ຊົ່ວໂມງ",m:"ນາທີ",s:"ວິນາທີ",ms:"ມິນລິວິນາທີ",decimal:","},lt:{y:function(e){return e%10==0||e%100>=10&&e%100<=20?"metų":"metai"},mo:function(e){return["mėnuo","mėnesiai","mėnesių"][d(e)]},w:function(e){return["savaitė","savaitės","savaičių"][d(e)]},d:function(e){return["diena","dienos","dienų"][d(e)]},h:function(e){return["valanda","valandos","valandų"][d(e)]},m:function(e){return["minutė","minutės","minučių"][d(e)]},s:function(e){return["sekundė","sekundės","sekundžių"][d(e)]},ms:function(e){return["milisekundė","milisekundės","milisekundžių"][d(e)]},decimal:","},lv:{y:function(e){return m(e)?"gads":"gadi"},mo:function(e){return m(e)?"mēnesis":"mēneši"},w:function(e){return m(e)?"nedēļa":"nedēļas"},d:function(e){return m(e)?"diena":"dienas"},h:function(e){return m(e)?"stunda":"stundas"},m:function(e){return m(e)?"minūte":"minūtes"},s:function(e){return m(e)?"sekunde":"sekundes"},ms:function(e){return m(e)?"milisekunde":"milisekundes"},decimal:","},mk:{y:function(e){return 1===e?"година":"години"},mo:function(e){return 1===e?"месец":"месеци"},w:function(e){return 1===e?"недела":"недели"},d:function(e){return 1===e?"ден":"дена"},h:function(e){return 1===e?"час":"часа"},m:function(e){return 1===e?"минута":"минути"},s:function(e){return 1===e?"секунда":"секунди"},ms:function(e){return 1===e?"милисекунда":"милисекунди"},decimal:","},mr:{y:function(e){return 1===e?"वर्ष":"वर्षे"},mo:function(e){return 1===e?"महिना":"महिने"},w:function(e){return 1===e?"आठवडा":"आठवडे"},d:"दिवस",h:"तास",m:function(e){return 1===e?"मिनिट":"मिनिटे"},s:"सेकंद",ms:"मिलिसेकंद"},ms:{y:"tahun",mo:"bulan",w:"minggu",d:"hari",h:"jam",m:"minit",s:"saat",ms:"milisaat",decimal:"."},nl:{y:"jaar",mo:function(e){return 1===e?"maand":"maanden"},w:function(e){return 1===e?"week":"weken"},d:function(e){return 1===e?"dag":"dagen"},h:"uur",m:function(e){return 1===e?"minuut":"minuten"},s:function(e){return 1===e?"seconde":"seconden"},ms:function(e){return 1===e?"milliseconde":"milliseconden"},decimal:","},no:{y:"år",mo:function(e){return"måned"+(1===e?"":"er")},w:function(e){return"uke"+(1===e?"":"r")},d:function(e){return"dag"+(1===e?"":"er")},h:function(e){return"time"+(1===e?"":"r")},m:function(e){return"minutt"+(1===e?"":"er")},s:function(e){return"sekund"+(1===e?"":"er")},ms:function(e){return"millisekund"+(1===e?"":"er")},decimal:","},pl:{y:function(e){return["rok","roku","lata","lat"][a(e)]},mo:function(e){return["miesiąc","miesiąca","miesiące","miesięcy"][a(e)]},w:function(e){return["tydzień","tygodnia","tygodnie","tygodni"][a(e)]},d:function(e){return["dzień","dnia","dni","dni"][a(e)]},h:function(e){return["godzina","godziny","godziny","godzin"][a(e)]},m:function(e){return["minuta","minuty","minuty","minut"][a(e)]},s:function(e){return["sekunda","sekundy","sekundy","sekund"][a(e)]},ms:function(e){return["milisekunda","milisekundy","milisekundy","milisekund"][a(e)]},decimal:","},pt:{y:function(e){return"ano"+(1===e?"":"s")},mo:function(e){return 1===e?"mês":"meses"},w:function(e){return"semana"+(1===e?"":"s")},d:function(e){return"dia"+(1===e?"":"s")},h:function(e){return"hora"+(1===e?"":"s")},m:function(e){return"minuto"+(1===e?"":"s")},s:function(e){return"segundo"+(1===e?"":"s")},ms:function(e){return"milissegundo"+(1===e?"":"s")},decimal:","},ro:{y:function(e){return 1===e?"an":"ani"},mo:function(e){return 1===e?"lună":"luni"},w:function(e){return 1===e?"săptămână":"săptămâni"},d:function(e){return 1===e?"zi":"zile"},h:function(e){return 1===e?"oră":"ore"},m:function(e){return 1===e?"minut":"minute"},s:function(e){return 1===e?"secundă":"secunde"},ms:function(e){return 1===e?"milisecundă":"milisecunde"},decimal:","},ru:{y:function(e){return["лет","год","года"][l(e)]},mo:function(e){return["месяцев","месяц","месяца"][l(e)]},w:function(e){return["недель","неделя","недели"][l(e)]},d:function(e){return["дней","день","дня"][l(e)]},h:function(e){return["часов","час","часа"][l(e)]},m:function(e){return["минут","минута","минуты"][l(e)]},s:function(e){return["секунд","секунда","секунды"][l(e)]},ms:function(e){return["миллисекунд","миллисекунда","миллисекунды"][l(e)]},decimal:","},sq:{y:function(e){return 1===e?"vit":"vjet"},mo:"muaj",w:"javë",d:"ditë",h:"orë",m:function(e){return"minut"+(1===e?"ë":"a")},s:function(e){return"sekond"+(1===e?"ë":"a")},ms:function(e){return"milisekond"+(1===e?"ë":"a")},decimal:","},sr:{y:function(e){return["години","година","године"][l(e)]},mo:function(e){return["месеци","месец","месеца"][l(e)]},w:function(e){return["недељи","недеља","недеље"][l(e)]},d:function(e){return["дани","дан","дана"][l(e)]},h:function(e){return["сати","сат","сата"][l(e)]},m:function(e){return["минута","минут","минута"][l(e)]},s:function(e){return["секунди","секунда","секунде"][l(e)]},ms:function(e){return["милисекунди","милисекунда","милисекунде"][l(e)]},decimal:","},ta:{y:function(e){return 1===e?"வருடம்":"ஆண்டுகள்"},mo:function(e){return 1===e?"மாதம்":"மாதங்கள்"},w:function(e){return 1===e?"வாரம்":"வாரங்கள்"},d:function(e){return 1===e?"நாள்":"நாட்கள்"},h:function(e){return 1===e?"மணி":"மணிநேரம்"},m:function(e){return"நிமிட"+(1===e?"ம்":"ங்கள்")},s:function(e){return"வினாடி"+(1===e?"":"கள்")},ms:function(e){return"மில்லி விநாடி"+(1===e?"":"கள்")}},te:{y:function(e){return"సంవత్స"+(1===e?"రం":"రాల")},mo:function(e){return"నెల"+(1===e?"":"ల")},w:function(e){return 1===e?"వారం":"వారాలు"},d:function(e){return"రోజు"+(1===e?"":"లు")},h:function(e){return"గంట"+(1===e?"":"లు")},m:function(e){return 1===e?"నిమిషం":"నిమిషాలు"},s:function(e){return 1===e?"సెకను":"సెకన్లు"},ms:function(e){return 1===e?"మిల్లీసెకన్":"మిల్లీసెకన్లు"}},uk:{y:function(e){return["років","рік","роки"][l(e)]},mo:function(e){return["місяців","місяць","місяці"][l(e)]},w:function(e){return["тижнів","тиждень","тижні"][l(e)]},d:function(e){return["днів","день","дні"][l(e)]},h:function(e){return["годин","година","години"][l(e)]},m:function(e){return["хвилин","хвилина","хвилини"][l(e)]},s:function(e){return["секунд","секунда","секунди"][l(e)]},ms:function(e){return["мілісекунд","мілісекунда","мілісекунди"][l(e)]},decimal:","},ur:{y:"سال",mo:function(e){return 1===e?"مہینہ":"مہینے"},w:function(e){return 1===e?"ہفتہ":"ہفتے"},d:"دن",h:function(e){return 1===e?"گھنٹہ":"گھنٹے"},m:"منٹ",s:"سیکنڈ",ms:"ملی سیکنڈ",decimal:"."},sk:{y:function(e){return["rok","roky","roky","rokov"][c(e)]},mo:function(e){return["mesiac","mesiace","mesiace","mesiacov"][c(e)]},w:function(e){return["týždeň","týždne","týždne","týždňov"][c(e)]},d:function(e){return["deň","dni","dni","dní"][c(e)]},h:function(e){return["hodina","hodiny","hodiny","hodín"][c(e)]},m:function(e){return["minúta","minúty","minúty","minút"][c(e)]},s:function(e){return["sekunda","sekundy","sekundy","sekúnd"][c(e)]},ms:function(e){return["milisekunda","milisekundy","milisekundy","milisekúnd"][c(e)]},decimal:","},sl:{y:function(e){return e%10==1?"leto":e%100==2?"leti":e%100==3||e%100==4||Math.floor(e)!==e&&e%100<=5?"leta":"let"},mo:function(e){return e%10==1?"mesec":e%100==2||Math.floor(e)!==e&&e%100<=5?"meseca":e%10==3||e%10==4?"mesece":"mesecev"},w:function(e){return e%10==1?"teden":e%10==2||Math.floor(e)!==e&&e%100<=4?"tedna":e%10==3||e%10==4?"tedne":"tednov"},d:function(e){return e%100==1?"dan":"dni"},h:function(e){return e%10==1?"ura":e%100==2?"uri":e%10==3||e%10==4||Math.floor(e)!==e?"ure":"ur"},m:function(e){return e%10==1?"minuta":e%10==2?"minuti":e%10==3||e%10==4||Math.floor(e)!==e&&e%100<=4?"minute":"minut"},s:function(e){return e%10==1?"sekunda":e%100==2?"sekundi":e%100==3||e%100==4||Math.floor(e)!==e?"sekunde":"sekund"},ms:function(e){return e%10==1?"milisekunda":e%100==2?"milisekundi":e%100==3||e%100==4||Math.floor(e)!==e?"milisekunde":"milisekund"},decimal:","},sv:{y:"år",mo:function(e){return"månad"+(1===e?"":"er")},w:function(e){return"veck"+(1===e?"a":"or")},d:function(e){return"dag"+(1===e?"":"ar")},h:function(e){return"timm"+(1===e?"e":"ar")},m:function(e){return"minut"+(1===e?"":"er")},s:function(e){return"sekund"+(1===e?"":"er")},ms:function(e){return"millisekund"+(1===e?"":"er")},decimal:","},sw:{y:function(e){return 1===e?"mwaka":"miaka"},mo:function(e){return 1===e?"mwezi":"miezi"},w:"wiki",d:function(e){return 1===e?"siku":"masiku"},h:function(e){return 1===e?"saa":"masaa"},m:"dakika",s:"sekunde",ms:"milisekunde",decimal:"."},tr:{y:"yıl",mo:"ay",w:"hafta",d:"gün",h:"saat",m:"dakika",s:"saniye",ms:"milisaniye",decimal:","},th:{y:"ปี",mo:"เดือน",w:"สัปดาห์",d:"วัน",h:"ชั่วโมง",m:"นาที",s:"วินาที",ms:"มิลลิวินาที",decimal:"."},vi:{y:"năm",mo:"tháng",w:"tuần",d:"ngày",h:"giờ",m:"phút",s:"giây",ms:"mili giây",decimal:","},zh_CN:{y:"年",mo:"个月",w:"周",d:"天",h:"小时",m:"分钟",s:"秒",ms:"毫秒",decimal:"."},zh_TW:{y:"年",mo:"個月",w:"周",d:"天",h:"小時",m:"分鐘",s:"秒",ms:"毫秒",decimal:"."}};function i(e){var t=function(e,i){return function(e,t){var i,o,s;e=Math.abs(e);var u,a,l,c=function(e){var t=[e.language];if(f(e,"fallbacks")){if(!h(e.fallbacks)||!e.fallbacks.length)throw new Error("fallbacks must be an array with at least one element");t=t.concat(e.fallbacks)}for(var i=0;i<t.length;i++){var o=t[i];if(f(e.languages,o))return e.languages[o];if(f(n,o))return n[o]}throw new Error("No language found.")}(t),d=[];for(i=0,o=t.units.length;i<o;i++){if(u=t.units[i],a=t.unitMeasures[u],i+1===o)if(f(t,"maxDecimalPoints")){var m=Math.pow(10,t.maxDecimalPoints),p=e/a;l=parseFloat((Math.floor(m*p)/m).toFixed(t.maxDecimalPoints))}else l=e/a;else l=Math.floor(e/a);d.push({unitCount:l,unitName:u}),e-=l*a}var v,g,_=0;for(i=0;i<d.length;i++)if(d[i].unitCount){_=i;break}if(t.round)for(i=d.length-1;i>=0&&((s=d[i]).unitCount=Math.round(s.unitCount),0!==i);i--)g=d[i-1],v=t.unitMeasures[g.unitName]/t.unitMeasures[s.unitName],(s.unitCount%v==0||t.largest&&t.largest-1<i-_)&&(g.unitCount+=s.unitCount/v,s.unitCount=0);var k,y=[];for(i=0,d.length;i<o&&((s=d[i]).unitCount&&y.push(r(s.unitCount,s.unitName,c,t)),y.length!==t.largest);i++);return y.length?(k=f(t,"delimiter")?t.delimiter:f(c,"delimiter")?c.delimiter:", ",t.conjunction&&1!==y.length?2===y.length?y.join(t.conjunction):y.length>2?y.slice(0,-1).join(k)+(t.serialComma?",":"")+t.conjunction+y.slice(-1):void 0:y.join(k)):r(0,t.units[t.units.length-1],c,t)}(e,s({},t,i||{}))};return s(t,{language:"en",spacer:" ",conjunction:"",serialComma:!0,units:["y","mo","w","d","h","m","s"],languages:{},round:!1,unitMeasures:{y:315576e5,mo:26298e5,w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3,ms:1}},e)}var o=i({});function r(e,t,n,i){var o,r;o=f(i,"decimal")?i.decimal:f(n,"decimal")?n.decimal:".",r="function"==typeof n._formatCount?n._formatCount(e,o):e.toString().replace(".",o);var s,u=n[t];return s="function"==typeof u?u(e):u,r+i.spacer+s}function s(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n])f(t,i)&&(e[i]=t[i]);return e}function u(e){return 1===e?0:2===e?1:e>2&&e<11?2:0}function a(e){return 1===e?0:Math.floor(e)!==e?1:e%10>=2&&e%10<=4&&!(e%100>10&&e%100<20)?2:3}function l(e){return Math.floor(e)!==e?2:e%100>=5&&e%100<=20||e%10>=5&&e%10<=9||e%10==0?0:e%10==1?1:e>1?2:0}function c(e){return 1===e?0:Math.floor(e)!==e?1:e%10>=2&&e%10<=4&&e%100<10?2:3}function d(e){return 1===e||e%10==1&&e%100>20?0:Math.floor(e)!==e||e%10>=2&&e%100>20||e%10>=2&&e%100<10?1:2}function m(e){return e%10==1&&e%100!=11}var h=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o.getSupportedLanguages=function(){var e=[];for(var t in n)f(n,t)&&"gr"!==t&&e.push(t);return e},o.humanizer=i,K.exports?K.exports=o:this.humanizeDuration=o}();var Q=Z.exports;const X=Q.languages;function Y(e){return 1===e?0:e%10>1&&e%10<5&&"1"!==String(e).substr(-2,1)?1:2}function ee(e,t={},n="milliseconds"){return Q(l(e,n,"milliseconds"),{language:te(),fallbacks:["en"],...t})}function te(){const e=y(),t=w(e);switch(t){case"nb":case"nn":case"no":return"no";case"pt":return"pt";case"zh":return function(e){switch(e){case"zh-HK":case"zh-TW":return"zh_TW";default:return"zh_CN"}}(e);default:return t}}function ne(e,t){const{for:n,label:i,tabIndex:o,...r}=e;return C("div",{class:b(F,null==r?void 0:r.class),key:n,...r},C("calcite-label",{for:n,scale:"s",tabIndex:o,"disable-spacing":"true"},i),t)}X.bs={y:e=>["godina","godine","godina"][Y(e)],mo:e=>["mjesec","mjeseca","mjeseci"][Y(e)],w:e=>["sedmica","sedmice","sedmica"][Y(e)],d:e=>["dan","dana","dana"][Y(e)],h:e=>["sat","sata","sati"][Y(e)],m:e=>["minuta","minute","minuta"][Y(e)],s:e=>["sekunda","sekunde","sekundi"][Y(e)],ms:e=>["milisekunda","milisekunde","milisekundi"][Y(e)],decimal:","},X.hr={...X.bs,w:e=>["tjedan","tjedna","tjedana"][Y(e)]};const ie="esri-color-picker",oe={base:ie,backgroundPattern:`${ie}__bg-pattern`,toggleButton:`${ie}__toggle-button`,popover:`${ie}__popover`,opacitySliderContainer:`${ie}__opacity-slider-container`,opacitySlider:`${ie}__opacity-slider`};let re=class extends g{constructor(e,t){super(e,t),this.value=new j,this.alphaEnabled=!0,this._handles=new n,this._containerElement=null,this._popover=null,this._popoverElement=null,this._buttonElement=null}initialize(){this.own(f((()=>{i(this._containerElement,(e=>{e.style.setProperty("--esri-color-picker-value",this.value.toCss(!0))}))})))}loadDependencies(){return Promise.all([import("../chunks/button.js"),import("../chunks/color-picker.js"),import("../chunks/label.js"),import("../chunks/slider.js")])}destroy(){this._destroyPopover(),this._handles=o(this._handles),this._buttonElement=null}render(){const e=this._messages,t=r(this._popover)&&this._popover.open?e.close:e.open;return C("div",{class:this.classes(oe.base,this.class),bind:this,afterCreate:this._onContainerAfterCreate},C("div",{class:oe.backgroundPattern}),C("calcite-button",{appearance:"transparent",label:t,class:oe.toggleButton,color:"neutral",id:this.id,scale:"s",tabIndex:-1,title:t,bind:this,onclick:this._togglePopover,afterCreate:this._onButtonAfterCreate}))}_onContainerAfterCreate(e){this._containerElement=e}_onButtonAfterCreate(e){this._destroyPopover(),this._buttonElement=e,this._popover=new P({owner:this,anchorElement:e,placement:"bottom-start",renderContentFunction:this._renderPopoverContent})}_destroyPopover(){this._handles.remove("hex-input-poll-timeout"),this._popover=o(this._popover),this._popoverElement=null}_renderPopoverContent(){const e=this.value,t=this._messages;return C("div",{class:oe.popover,tabIndex:-1,bind:this,afterCreate:this._onPopoverAfterCreate,onfocusout:this._onPopoverFocusOut,onkeydown:this._onPopoverKeyDown},C("calcite-color-picker",{appearance:"minimal",hideSaved:!0,hideChannels:!0,scale:"m",value:e.toCss(),bind:this,onCalciteColorPickerInput:this._onColorInput,afterCreate:this._onColorPickerAfterCreate}),this.alphaEnabled&&C("section",{class:oe.opacitySliderContainer},C("calcite-label",{scale:"s"},t.opacity,C("calcite-slider",{class:oe.opacitySlider,labelHandles:!0,min:0,max:1,step:.01,value:e.a,bind:this,onCalciteSliderChange:this._onOpacityChange}))))}_onColorInput(e){const t=e.target.value,n="string"==typeof t?j.fromRgb(t):new j;n.a=this.value.a,this._onChange(n)}_onOpacityChange(e){const t=e.target,n=this.value.clone();n.a=t.value,this._onChange(n)}_onChange(e){this.value=e,r(this.onChange)&&this.onChange(e)}_onColorPickerAfterCreate(e){this._handles.remove("hex-input-poll-timeout"),this._handles.add(function(e,t,n=50){let i;function o(){e()?t():i=setTimeout(o,n)}return i=setTimeout(o,n),S((()=>clearTimeout(i)))}((()=>!!e.hexInputNode),(()=>{this._handles.remove("hex-input-poll-timeout"),e.setFocus()})),"hex-input-poll-timeout")}_togglePopover(e){r(this._popover)&&this._popover.open?this._closePopover():this._openPopover()}_openPopover(){i(this._popover,(e=>e.open=!0))}_closePopover(){this._handles.remove("hex-input-poll-timeout"),i(this._popover,(e=>e.open=!1)),this._setFocusOnButton()}_setFocusOnButton(){this._handles.remove("button-focus-timeout"),this._handles.add(function(e,t){const n=setTimeout(e,t);return S((()=>clearTimeout(n)))}((()=>{i(this._buttonElement,(e=>e.setFocus()))})),"button-focus-timeout")}_onPopoverAfterCreate(e){this._popoverElement=e}_onPopoverFocusOut(e){const t=this._popoverElement;if(s(t))return;const n=e.relatedTarget;if(n&&n instanceof Node){if(t.contains(n))return;if(n===this._buttonElement||this._isAssociatedLabel(n))return}this._closePopover()}_isAssociatedLabel(e){var t;const n=this.id,i=null==(t=e.tagName)?void 0:t.toLowerCase();return"calcite-label"===i&&e.for===n||"label"===i&&e.htmlFor===n}_onPopoverKeyDown(e){"Escape"!==e.key&&"Enter"!==e.key||(e.stopPropagation(),this._closePopover())}};function se(e){return C(ne,{for:e.id,label:e.label,tabIndex:-1},C(re,{id:e.id,value:e.value,onChange:e.onChange}))}e([d()],re.prototype,"class",void 0),e([d()],re.prototype,"value",void 0),e([d()],re.prototype,"alphaEnabled",void 0),e([d()],re.prototype,"onChange",void 0),e([d()],re.prototype,"_containerElement",void 0),e([d()],re.prototype,"_popover",void 0),e([d()],re.prototype,"_popoverElement",void 0),e([d()],re.prototype,"_buttonElement",void 0),e([d(),M("esri/widgets/support/t9n/ColorPicker")],re.prototype,"_messages",void 0),re=e([m("esri.widgets.support.ColorPicker")],re);let ue=class extends g{constructor(e){super(e),this.colorPickerVisible=!0,this._selectId=`select-${k()}`,this._colorPickerId=`color-picker-${k()}`,this._onColorChange=e=>{this.options.color=e}}loadDependencies(){return Promise.all([import("../chunks/label.js"),import("../chunks/select.js")])}render(){const e=this._messages.discrete,t=e.intervalLabel,{color:n,interval:i,intervalOptions:o}=this.options;return C("div",{class:N.base},C(ne,{for:this._selectId,label:t},C("calcite-select",{id:this._selectId,label:t,bind:this,onCalciteSelectChange:this._onIntervalChange},o.toArray().map((e=>C("calcite-option",{key:e,selected:e===i,value:String(e)},u(ee(e,{round:!0,largest:2}),"")))))),this.colorPickerVisible&&C(se,{id:this._colorPickerId,label:e.colorLabel,value:n,onChange:this._onColorChange}))}_onIntervalChange(e){var t;const n=e.target,i=parseInt(null==(t=n.selectedOption)?void 0:t.value,10);Number.isFinite(i)&&(this.options.interval=i)}};e([d()],ue.prototype,"options",void 0),e([d()],ue.prototype,"colorPickerVisible",void 0),e([d(),M("esri/widgets/ShadowCast/t9n/ShadowCast")],ue.prototype,"_messages",void 0),ue=e([m("esri.widgets.ShadowCast.components.DiscreteConfigurator")],ue);let ae=class extends g{constructor(e){super(e),this.colorPickerVisible=!0,this._modeSelectorId=`mode-selector-${k()}`,this._colorPickerId=`color-picker-${k()}`,this._onColorChange=e=>{this.options.color=e},this._setContinuous=()=>{this.options.mode="continuous"},this._setHourly=()=>{this.options.mode="hourly"}}loadDependencies(){return Promise.all([import("../chunks/button.js"),import("../chunks/label.js")])}render(){const e=this._messages.duration,{color:t,mode:n}=this.options;return C("div",{class:H.base},C(ne,{for:this._modeSelectorId,label:e.modeLabel},C("div",{class:H.radioGroup},C(le,{active:"continuous"===n,label:e.continuousLabel,onclick:this._setContinuous}),C(le,{active:"hourly"===n,label:e.hourlyLabel,onclick:this._setHourly}))),this.colorPickerVisible&&C(se,{id:this._colorPickerId,label:e.colorLabel,value:t,onChange:this._onColorChange}))}};function le({active:e,label:t,...n}){return C("calcite-button",{alignment:"center",appearance:e?"solid":"outline",scale:"s",width:"half",...n},t)}e([d()],ae.prototype,"options",void 0),e([d()],ae.prototype,"colorPickerVisible",void 0),e([d(),M("esri/widgets/ShadowCast/t9n/ShadowCast")],ae.prototype,"_messages",void 0),ae=e([m("esri.widgets.ShadowCast.components.DurationConfigurator")],ae);const ce=l(1,"minutes","milliseconds"),de=l(15,"minutes","milliseconds");let me=class extends g{constructor(e,t){super(e,t),this.accumulatedShadowTime=null,this._messages=null}render(){const e=this._formattedContent;return C("div",{class:q.base},e&&C("div",{class:q.content},e))}get _formattedContent(){const e=this._messages,n=this.accumulatedShadowTime;if(s(e)||s(n))return null;const i=z(n,n<de?ce:de);return t(e.timeInShadow,{duration:ee(i,{round:!0,largest:2},"milliseconds")})}};e([d()],me.prototype,"accumulatedShadowTime",void 0),e([d()],me.prototype,"view",void 0),e([d(),M("esri/widgets/ShadowCast/t9n/ShadowCast")],me.prototype,"_messages",void 0),e([d({readOnly:!0})],me.prototype,"_formattedContent",null),me=e([m("esri.widgets.ShadowCast.components.ShadowTooltipContent")],me);let he=class extends h{constructor(e){super(e),this._updateHandle=null,this._contentContainer=this._createContainer()}initialize(){this.container.appendChild(this._contentContainer),this._contentWidget=new me({},this._contentContainer),this._updateHandle=f((()=>this._update()))}destroy(){this._updateHandle=a(this._updateHandle),this._contentWidget=o(this._contentWidget),this.container.contains(this._contentContainer)&&this.container.removeChild(this._contentContainer)}get testData(){return{displayedValue:"none"===this._contentContainer.style.display?null:this._contentWidget.container.innerText}}_update(){const{style:e}=this._contentContainer,t=this.viewModel.tooltip.screenPoint;s(t)?e.display="none":(e.display="block",e.transform=`translate(${t.x}px, ${t.y}px)`,this._contentWidget.accumulatedShadowTime=this.viewModel.tooltip.accumulatedShadowTime)}_createContainer(){const e=document.createElement("div"),{style:t}=e;return t.position="absolute",t.top="0",t.left="0",e}};e([d()],he.prototype,"viewModel",void 0),e([d()],he.prototype,"container",void 0),e([d()],he.prototype,"_contentContainer",void 0),e([d()],he.prototype,"_contentWidget",void 0),he=e([m("esri.widgets.ShadowCast.components.ShadowTooltip")],he);let fe=class extends g{constructor(e){super(e),this.colorPickerVisible=!0,this._valueSliderId=`value-slider-${k()}`,this._colorPickerId=`color-picker-${k()}`,this._valueSlider=new v({visibleElements:{labels:!1,rangeLabels:!1},steps:l(30,"minutes","milliseconds"),labelFormatFunction:(e,t)=>{const n=l(e,"milliseconds","hours");return"tick"===t?T(n,{maximumFractionDigits:0}):""}}),this._onColorChange=e=>{this.options.color=e}}initialize(){const e=({value:e})=>{this.options.value=e};this.own([p((()=>{const{value:e,minValue:t,maxValue:n}=this.options;return{value:e,minValue:t,maxValue:n}}),(({value:e,minValue:t,maxValue:n})=>{const i=this._valueSlider;i.min=t,i.max=n,i.values=[e];const o=n-t,r=Math.floor(l(o,"milliseconds","hours"));i.tickConfigs=[{mode:"count",values:2*r+1,labelsVisible:!1},{mode:"count",values:r+1,labelsVisible:!0}]})),this._valueSlider.on("thumb-change",e),this._valueSlider.on("thumb-drag",e)])}loadDependencies(){return import("../chunks/label.js")}destroy(){this._valueSlider=o(this._valueSlider)}render(){const e=this._messages.threshold,{color:t}=this.options;return C("div",{class:U.base},C(ne,{class:U.valueLabel,for:this._valueSliderId,label:e.valueLabel},this._valueSlider.render()),this.colorPickerVisible&&C(se,{id:this._colorPickerId,label:e.colorLabel,value:t,onChange:this._onColorChange}))}get testData(){return{valueSlider:this._valueSlider}}};e([d()],fe.prototype,"options",void 0),e([d()],fe.prototype,"colorPickerVisible",void 0),e([d()],fe.prototype,"testData",null),e([d()],fe.prototype,"_valueSlider",void 0),e([d(),M("esri/widgets/ShadowCast/t9n/ShadowCast")],fe.prototype,"_messages",void 0),fe=e([m("esri.widgets.ShadowCast.components.ThresholdConfigurator")],fe);let pe=class extends g{constructor(e,t){super(e,t),this._focused=!1}loadDependencies(){return import("../chunks/icon.js")}render(){const e=this._gmtOffsets,t=this._timezoneMessages;if(s(e)||s(t))return C("div",{class:R.base});const n=this.value,i=this._selectedItemText;return C("div",{class:R.base},C("select",{key:"hidden-select",class:R.hiddenSelect,"aria-label":t.chooseTimezone,title:t.chooseTimezone,value:String(n),bind:this,onfocus:this._onFocus,onblur:this._onBlur,onchange:this._onDropdownSelectChange},e.map((({utcOffset:e,shortWithUTC:t,long:n})=>C("option",{value:String(e)},t," - ",n)))),C("div",{key:"visible-select",class:this.classes({[R.select]:!0,[R.selectFocused]:this._focused})},i,C("calcite-icon",{icon:"chevron-down",scale:"s"})))}get _gmtOffsets(){return i(this._timezoneMessages,O)}get _selectedItem(){const e=this.value,t=this._gmtOffsets;return s(e)||s(t)?null:t.find((t=>t.utcOffset===e))}get _selectedItemText(){const e=this._selectedItem;return r(e)?e.short:""}_onDropdownSelectChange(e){const t=e.target,n=parseInt(null==t?void 0:t.value,10);Number.isFinite(n)&&r(this.onChange)&&this.onChange(n)}_onFocus(){this._focused=!0}_onBlur(){this._focused=!1}};e([d()],pe.prototype,"value",void 0),e([d()],pe.prototype,"onChange",void 0),e([d(),M("esri/widgets/support/t9n/timezone")],pe.prototype,"_timezoneMessages",void 0),e([d()],pe.prototype,"_focused",void 0),e([d({readOnly:!0})],pe.prototype,"_gmtOffsets",null),e([d({readOnly:!0})],pe.prototype,"_selectedItem",null),e([d({readOnly:!0})],pe.prototype,"_selectedItemText",null),pe=e([m("esri.widgets.ShadowCast.components.TimezonePicker")],pe);const ve={hour:"2-digit",minute:"2-digit",timeZone:"UTC"},ge=/(.*)\s(.*)/,_e={labelFormatFunction:V,min:0,max:1439,steps:15,rangeLabelInputsEnabled:!1,visibleElements:{labels:!1,rangeLabels:!1},tickConfigs:[{mode:"position",values:[0,360,720,1080,1439],labelsVisible:!0,tickCreatedFunction:(e,t,n)=>{t.classList.add($.timeRangePrimaryTick),n.classList.add($.timeRangePrimaryTickLabel);const i=n.innerText.match(ge);i&&(n.innerHTML=`${i[1]}<br><div class="${$.timeRangeAMPMLabel}">${i[2]}</div>`)}},{mode:"position",values:[120,240,480,600,840,960,1200,1320],tickCreatedFunction:(e,t)=>{t.classList.add($.timeRangeSecondaryTick)}}]};let ke=class extends g{constructor(e,t){super(e,t),this.viewModel=null,this.view=null,this.headingLevel=4,this.iconClass=$.widgetIcon,this.label=void 0,this.visibleElements=new J,this._handles=new n,this._defaultViewModel=null,this._timeSlider=new v({..._e,container:document.createElement("div")}),this._tooltip=null,this._onTimezoneChange=e=>{this.viewModel.utcOffset=e},this._onDateChange=e=>{this.viewModel.date=e},null!=e&&e.viewModel||(this._defaultViewModel=new _({view:null==e?void 0:e.view}),this.viewModel=this._defaultViewModel)}initialize(){this._handles.add([p((()=>({viewModel:this.viewModel,slider:this._timeSlider})),(e=>this._connectTimeSlider(e))),p((()=>({container:i(this.view,(e=>e.surface)),viewModel:this.viewModel,tooltipVisible:this.visibleElements.tooltip})),(({container:e,viewModel:t,tooltipVisible:n})=>{this._tooltip=o(this._tooltip),!s(e)&&n&&(this._tooltip=new he({viewModel:t,container:e}))})),p((()=>({viewModel:this.viewModel,visible:this.visible})),(({viewModel:e,visible:t})=>e.setRunning(t)))])}destroy(){this._handles=o(this._handles),this._timeSlider=o(this._timeSlider),r(this._defaultViewModel)&&this.viewModel!==this._defaultViewModel&&this._defaultViewModel.destroy()}loadDependencies(){return import("../chunks/select.js")}render(){const{visibleElements:e,viewModel:t}=this,n="disabled"===t.state;return C("div",{key:this,class:this.classes($.base,$.esriWidget,{[$.esriWidgetDisabled]:n})},this._renderTimeRangeSection(),e.visualizationOptions&&this._renderVisualizationOptionsSection())}get testData(){return{tooltip:this._tooltip}}_connectTimeSlider({viewModel:e,slider:t}){if(this._handles.remove("slider"),s(t))return;const n=e=>l(e,"milliseconds","minutes"),i=e=>l(e,"minutes","milliseconds"),o=({index:t,value:n})=>{0===t?e.startTimeOfDay=i(n):e.endTimeOfDay=i(n)};this._handles.add([p((()=>[e.startTimeOfDay,e.endTimeOfDay]),(e=>{t.values=e.map(n)})),t.on("thumb-change",o),t.on("thumb-drag",o),t.on("segment-drag",(()=>{[e.startTimeOfDay,e.endTimeOfDay]=t.values.map(i)}))],"slider")}_renderTimeRangeSection(){const{visibleElements:e}=this;return e.timeRangeSlider||e.datePicker?C("section",{key:"time-range",class:$.timeRange},C(D,{level:this.headingLevel},this.messages.timeLabel),e.timeRangeSlider&&this._renderTimeRange(),e.datePicker&&this._renderDatePicker()):null}_renderTimeRange(){const{messages:e,viewModel:n,visibleElements:i}=this,{startTimeOfDay:o,endTimeOfDay:r}=n,[s,u]=[o,r].map((e=>x(new Date(e),ve)));return[C("div",{key:"time-range-indicator",class:$.timeRangeIndicator},t(e.timeRange,{start:s,end:u}),i.timezone&&C(pe,{value:n.utcOffset,onChange:this._onTimezoneChange})),C("div",{key:"time-slider-container",bind:this,afterCreate:this._timeSliderContainerAfterCreate,afterRemoved:this._timeSliderContainerAfterRemoved})]}_timeSliderContainerAfterCreate(e){i(this._timeSlider,(t=>{e.appendChild(t.container)}))}_timeSliderContainerAfterRemoved(e){i(this._timeSlider,(t=>{e.removeChild(t.container)}))}_renderDatePicker(){return C("div",{key:"date-picker",class:$.datePickerContainer},C(E,{value:this.viewModel.date,onChange:this._onDateChange}))}_renderVisualizationOptionsSection(){const{headingLevel:e,messages:t,viewModel:n,visibleElements:i}=this,o=i.colorPicker,r=e=>this.classes(n.visualizationType===e?null:$.visualizationConfigHidden);return C("section",{key:"visualization",class:$.visualization},C(D,{level:e},t.visualizationLabel),this._renderVisualizationSelect(),C("div",{key:"threshold-configurator",class:r("threshold")},C(fe,{options:n.thresholdOptions,colorPickerVisible:o})),C("div",{key:"duration-configurator",class:r("duration")},C(ae,{options:n.durationOptions,colorPickerVisible:o})),C("div",{key:"discrete-configurator",class:r("discrete")},C(ue,{options:n.discreteOptions,colorPickerVisible:o})))}_renderVisualizationSelect(){const e=this.messages,t=this.viewModel.visualizationType;return C("calcite-select",{class:$.visualizationSelect,key:"visualization-select",label:e.visualizationLabel,bind:this,onCalciteSelectChange:this._onVisualizationTypeChange},[{type:"threshold",label:e.threshold.label},{type:"duration",label:e.duration.label},{type:"discrete",label:e.discrete.label}].map((({type:e,label:n})=>C("calcite-option",{value:e,selected:e===t},n))))}_onVisualizationTypeChange(e){var t;const n=null==(t=e.target.selectedOption)?void 0:t.value;this.viewModel.visualizationType=null!=n?n:"threshold"}};e([d()],ke.prototype,"viewModel",void 0),e([c("viewModel.view")],ke.prototype,"view",void 0),e([d()],ke.prototype,"headingLevel",void 0),e([d()],ke.prototype,"iconClass",void 0),e([c("messages.widgetLabel",{overridable:!0})],ke.prototype,"label",void 0),e([d({type:J,nonNullable:!0})],ke.prototype,"visibleElements",void 0),e([d(),M("esri/widgets/ShadowCast/t9n/ShadowCast")],ke.prototype,"messages",void 0),e([d()],ke.prototype,"_defaultViewModel",void 0),e([d()],ke.prototype,"_timeSlider",void 0),e([d()],ke.prototype,"_tooltip",void 0),ke=e([m("esri.widgets.ShadowCast")],ke);var ye=ke;export{ye as default};
